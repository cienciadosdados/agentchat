{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/hooks/use-session.ts"],"sourcesContent":["import { authClient } from \"@/lib/auth-client\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\n\r\nexport function useSession() {\r\n  const {\r\n    data: session,\r\n    refetch,\r\n    isLoading,\r\n  } = useQuery({\r\n    queryKey: [\"session\"],\r\n    queryFn: () => authClient.getSession().then((res) => res.data),\r\n    refetchOnMount: false,\r\n    refetchOnWindowFocus: false,\r\n    staleTime: Infinity,\r\n  });\r\n\r\n  const isAdmin = session?.user.role === \"admin\";\r\n\r\n  return {\r\n    session,\r\n    refetch,\r\n    isLoading,\r\n    isAdmin,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS;IACd,MAAM,EACJ,MAAM,OAAO,EACb,OAAO,EACP,SAAS,EACV,GAAG,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD,EAAE;QACX,UAAU;YAAC;SAAU;QACrB,SAAS,IAAM,2IAAA,CAAA,aAAU,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;QAC7D,gBAAgB;QAChB,sBAAsB;QACtB,WAAW;IACb;IAEA,MAAM,UAAU,SAAS,KAAK,SAAS;IAEvC,OAAO;QACL;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/app-sidebar/nav-user.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useSession } from \"@/hooks/use-session\";\r\nimport { authClient } from \"@/lib/auth-client\";\r\nimport { useRouter } from \"@bprogress/next/app\";\r\nimport { BadgeCheckIcon, LogOutIcon } from \"lucide-react\";\r\n\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n  EntityAvatar,\r\n  Skeleton,\r\n} from \"@agentset/ui\";\r\n\r\nexport function NavUser() {\r\n  const { session, isLoading } = useSession();\r\n\r\n  const router = useRouter();\r\n  const [isSigningOut, setIsSigningOut] = useState(false);\r\n\r\n  const handleSignOut = async () => {\r\n    setIsSigningOut(true);\r\n    await authClient.signOut({\r\n      fetchOptions: {\r\n        onSuccess() {\r\n          router.replace(\"/\");\r\n        },\r\n      },\r\n    });\r\n    setIsSigningOut(false);\r\n  };\r\n\r\n  if (isLoading || !session)\r\n    return (\r\n      <Skeleton className=\"size-8 rounded-full border-2 border-transparent\" />\r\n    );\r\n\r\n  const { user } = session;\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <button className=\"border-border overflow-hidden rounded-full border-2 data-[state=open]:border-black\">\r\n          <EntityAvatar\r\n            entity={user}\r\n            fallbackClassName=\"bg-muted text-foreground \"\r\n          />\r\n        </button>\r\n      </DropdownMenuTrigger>\r\n\r\n      <DropdownMenuContent\r\n        className=\"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg\"\r\n        side=\"bottom\"\r\n        align=\"end\"\r\n        sideOffset={4}\r\n      >\r\n        <DropdownMenuLabel className=\"p-0 font-normal\">\r\n          <div className=\"flex items-center gap-2 px-1 py-1.5 text-left text-sm\">\r\n            <EntityAvatar\r\n              entity={user}\r\n              fallbackClassName=\"bg-muted text-foreground\"\r\n            />\r\n            <div className=\"grid flex-1 text-left text-sm leading-tight\">\r\n              {user.name ? (\r\n                <>\r\n                  <span className=\"truncate font-semibold\">{user.name}</span>\r\n                  <span className=\"truncate text-xs\">{user.email}</span>\r\n                </>\r\n              ) : (\r\n                <span className=\"truncate font-semibold\">{user.email}</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </DropdownMenuLabel>\r\n\r\n        <DropdownMenuSeparator />\r\n\r\n        <DropdownMenuItem asChild>\r\n          <Link href=\"/profile\">\r\n            <BadgeCheckIcon />\r\n            Account\r\n          </Link>\r\n        </DropdownMenuItem>\r\n\r\n        <DropdownMenuItem onClick={handleSignOut} disabled={isSigningOut}>\r\n          <LogOutIcon />\r\n          Log out\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AATA;;;;;;;;;AAoBO,SAAS;IACd,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,6IAAA,CAAA,aAAU,AAAD;IAExC,MAAM,SAAS,CAAA,GAAA,kJAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,gBAAgB;QACpB,gBAAgB;QAChB,MAAM,2IAAA,CAAA,aAAU,CAAC,OAAO,CAAC;YACvB,cAAc;gBACZ;oBACE,OAAO,OAAO,CAAC;gBACjB;YACF;QACF;QACA,gBAAgB;IAClB;IAEA,IAAI,aAAa,CAAC,SAChB,qBACE,8OAAC,gJAAA,CAAA,WAAQ;QAAC,WAAU;;;;;;IAGxB,MAAM,EAAE,IAAI,EAAE,GAAG;IAEjB,qBACE,8OAAC,wJAAA,CAAA,eAAY;;0BACX,8OAAC,wJAAA,CAAA,sBAAmB;gBAAC,OAAO;0BAC1B,cAAA,8OAAC;oBAAO,WAAU;8BAChB,cAAA,8OAAC,8IAAA,CAAA,eAAY;wBACX,QAAQ;wBACR,mBAAkB;;;;;;;;;;;;;;;;0BAKxB,8OAAC,wJAAA,CAAA,sBAAmB;gBAClB,WAAU;gBACV,MAAK;gBACL,OAAM;gBACN,YAAY;;kCAEZ,8OAAC,wJAAA,CAAA,oBAAiB;wBAAC,WAAU;kCAC3B,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,8IAAA,CAAA,eAAY;oCACX,QAAQ;oCACR,mBAAkB;;;;;;8CAEpB,8OAAC;oCAAI,WAAU;8CACZ,KAAK,IAAI,iBACR;;0DACE,8OAAC;gDAAK,WAAU;0DAA0B,KAAK,IAAI;;;;;;0DACnD,8OAAC;gDAAK,WAAU;0DAAoB,KAAK,KAAK;;;;;;;qEAGhD,8OAAC;wCAAK,WAAU;kDAA0B,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;kCAM5D,8OAAC,wJAAA,CAAA,wBAAqB;;;;;kCAEtB,8OAAC,wJAAA,CAAA,mBAAgB;wBAAC,OAAO;kCACvB,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;;8CACT,8OAAC,sNAAA,CAAA,iBAAc;;;;;gCAAG;;;;;;;;;;;;kCAKtB,8OAAC,wJAAA,CAAA,mBAAgB;wBAAC,SAAS;wBAAe,UAAU;;0CAClD,8OAAC,8MAAA,CAAA,aAAU;;;;;4BAAG;;;;;;;;;;;;;;;;;;;AAMxB","debugId":null}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/create-namespace/details-step.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo } from \"react\";\r\nimport { useOrganization } from \"@/contexts/organization-context\";\r\nimport { toSlug } from \"@/lib/slug\";\r\nimport { trpcClient } from \"@/trpc/react\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\n\r\nimport {\r\n  Button,\r\n  DialogFooter,\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n  Input,\r\n} from \"@agentset/ui\";\r\n\r\nconst createFormSchema = (orgId: string) =>\r\n  z.object({\r\n    name: z.string().min(1),\r\n    slug: z\r\n      .string()\r\n      .min(1)\r\n      .trim()\r\n      .regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/)\r\n      .refine(\r\n        async (value) => {\r\n          if (value === \"\") return false;\r\n          const result = await trpcClient.namespace.checkSlug.query({\r\n            slug: value,\r\n            orgId,\r\n          });\r\n          return !result;\r\n        },\r\n        { message: \"Slug is already taken\" },\r\n      ),\r\n  });\r\ntype FormSchema = z.infer<ReturnType<typeof createFormSchema>>;\r\n\r\nexport default function CreateNamespaceDetailsStep({\r\n  onSubmit,\r\n  defaultValues,\r\n}: {\r\n  onSubmit: (values: FormSchema) => void;\r\n  defaultValues: Partial<FormSchema>;\r\n}) {\r\n  const { activeOrganization } = useOrganization();\r\n  const formSchema = useMemo(\r\n    () => createFormSchema(activeOrganization.id),\r\n    [activeOrganization.id],\r\n  );\r\n\r\n  const form = useForm<FormSchema>({\r\n    resolver: zodResolver(formSchema, undefined, { mode: \"async\" }),\r\n    reValidateMode: \"onBlur\",\r\n    defaultValues: defaultValues,\r\n  });\r\n\r\n  const name = form.watch(\"name\");\r\n  const { formState, setValue } = form;\r\n  useEffect(() => {\r\n    if (!formState.touchedFields.slug) {\r\n      setValue(\"slug\", toSlug(name));\r\n    }\r\n  }, [name, formState, setValue]);\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)}>\r\n        <div className=\"flex flex-col gap-6\">\r\n          <FormField\r\n            control={form.control}\r\n            name=\"name\"\r\n            render={({ field }) => (\r\n              <FormItem>\r\n                <FormLabel>Name</FormLabel>\r\n                <FormControl>\r\n                  <Input placeholder=\"Example\" {...field} />\r\n                </FormControl>\r\n\r\n                <FormMessage />\r\n              </FormItem>\r\n            )}\r\n          />\r\n\r\n          <FormField\r\n            control={form.control}\r\n            name=\"slug\"\r\n            render={({ field }) => (\r\n              <FormItem>\r\n                <FormLabel>Slug</FormLabel>\r\n                <FormControl>\r\n                  <Input placeholder=\"example\" {...field} />\r\n                </FormControl>\r\n\r\n                <FormMessage />\r\n              </FormItem>\r\n            )}\r\n          />\r\n        </div>\r\n\r\n        <DialogFooter className=\"mt-6\">\r\n          <Button type=\"submit\">Next</Button>\r\n        </DialogFooter>\r\n      </form>\r\n    </Form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAVA;;;;;;;;;;AAsBA,MAAM,mBAAmB,CAAC,QACxB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACP,MAAM,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACrB,MAAM,oIAAA,CAAA,IAAC,CACJ,MAAM,GACN,GAAG,CAAC,GACJ,IAAI,GACJ,KAAK,CAAC,8BACN,MAAM,CACL,OAAO;YACL,IAAI,UAAU,IAAI,OAAO;YACzB,MAAM,SAAS,MAAM,oIAAA,CAAA,aAAU,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC;gBACxD,MAAM;gBACN;YACF;YACA,OAAO,CAAC;QACV,GACA;YAAE,SAAS;QAAwB;IAEzC;AAGa,SAAS,2BAA2B,EACjD,QAAQ,EACR,aAAa,EAId;IACC,MAAM,EAAE,kBAAkB,EAAE,GAAG,CAAA,GAAA,0JAAA,CAAA,kBAAe,AAAD;IAC7C,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EACvB,IAAM,iBAAiB,mBAAmB,EAAE,GAC5C;QAAC,mBAAmB,EAAE;KAAC;IAGzB,MAAM,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAc;QAC/B,UAAU,CAAA,GAAA,8JAAA,CAAA,cAAW,AAAD,EAAE,YAAY,WAAW;YAAE,MAAM;QAAQ;QAC7D,gBAAgB;QAChB,eAAe;IACjB;IAEA,MAAM,OAAO,KAAK,KAAK,CAAC;IACxB,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG;IAChC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,UAAU,aAAa,CAAC,IAAI,EAAE;YACjC,SAAS,QAAQ,CAAA,GAAA,iIAAA,CAAA,SAAM,AAAD,EAAE;QAC1B;IACF,GAAG;QAAC;QAAM;QAAW;KAAS;IAE9B,qBACE,8OAAC,4IAAA,CAAA,OAAI;QAAE,GAAG,IAAI;kBACZ,cAAA,8OAAC;YAAK,UAAU,KAAK,YAAY,CAAC;;8BAChC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4IAAA,CAAA,YAAS;4BACR,SAAS,KAAK,OAAO;4BACrB,MAAK;4BACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,8OAAC,4IAAA,CAAA,WAAQ;;sDACP,8OAAC,4IAAA,CAAA,YAAS;sDAAC;;;;;;sDACX,8OAAC,4IAAA,CAAA,cAAW;sDACV,cAAA,8OAAC,6IAAA,CAAA,QAAK;gDAAC,aAAY;gDAAW,GAAG,KAAK;;;;;;;;;;;sDAGxC,8OAAC,4IAAA,CAAA,cAAW;;;;;;;;;;;;;;;;sCAKlB,8OAAC,4IAAA,CAAA,YAAS;4BACR,SAAS,KAAK,OAAO;4BACrB,MAAK;4BACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,8OAAC,4IAAA,CAAA,WAAQ;;sDACP,8OAAC,4IAAA,CAAA,YAAS;sDAAC;;;;;;sDACX,8OAAC,4IAAA,CAAA,cAAW;sDACV,cAAA,8OAAC,6IAAA,CAAA,QAAK;gDAAC,aAAY;gDAAW,GAAG,KAAK;;;;;;;;;;;sDAGxC,8OAAC,4IAAA,CAAA,cAAW;;;;;;;;;;;;;;;;;;;;;;8BAMpB,8OAAC,8IAAA,CAAA,eAAY;oBAAC,WAAU;8BACtB,cAAA,8OAAC,8IAAA,CAAA,SAAM;wBAAC,MAAK;kCAAS;;;;;;;;;;;;;;;;;;;;;;AAKhC","debugId":null}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/lib/string-utils.ts"],"sourcesContent":["import { toSlug } from \"./slug\";\r\n\r\nconst tokenCharacters =\r\n  \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\nconst tokenCharactersLength = tokenCharacters.length;\r\n\r\nexport function generateToken(length: number) {\r\n  let result = \"\";\r\n  for (let i = 0; i < length; i++)\r\n    result += tokenCharacters.charAt(\r\n      Math.floor(Math.random() * tokenCharactersLength),\r\n    );\r\n  return result;\r\n}\r\n\r\nexport function truncate(str: string, length: number) {\r\n  if (str.length <= length) return str;\r\n  return str.slice(0, length);\r\n}\r\n\r\nexport function filenamize(value: string, length = 20) {\r\n  const token = generateToken(4);\r\n  const slug = toSlug(value, token);\r\n  const hyphenCount = (slug.match(/-/g) || []).length;\r\n  length = length + hyphenCount + token.length;\r\n\r\n  return truncate(slug, length);\r\n}\r\n\r\nexport function capitalize(str?: string | null) {\r\n  if (!str || typeof str !== \"string\") return str;\r\n\r\n  return str\r\n    .split(\" \")\r\n    .map(\r\n      (word) =>\r\n        word.charAt(0).toUpperCase() +\r\n        (word.length > 1 ? word.slice(1).toLowerCase() : \"\"),\r\n    )\r\n    .join(\" \");\r\n}\r\n\r\nexport function camelCaseToWords(str: string) {\r\n  return str\r\n    .split(/(?=[A-Z])/)\r\n    .map(capitalize)\r\n    .join(\" \");\r\n}\r\n\r\nexport function sanitizeText(text: string) {\r\n  return text.replaceAll(\"<has_function_call>\", \"\");\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,MAAM,kBACJ;AACF,MAAM,wBAAwB,gBAAgB,MAAM;AAE7C,SAAS,cAAc,MAAc;IAC1C,IAAI,SAAS;IACb,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,IAC1B,UAAU,gBAAgB,MAAM,CAC9B,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;IAE/B,OAAO;AACT;AAEO,SAAS,SAAS,GAAW,EAAE,MAAc;IAClD,IAAI,IAAI,MAAM,IAAI,QAAQ,OAAO;IACjC,OAAO,IAAI,KAAK,CAAC,GAAG;AACtB;AAEO,SAAS,WAAW,KAAa,EAAE,SAAS,EAAE;IACnD,MAAM,QAAQ,cAAc;IAC5B,MAAM,OAAO,CAAA,GAAA,iIAAA,CAAA,SAAM,AAAD,EAAE,OAAO;IAC3B,MAAM,cAAc,CAAC,KAAK,KAAK,CAAC,SAAS,EAAE,EAAE,MAAM;IACnD,SAAS,SAAS,cAAc,MAAM,MAAM;IAE5C,OAAO,SAAS,MAAM;AACxB;AAEO,SAAS,WAAW,GAAmB;IAC5C,IAAI,CAAC,OAAO,OAAO,QAAQ,UAAU,OAAO;IAE5C,OAAO,IACJ,KAAK,CAAC,KACN,GAAG,CACF,CAAC,OACC,KAAK,MAAM,CAAC,GAAG,WAAW,KAC1B,CAAC,KAAK,MAAM,GAAG,IAAI,KAAK,KAAK,CAAC,GAAG,WAAW,KAAK,EAAE,GAEtD,IAAI,CAAC;AACV;AAEO,SAAS,iBAAiB,GAAW;IAC1C,OAAO,IACJ,KAAK,CAAC,aACN,GAAG,CAAC,YACJ,IAAI,CAAC;AACV;AAEO,SAAS,aAAa,IAAY;IACvC,OAAO,KAAK,UAAU,CAAC,uBAAuB;AAChD","debugId":null}},
    {"offset": {"line": 472, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/zod.ts"],"sourcesContent":["import * as z from \"zod\";\r\nimport { extendZodWithOpenApi } from \"zod-openapi\";\r\n\r\nextendZodWithOpenApi(z);\r\n\r\nexport default z;\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA,CAAA,GAAA,6JAAA,CAAA,uBAAoB,AAAD,EAAE;uCAEN","debugId":null}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/embedding-model/openai.ts"],"sourcesContent":["import z from \"../zod\";\r\n\r\nexport const openaiEmbeddingModelEnum = z.enum([\r\n  \"text-embedding-3-small\",\r\n  \"text-embedding-3-large\",\r\n]);\r\n\r\nexport const OpenAIEmbeddingConfigSchema = z\r\n  .object({\r\n    provider: z.literal(\"OPENAI\"),\r\n    model: openaiEmbeddingModelEnum,\r\n    apiKey: z.string(),\r\n  })\r\n  .openapi({\r\n    title: \"OpenAI Embedding Config\",\r\n  });\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,2BAA2B,oIAAA,CAAA,UAAC,CAAC,IAAI,CAAC;IAC7C;IACA;CACD;AAEM,MAAM,8BAA8B,oIAAA,CAAA,UAAC,CACzC,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IACpB,OAAO;IACP,QAAQ,oIAAA,CAAA,UAAC,CAAC,MAAM;AAClB,GACC,OAAO,CAAC;IACP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/embedding-model/azure.ts"],"sourcesContent":["import z from \"../zod\";\r\nimport { openaiEmbeddingModelEnum } from \"./openai\";\r\n\r\nexport const AzureEmbeddingConfigSchema = z\r\n  .object({\r\n    provider: z.literal(\"AZURE_OPENAI\"),\r\n    model: openaiEmbeddingModelEnum,\r\n    baseUrl: z\r\n      .string()\r\n      .url()\r\n      .describe(\"The base URL of the Azure OpenAI API.\")\r\n      .openapi({\r\n        example: `https://example.openai.azure.com/openai/deployments`,\r\n      }),\r\n    deployment: z\r\n      .string()\r\n      .describe(\"The deployment name of the Azure OpenAI API.\"),\r\n    apiKey: z.string().describe(\"The API key for the Azure OpenAI API.\"),\r\n    apiVersion: z\r\n      .string()\r\n      .optional()\r\n      .describe(\"The API version for the Azure OpenAI API.\"),\r\n  })\r\n  .openapi({\r\n    title: \"Azure Embedding Config\",\r\n  });\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,6BAA6B,oIAAA,CAAA,UAAC,CACxC,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IACpB,OAAO,6JAAA,CAAA,2BAAwB;IAC/B,SAAS,oIAAA,CAAA,UAAC,CACP,MAAM,GACN,GAAG,GACH,QAAQ,CAAC,yCACT,OAAO,CAAC;QACP,SAAS,CAAC,mDAAmD,CAAC;IAChE;IACF,YAAY,oIAAA,CAAA,UAAC,CACV,MAAM,GACN,QAAQ,CAAC;IACZ,QAAQ,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC5B,YAAY,oIAAA,CAAA,UAAC,CACV,MAAM,GACN,QAAQ,GACR,QAAQ,CAAC;AACd,GACC,OAAO,CAAC;IACP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 535, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/embedding-model/google.ts"],"sourcesContent":["import z from \"../zod\";\r\n\r\nexport const googleEmbeddingModelEnum = z.enum([\"text-embedding-004\"]);\r\n\r\nexport const GoogleEmbeddingConfigSchema = z\r\n  .object({\r\n    provider: z.literal(\"GOOGLE\"),\r\n    model: googleEmbeddingModelEnum,\r\n    apiKey: z.string(),\r\n  })\r\n  .openapi({\r\n    title: \"Google Embedding Config\",\r\n  });\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,2BAA2B,oIAAA,CAAA,UAAC,CAAC,IAAI,CAAC;IAAC;CAAqB;AAE9D,MAAM,8BAA8B,oIAAA,CAAA,UAAC,CACzC,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IACpB,OAAO;IACP,QAAQ,oIAAA,CAAA,UAAC,CAAC,MAAM;AAClB,GACC,OAAO,CAAC;IACP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 557, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/embedding-model/voyage.ts"],"sourcesContent":["import z from \"../zod\";\r\n\r\nexport const voyageEmbeddingModelEnum = z.enum([\r\n  \"voyage-3-large\",\r\n  \"voyage-3\",\r\n  \"voyage-3-lite\",\r\n  \"voyage-code-3\",\r\n  \"voyage-finance-2\",\r\n  \"voyage-law-2\",\r\n]);\r\n\r\nexport const VoyageEmbeddingConfigSchema = z\r\n  .object({\r\n    provider: z.literal(\"VOYAGE\"),\r\n    model: voyageEmbeddingModelEnum,\r\n    apiKey: z.string(),\r\n  })\r\n  .openapi({\r\n    title: \"Voyage Embedding Config\",\r\n  });\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,2BAA2B,oIAAA,CAAA,UAAC,CAAC,IAAI,CAAC;IAC7C;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,8BAA8B,oIAAA,CAAA,UAAC,CACzC,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IACpB,OAAO;IACP,QAAQ,oIAAA,CAAA,UAAC,CAAC,MAAM;AAClB,GACC,OAAO,CAAC;IACP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 584, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/embedding-model/index.ts"],"sourcesContent":["import z from \"../zod\";\r\nimport { AzureEmbeddingConfigSchema } from \"./azure\";\r\nimport { GoogleEmbeddingConfigSchema } from \"./google\";\r\nimport { OpenAIEmbeddingConfigSchema } from \"./openai\";\r\nimport { VoyageEmbeddingConfigSchema } from \"./voyage\";\r\n\r\nexport const EmbeddingConfigSchema = z\r\n  .discriminatedUnion(\"provider\", [\r\n    OpenAIEmbeddingConfigSchema,\r\n    AzureEmbeddingConfigSchema,\r\n    VoyageEmbeddingConfigSchema,\r\n    GoogleEmbeddingConfigSchema,\r\n  ])\r\n  .describe(\r\n    \"The embedding model config. If not provided, our managed embedding model will be used. Note: You can't change the embedding model config after the namespace is created.\",\r\n  );\r\n\r\nexport type EmbeddingConfig = z.infer<typeof EmbeddingConfigSchema>;\r\n\r\nexport { AzureEmbeddingConfigSchema } from \"./azure\";\r\nexport { GoogleEmbeddingConfigSchema } from \"./google\";\r\nexport { OpenAIEmbeddingConfigSchema } from \"./openai\";\r\nexport { VoyageEmbeddingConfigSchema } from \"./voyage\";\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,wBAAwB,oIAAA,CAAA,UAAC,CACnC,kBAAkB,CAAC,YAAY;IAC9B,6JAAA,CAAA,8BAA2B;IAC3B,4JAAA,CAAA,6BAA0B;IAC1B,6JAAA,CAAA,8BAA2B;IAC3B,6JAAA,CAAA,8BAA2B;CAC5B,EACA,QAAQ,CACP","debugId":null}},
    {"offset": {"line": 626, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/vector-store/pinecone.ts"],"sourcesContent":["import z from \"../zod\";\r\n\r\nexport const PineconeVectorStoreConfigSchema = z\r\n  .object({\r\n    provider: z.literal(\"PINECONE\"),\r\n    apiKey: z.string().describe(\"The API key for the Pinecone index.\"),\r\n    indexHost: z\r\n      .string()\r\n      .url()\r\n      .describe(\"The host of the Pinecone index.\")\r\n      .openapi({\r\n        example: `https://example.svc.aped-1234-a56b.pinecone.io`,\r\n      }),\r\n  })\r\n  .openapi({\r\n    title: \"Pinecone Config\",\r\n  });\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,kCAAkC,oIAAA,CAAA,UAAC,CAC7C,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IACpB,QAAQ,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC5B,WAAW,oIAAA,CAAA,UAAC,CACT,MAAM,GACN,GAAG,GACH,QAAQ,CAAC,mCACT,OAAO,CAAC;QACP,SAAS,CAAC,8CAA8C,CAAC;IAC3D;AACJ,GACC,OAAO,CAAC;IACP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 646, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/vector-store/index.ts"],"sourcesContent":["import z from \"../zod\";\r\nimport { PineconeVectorStoreConfigSchema } from \"./pinecone\";\r\n\r\nexport const VectorStoreSchema = z\r\n  .discriminatedUnion(\"provider\", [PineconeVectorStoreConfigSchema])\r\n  .describe(\r\n    \"The vector store config. If not provided, our managed vector store will be used. Note: You can't change the vector store config after the namespace is created.\",\r\n  );\r\n\r\nexport type VectorStoreConfig = z.infer<typeof VectorStoreSchema>;\r\n\r\nexport { PineconeVectorStoreConfigSchema } from \"./pinecone\";\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,oBAAoB,oIAAA,CAAA,UAAC,CAC/B,kBAAkB,CAAC,YAAY;IAAC,4JAAA,CAAA,kCAA+B;CAAC,EAChE,QAAQ,CACP","debugId":null}},
    {"offset": {"line": 673, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/ingest-payload/index.ts"],"sourcesContent":["import z from \"../zod\";\r\n\r\nconst nameSchema = z\r\n  .string()\r\n  .nullable()\r\n  .optional()\r\n  .describe(\"The name of the ingest job.\");\r\n\r\nconst fileNameSchema = z\r\n  .string()\r\n  .nullable()\r\n  .optional()\r\n  .describe(\"The name of the file.\");\r\n\r\nexport const textPayloadSchema = z\r\n  .object({\r\n    type: z.literal(\"TEXT\"),\r\n    text: z.string().describe(\"The text to ingest.\"),\r\n    name: nameSchema,\r\n  })\r\n  .openapi({\r\n    title: \"Text Payload\",\r\n  });\r\n\r\nexport const filePayloadSchema = z\r\n  .object({\r\n    type: z.literal(\"FILE\"),\r\n    fileUrl: z.string().describe(\"The URL of the file to ingest.\"),\r\n    name: nameSchema,\r\n  })\r\n  .openapi({\r\n    title: \"URL Payload\",\r\n  });\r\n\r\nexport const managedFilePayloadSchema = z\r\n  .object({\r\n    type: z.literal(\"MANAGED_FILE\"),\r\n    key: z.string().describe(\"The key of the managed file to ingest.\"),\r\n    name: nameSchema,\r\n  })\r\n  .openapi({\r\n    title: \"Managed File Payload\",\r\n  });\r\n\r\nexport const managedFilesPayloadSchema = z\r\n  .object({\r\n    type: z.literal(\"MANAGED_FILES\"),\r\n    files: z.array(\r\n      z.object({\r\n        key: z.string().describe(\"The key of the managed file to ingest.\"),\r\n        name: fileNameSchema,\r\n      }),\r\n    ),\r\n    name: nameSchema,\r\n  })\r\n  .openapi({\r\n    title: \"Managed Files Payload\",\r\n  });\r\n\r\nexport const urlsPayloadSchema = z\r\n  .object({\r\n    type: z.literal(\"URLS\"),\r\n    urls: z.array(z.string().url()).describe(\"The URLs to ingest.\"),\r\n    name: nameSchema,\r\n  })\r\n  .openapi({\r\n    title: \"URLs Payload\",\r\n  });\r\n\r\nexport const ingestJobPayloadSchema = z\r\n  .discriminatedUnion(\"type\", [\r\n    textPayloadSchema,\r\n    filePayloadSchema,\r\n    managedFilePayloadSchema,\r\n    managedFilesPayloadSchema,\r\n    urlsPayloadSchema,\r\n  ])\r\n  .describe(\"The ingest job payload.\");\r\n\r\nexport type IngestJobPayload = z.infer<typeof ingestJobPayloadSchema>;\r\n\r\n// type IngestJobPayloadConnection = {\r\n//   type: \"CONNECTION\";\r\n//   connectionId: string;\r\n// };\r\n\r\n// type IngestJobPayloadS3 = {\r\n//   type: \"S3\";\r\n//   bucket: string;\r\n//   prefix?: string;\r\n//   fileTypes?: string[];\r\n// };\r\n\r\n// type IngestJobPayloadGoogleDrive = {\r\n//   type: \"GOOGLE_DRIVE\";\r\n//   folderId: string;\r\n//   fileTypes?: string[];\r\n// };\r\n\r\nexport const configSchema = z\r\n  .object({\r\n    chunkSize: z.number().optional().describe(\"Custom chunk size.\"),\r\n    chunkOverlap: z.number().optional().describe(\"Custom chunk overlap.\"),\r\n    metadata: z\r\n      .record(z.string(), z.unknown())\r\n      .optional()\r\n      .describe(\"Custom metadata to be added to the ingested documents.\"),\r\n    chunkingStrategy: z\r\n      .enum([\"basic\", \"by_title\"])\r\n      .optional()\r\n      .describe(\"The chunking strategy to use. Defaults to `basic`.\"),\r\n    strategy: z\r\n      .enum([\"auto\", \"fast\", \"hi_res\", \"ocr_only\"])\r\n      .optional()\r\n      .describe(\"The strategy to use. Defaults to `auto`.\"),\r\n    // languages: z.array(z.string()).optional().describe(\"The languages to use.\"),\r\n  })\r\n  .describe(\"The ingest job config.\");\r\n\r\nexport type IngestJobConfig = z.infer<typeof configSchema>;\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;;AAEA,MAAM,aAAa,oIAAA,CAAA,UAAC,CACjB,MAAM,GACN,QAAQ,GACR,QAAQ,GACR,QAAQ,CAAC;AAEZ,MAAM,iBAAiB,oIAAA,CAAA,UAAC,CACrB,MAAM,GACN,QAAQ,GACR,QAAQ,GACR,QAAQ,CAAC;AAEL,MAAM,oBAAoB,oIAAA,CAAA,UAAC,CAC/B,MAAM,CAAC;IACN,MAAM,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IAChB,MAAM,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,MAAM;AACR,GACC,OAAO,CAAC;IACP,OAAO;AACT;AAEK,MAAM,oBAAoB,oIAAA,CAAA,UAAC,CAC/B,MAAM,CAAC;IACN,MAAM,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IAChB,SAAS,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC7B,MAAM;AACR,GACC,OAAO,CAAC;IACP,OAAO;AACT;AAEK,MAAM,2BAA2B,oIAAA,CAAA,UAAC,CACtC,MAAM,CAAC;IACN,MAAM,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IAChB,KAAK,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACzB,MAAM;AACR,GACC,OAAO,CAAC;IACP,OAAO;AACT;AAEK,MAAM,4BAA4B,oIAAA,CAAA,UAAC,CACvC,MAAM,CAAC;IACN,MAAM,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IAChB,OAAO,oIAAA,CAAA,UAAC,CAAC,KAAK,CACZ,oIAAA,CAAA,UAAC,CAAC,MAAM,CAAC;QACP,KAAK,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QACzB,MAAM;IACR;IAEF,MAAM;AACR,GACC,OAAO,CAAC;IACP,OAAO;AACT;AAEK,MAAM,oBAAoB,oIAAA,CAAA,UAAC,CAC/B,MAAM,CAAC;IACN,MAAM,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IAChB,MAAM,oIAAA,CAAA,UAAC,CAAC,KAAK,CAAC,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,GAAG,IAAI,QAAQ,CAAC;IACzC,MAAM;AACR,GACC,OAAO,CAAC;IACP,OAAO;AACT;AAEK,MAAM,yBAAyB,oIAAA,CAAA,UAAC,CACpC,kBAAkB,CAAC,QAAQ;IAC1B;IACA;IACA;IACA;IACA;CACD,EACA,QAAQ,CAAC;AAsBL,MAAM,eAAe,oIAAA,CAAA,UAAC,CAC1B,MAAM,CAAC;IACN,WAAW,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAC1C,cAAc,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAC7C,UAAU,oIAAA,CAAA,UAAC,CACR,MAAM,CAAC,oIAAA,CAAA,UAAC,CAAC,MAAM,IAAI,oIAAA,CAAA,UAAC,CAAC,OAAO,IAC5B,QAAQ,GACR,QAAQ,CAAC;IACZ,kBAAkB,oIAAA,CAAA,UAAC,CAChB,IAAI,CAAC;QAAC;QAAS;KAAW,EAC1B,QAAQ,GACR,QAAQ,CAAC;IACZ,UAAU,oIAAA,CAAA,UAAC,CACR,IAAI,CAAC;QAAC;QAAQ;QAAQ;QAAU;KAAW,EAC3C,QAAQ,GACR,QAAQ,CAAC;AAEd,GACC,QAAQ,CAAC","debugId":null}},
    {"offset": {"line": 752, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/document-payload/index.ts"],"sourcesContent":["import {\r\n  filePayloadSchema,\r\n  managedFilePayloadSchema,\r\n  textPayloadSchema,\r\n} from \"../ingest-payload\";\r\nimport z from \"../zod\";\r\n\r\n// remove name from the payload since it's a separate field\r\nexport const documentPayloadSchema = z\r\n  .discriminatedUnion(\"type\", [\r\n    textPayloadSchema.omit({ name: true }),\r\n    filePayloadSchema.omit({ name: true }),\r\n    managedFilePayloadSchema.omit({ name: true }),\r\n  ])\r\n  .describe(\"The source of the document.\");\r\n\r\nexport type DocumentPayload = z.infer<typeof documentPayloadSchema>;\r\n\r\nexport const documentPropertiesSchema = z\r\n  .object({\r\n    fileSize: z.number().describe(\"The size of the file in bytes.\"),\r\n    mimeType: z\r\n      .string()\r\n      .nullable()\r\n      .default(null)\r\n      .describe(\"The MIME type of the file.\"),\r\n  })\r\n  .describe(\"The properties of the document.\");\r\n\r\nexport type DocumentProperties = z.infer<typeof documentPropertiesSchema>;\r\n"],"names":[],"mappings":";;;;AAAA;AAKA;;;AAGO,MAAM,wBAAwB,oIAAA,CAAA,UAAC,CACnC,kBAAkB,CAAC,QAAQ;IAC1B,2JAAA,CAAA,oBAAiB,CAAC,IAAI,CAAC;QAAE,MAAM;IAAK;IACpC,2JAAA,CAAA,oBAAiB,CAAC,IAAI,CAAC;QAAE,MAAM;IAAK;IACpC,2JAAA,CAAA,2BAAwB,CAAC,IAAI,CAAC;QAAE,MAAM;IAAK;CAC5C,EACA,QAAQ,CAAC;AAIL,MAAM,2BAA2B,oIAAA,CAAA,UAAC,CACtC,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC9B,UAAU,oIAAA,CAAA,UAAC,CACR,MAAM,GACN,QAAQ,GACR,OAAO,CAAC,MACR,QAAQ,CAAC;AACd,GACC,QAAQ,CAAC","debugId":null}},
    {"offset": {"line": 781, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/index.ts"],"sourcesContent":["export * from \"./embedding-model\";\r\nexport * from \"./vector-store\";\r\nexport * from \"./ingest-payload\";\r\nexport * from \"./document-payload\";\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 808, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/create-namespace/models.ts"],"sourcesContent":["import {\r\n  AnthropicIcon,\r\n  GoogleIcon,\r\n  MicrosoftAzureIcon,\r\n  OpenAIIcon,\r\n  PineconeIcon,\r\n  QdrantIcon,\r\n  UpstashIcon,\r\n} from \"@agentset/ui\";\r\nimport {\r\n  AzureEmbeddingConfigSchema,\r\n  GoogleEmbeddingConfigSchema,\r\n  OpenAIEmbeddingConfigSchema,\r\n  PineconeVectorStoreConfigSchema,\r\n  VoyageEmbeddingConfigSchema,\r\n} from \"@agentset/validation\";\r\n\r\nexport const embeddingModels = [\r\n  {\r\n    value: AzureEmbeddingConfigSchema.shape.provider.value,\r\n    models: AzureEmbeddingConfigSchema.shape.model.options,\r\n    icon: MicrosoftAzureIcon,\r\n  },\r\n  {\r\n    value: OpenAIEmbeddingConfigSchema.shape.provider.value,\r\n    models: OpenAIEmbeddingConfigSchema.shape.model.options,\r\n    icon: OpenAIIcon,\r\n  },\r\n  {\r\n    value: VoyageEmbeddingConfigSchema.shape.provider.value,\r\n    models: VoyageEmbeddingConfigSchema.shape.model.options,\r\n    icon: AnthropicIcon,\r\n  },\r\n  {\r\n    value: GoogleEmbeddingConfigSchema.shape.provider.value,\r\n    models: GoogleEmbeddingConfigSchema.shape.model.options,\r\n    icon: GoogleIcon,\r\n  },\r\n];\r\n\r\nexport const vectorStores = [\r\n  {\r\n    value: PineconeVectorStoreConfigSchema.shape.provider.value,\r\n    icon: PineconeIcon,\r\n  },\r\n  {\r\n    value: \"upstash\",\r\n    comingSoon: true,\r\n    icon: UpstashIcon,\r\n  },\r\n  {\r\n    value: \"qdrant\",\r\n    comingSoon: true,\r\n    icon: QdrantIcon,\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAQO,MAAM,kBAAkB;IAC7B;QACE,OAAO,4JAAA,CAAA,6BAA0B,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACtD,QAAQ,4JAAA,CAAA,6BAA0B,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;QACtD,MAAM,wIAAA,CAAA,qBAAkB;IAC1B;IACA;QACE,OAAO,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACvD,QAAQ,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;QACvD,MAAM,yIAAA,CAAA,aAAU;IAClB;IACA;QACE,OAAO,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACvD,QAAQ,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;QACvD,MAAM,4IAAA,CAAA,gBAAa;IACrB;IACA;QACE,OAAO,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACvD,QAAQ,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;QACvD,MAAM,yIAAA,CAAA,aAAU;IAClB;CACD;AAEM,MAAM,eAAe;IAC1B;QACE,OAAO,4JAAA,CAAA,kCAA+B,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QAC3D,MAAM,2IAAA,CAAA,eAAY;IACpB;IACA;QACE,OAAO;QACP,YAAY;QACZ,MAAM,0IAAA,CAAA,cAAW;IACnB;IACA;QACE,OAAO;QACP,YAAY;QACZ,MAAM,yIAAA,CAAA,aAAU;IAClB;CACD","debugId":null}},
    {"offset": {"line": 872, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/create-namespace/embedding-step.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo } from \"react\";\nimport { camelCaseToWords, capitalize } from \"@/lib/string-utils\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useForm } from \"react-hook-form\";\nimport { z } from \"zod\";\n\nimport {\n  Button,\n  DialogFooter,\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n  Input,\n  Label,\n  Logo,\n  RadioButton,\n  RadioGroup,\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@agentset/ui\";\nimport { EmbeddingConfigSchema } from \"@agentset/validation\";\n\nimport { embeddingModels } from \"./models\";\n\nconst formSchema = z.object({\n  embeddingModel: EmbeddingConfigSchema.optional(),\n});\n\nexport default function CreateNamespaceEmbeddingStep({\n  onSubmit,\n  onBack,\n  defaultValues,\n}: {\n  onSubmit: (values: z.infer<typeof formSchema>) => void;\n  onBack: () => void;\n  defaultValues?: Partial<z.infer<typeof formSchema>>;\n}) {\n  const form = useForm<z.infer<typeof formSchema>>({\n    resolver: zodResolver(formSchema),\n    defaultValues,\n  });\n\n  // when the provider changes, set the model to the default model for the provider\n  const currentEmbeddingProvider = form.watch(\"embeddingModel\")?.provider;\n\n  useEffect(() => {\n    if (currentEmbeddingProvider) {\n      const model = embeddingModels.find(\n        (p) => p.value === currentEmbeddingProvider,\n      )?.models[0];\n\n      // reset other fields in the embeddingModel object\n      form.resetField(\"embeddingModel\", {\n        defaultValue: {\n          provider: currentEmbeddingProvider,\n          model,\n        } as z.infer<typeof EmbeddingConfigSchema>,\n      });\n    } else {\n      form.setValue(\"embeddingModel\", undefined);\n    }\n    // eslint-disable-next-line react-compiler/react-compiler\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentEmbeddingProvider]);\n\n  const currentEmbeddingOptions = useMemo(() => {\n    const shape =\n      EmbeddingConfigSchema.optionsMap.get(currentEmbeddingProvider)?.shape ??\n      {};\n    return {\n      fields: Object.keys(shape).filter(\n        (key) => key !== \"provider\" && key !== \"model\",\n      ),\n      shape,\n    };\n  }, [currentEmbeddingProvider]);\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)}>\n        <div className=\"flex flex-col gap-6\">\n          <FormField\n            control={form.control}\n            name=\"embeddingModel.provider\"\n            render={({ field }) => (\n              <FormItem className=\"mt-3\">\n                <FormControl>\n                  <RadioGroup\n                    onValueChange={(newValue) => {\n                      if (newValue === \"agentset\") {\n                        form.setValue(\"embeddingModel\", undefined);\n                      } else {\n                        field.onChange(newValue);\n                      }\n                    }}\n                    defaultValue={\n                      (field.value as typeof field.value | undefined) ??\n                      \"agentset\"\n                    }\n                    className=\"grid grid-cols-3 gap-4\"\n                  >\n                    <RadioButton\n                      value=\"agentset\"\n                      label=\"Agentset\"\n                      icon={Logo}\n                      note=\"Default\"\n                    />\n\n                    {embeddingModels.map((provider) => (\n                      <RadioButton\n                        key={provider.value}\n                        value={provider.value}\n                        label={capitalize(provider.value.split(\"_\").join(\" \"))!}\n                        icon={provider.icon}\n                      />\n                    ))}\n                  </RadioGroup>\n                </FormControl>\n\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          {currentEmbeddingProvider && (\n            <FormField\n              control={form.control}\n              name=\"embeddingModel.model\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Model</FormLabel>\n                  <FormControl>\n                    <Select\n                      defaultValue={field.value}\n                      value={field.value}\n                      onValueChange={field.onChange}\n                    >\n                      <SelectTrigger className=\"w-xs\">\n                        <SelectValue placeholder=\"Select a model\" />\n                      </SelectTrigger>\n\n                      <SelectContent>\n                        {embeddingModels\n                          .find((p) => p.value === currentEmbeddingProvider)\n                          ?.models.map((model) => (\n                            <SelectItem key={model} value={model}>\n                              {model}\n                            </SelectItem>\n                          ))}\n                      </SelectContent>\n                    </Select>\n                  </FormControl>\n\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          )}\n\n          {/* render other fields based on the provider dynamically */}\n          {currentEmbeddingProvider ? (\n            currentEmbeddingOptions.fields.map((key) => (\n              <FormField\n                key={key}\n                control={form.control}\n                name={\n                  `embeddingModel.${key}` as `embeddingModel.${keyof z.infer<typeof EmbeddingConfigSchema>}`\n                }\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>\n                      {camelCaseToWords(key)}{\" \"}\n                      {currentEmbeddingOptions.shape[\n                        key\n                      ]?.isOptional() ? null : (\n                        <span className=\"text-destructive-foreground\">*</span>\n                      )}\n                    </FormLabel>\n\n                    <FormControl>\n                      <Input {...field} value={field.value || \"\"} />\n                    </FormControl>\n\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            ))\n          ) : (\n            <div className=\"flex flex-col gap-2\">\n              <Label data-slot=\"form-label\">Model</Label>\n\n              <Select disabled value=\"default\">\n                <SelectTrigger className=\"w-xs\">\n                  <SelectValue placeholder=\"Select a model\" />\n                </SelectTrigger>\n\n                <SelectContent>\n                  <SelectItem value=\"default\">\n                    OpenAI / text-embedding-3-large\n                  </SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          )}\n        </div>\n\n        <DialogFooter className=\"mt-10 flex-row items-center justify-between sm:justify-between\">\n          <p className=\"text-muted-foreground text-xs\">\n            Can't find the model you need?{\" \"}\n            <a\n              href=\"mailto:support@agentset.ai\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              className=\"text-primary underline\"\n            >\n              Contact us\n            </a>\n          </p>\n\n          <div className=\"flex gap-2\">\n            <Button type=\"button\" variant=\"outline\" onClick={onBack}>\n              Back\n            </Button>\n            <Button type=\"submit\">Next</Button>\n          </div>\n        </DialogFooter>\n      </form>\n    </Form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1275, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/create-namespace/vector-store-step.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo } from \"react\";\r\nimport { camelCaseToWords, capitalize } from \"@/lib/string-utils\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\n\r\nimport {\r\n  Button,\r\n  DialogFooter,\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n  Input,\r\n  Label,\r\n  Logo,\r\n  RadioButton,\r\n  RadioGroup,\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@agentset/ui\";\r\nimport { VectorStoreSchema } from \"@agentset/validation\";\r\n\r\nimport { vectorStores } from \"./models\";\r\n\r\nconst formSchema = z.object({\r\n  vectorStore: VectorStoreSchema.optional(),\r\n});\r\n\r\nexport default function CreateNamespaceVectorStoreStep({\r\n  onSubmit,\r\n  onBack,\r\n  isLoading,\r\n}: {\r\n  onSubmit: (values: z.infer<typeof formSchema>) => void;\r\n  isLoading: boolean;\r\n  onBack: () => void;\r\n}) {\r\n  const form = useForm<z.infer<typeof formSchema>>({\r\n    resolver: zodResolver(formSchema, undefined),\r\n  });\r\n\r\n  // when the provider changes, set the model to the default model for the provider\r\n  const currentVectorProvider = form.watch(\"vectorStore\")?.provider;\r\n\r\n  useEffect(() => {\r\n    if (currentVectorProvider) {\r\n      // reset other fields in the embeddingModel object\r\n      form.reset({\r\n        vectorStore: {\r\n          provider: currentVectorProvider,\r\n        } as z.infer<typeof VectorStoreSchema>,\r\n      });\r\n    } else {\r\n      form.setValue(\"vectorStore\", undefined);\r\n    }\r\n    // eslint-disable-next-line react-compiler/react-compiler\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentVectorProvider]);\r\n\r\n  const currentVectorStoreOptions = useMemo(() => {\r\n    const shape =\r\n      VectorStoreSchema.optionsMap.get(currentVectorProvider)?.shape ?? {};\r\n    return {\r\n      fields: Object.keys(shape).filter((key) => key !== \"provider\"),\r\n      shape,\r\n    };\r\n  }, [currentVectorProvider]);\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)}>\r\n        <div className=\"flex flex-col gap-6\">\r\n          <FormField\r\n            control={form.control}\r\n            name=\"vectorStore.provider\"\r\n            render={({ field }) => (\r\n              <FormItem className=\"mt-3\">\r\n                <FormControl>\r\n                  <RadioGroup\r\n                    onValueChange={(newValue) => {\r\n                      if (newValue === \"agentset\") {\r\n                        form.setValue(\"vectorStore\", undefined);\r\n                      } else {\r\n                        field.onChange(newValue);\r\n                      }\r\n                    }}\r\n                    defaultValue={\r\n                      (field.value as typeof field.value | undefined) ??\r\n                      \"agentset\"\r\n                    }\r\n                    className=\"grid grid-cols-3 gap-4\"\r\n                  >\r\n                    <RadioButton\r\n                      value=\"agentset\"\r\n                      label=\"Agentset\"\r\n                      icon={Logo}\r\n                      note=\"Default\"\r\n                    />\r\n\r\n                    {vectorStores.map((store) => (\r\n                      <RadioButton\r\n                        key={store.value}\r\n                        value={store.value}\r\n                        label={capitalize(store.value)!}\r\n                        icon={store.icon}\r\n                        note={store.comingSoon ? \"Coming Soon\" : undefined}\r\n                        noteStyle=\"muted\"\r\n                        disabled={store.comingSoon}\r\n                      />\r\n                    ))}\r\n                  </RadioGroup>\r\n                </FormControl>\r\n\r\n                <FormMessage />\r\n              </FormItem>\r\n            )}\r\n          />\r\n\r\n          {/* render other fields based on the provider dynamically */}\r\n          {currentVectorProvider ? (\r\n            currentVectorStoreOptions.fields.map((key) => (\r\n              <FormField\r\n                key={key}\r\n                control={form.control}\r\n                name={\r\n                  `vectorStore.${key}` as `vectorStore.${keyof z.infer<typeof VectorStoreSchema>}`\r\n                }\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>\r\n                      {camelCaseToWords(key)}{\" \"}\r\n                      {currentVectorStoreOptions.shape[\r\n                        key\r\n                      ]?.isOptional() ? null : (\r\n                        <span className=\"text-destructive-foreground\">*</span>\r\n                      )}\r\n                    </FormLabel>\r\n\r\n                    <FormControl>\r\n                      <Input {...field} />\r\n                    </FormControl>\r\n\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            ))\r\n          ) : (\r\n            <div className=\"flex flex-col gap-2\">\r\n              <Label data-slot=\"form-label\">Vector Store</Label>\r\n\r\n              <Select disabled value=\"default\">\r\n                <SelectTrigger className=\"w-xs\">\r\n                  <SelectValue placeholder=\"Select a vector store\" />\r\n                </SelectTrigger>\r\n\r\n                <SelectContent>\r\n                  <SelectItem value=\"default\">Pinecone</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter className=\"mt-10 flex-row items-center justify-between sm:justify-between\">\r\n          <p className=\"text-muted-foreground text-xs\">\r\n            Can't find the vector store you need?{\" \"}\r\n            <a\r\n              href=\"mailto:support@agentset.ai\"\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n              className=\"text-primary underline\"\r\n            >\r\n              Contact us\r\n            </a>\r\n          </p>\r\n\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={onBack}\r\n              disabled={isLoading}\r\n            >\r\n              Back\r\n            </Button>\r\n            <Button type=\"submit\" isLoading={isLoading}>\r\n              Create\r\n            </Button>\r\n          </div>\r\n        </DialogFooter>\r\n      </form>\r\n    </Form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1606, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/create-namespace/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { toSlug } from \"@/lib/slug\";\r\nimport { useTRPC } from \"@/trpc/react\";\r\nimport { useRouter } from \"@bprogress/next/app\";\r\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport type { EmbeddingConfig, VectorStoreConfig } from \"@agentset/validation\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@agentset/ui\";\r\n\r\nimport CreateNamespaceDetailsStep from \"./details-step\";\r\nimport CreateNamespaceEmbeddingStep from \"./embedding-step\";\r\nimport CreateNamespaceVectorStoreStep from \"./vector-store-step\";\r\n\r\nexport default function CreateNamespaceDialog({\r\n  organization,\r\n  open,\r\n  setOpen,\r\n}: {\r\n  organization?: { id: string; slug: string; name: string } | null;\r\n  open: boolean;\r\n  setOpen: (open: boolean) => void;\r\n}) {\r\n  const router = useRouter();\r\n  const trpc = useTRPC();\r\n  const queryClient = useQueryClient();\r\n\r\n  const [step, setStep] = useState<\"details\" | \"embeddings\" | \"vector-store\">(\r\n    \"details\",\r\n  );\r\n\r\n  const defaultName = useMemo(() => {\r\n    return organization?.name\r\n      ? `${organization.name}'s First Namespace`\r\n      : \"Default\";\r\n  }, [organization]);\r\n  const defaultSlug = useMemo(() => toSlug(defaultName), [defaultName]);\r\n\r\n  const [name, setName] = useState(defaultName);\r\n  const [slug, setSlug] = useState(defaultSlug);\r\n\r\n  useEffect(() => {\r\n    setName(defaultName);\r\n    setSlug(toSlug(defaultName));\r\n  }, [defaultName]);\r\n\r\n  const [embeddingModel, setEmbeddingModel] = useState<\r\n    EmbeddingConfig | undefined\r\n  >(undefined);\r\n\r\n  const { isPending, mutateAsync: createNamespace } = useMutation(\r\n    trpc.namespace.createNamespace.mutationOptions({\r\n      onSuccess: (data) => {\r\n        toast.success(\"Namespace created\");\r\n        setOpen(false);\r\n\r\n        setName(defaultName);\r\n        setSlug(defaultSlug);\r\n\r\n        setEmbeddingModel(undefined);\r\n        setStep(\"details\");\r\n\r\n        if (organization) {\r\n          router.push(`/${organization.slug}/${data.slug}/quick-start`);\r\n        }\r\n\r\n        void queryClient.invalidateQueries(trpc.organization.all.queryFilter());\r\n      },\r\n      onError: (error) => {\r\n        toast.error(error.message);\r\n      },\r\n    }),\r\n  );\r\n\r\n  const onSubmit = async (vectorStore?: VectorStoreConfig) => {\r\n    if (!organization) return;\r\n\r\n    await createNamespace({\r\n      orgId: organization.id,\r\n      name: name,\r\n      slug: slug,\r\n      embeddingConfig: embeddingModel,\r\n      vectorStoreConfig: vectorStore,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onOpenChange={(newOpen) => {\r\n        if (isPending) return;\r\n        setOpen(newOpen);\r\n      }}\r\n    >\r\n      <DialogContent className=\"sm:max-w-xl\">\r\n        <DialogHeader>\r\n          <DialogTitle>\r\n            {step === \"details\"\r\n              ? \"Create namespace\"\r\n              : step === \"embeddings\"\r\n                ? \"Embeddings\"\r\n                : \"Vector store\"}\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            {step === \"details\"\r\n              ? \"Create a new namespace to start ingesting data.\"\r\n              : step === \"embeddings\"\r\n                ? \"Choose an embedding model for your namespace. Note that you can't change the embedding model once the namespace is created.\"\r\n                : \"Choose a vector store for your namespace. Note that you can't change the vector store once the namespace is created.\"}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        {step === \"details\" ? (\r\n          <CreateNamespaceDetailsStep\r\n            defaultValues={{\r\n              name,\r\n              slug,\r\n            }}\r\n            onSubmit={(values) => {\r\n              setName(values.name);\r\n              setSlug(values.slug);\r\n              setStep(\"embeddings\");\r\n            }}\r\n          />\r\n        ) : step === \"embeddings\" ? (\r\n          <CreateNamespaceEmbeddingStep\r\n            defaultValues={embeddingModel ? { embeddingModel } : undefined}\r\n            onSubmit={(values) => {\r\n              setEmbeddingModel(values.embeddingModel ?? undefined);\r\n              setStep(\"vector-store\");\r\n            }}\r\n            onBack={() => setStep(\"details\")}\r\n          />\r\n        ) : (\r\n          <CreateNamespaceVectorStoreStep\r\n            isLoading={isPending}\r\n            onSubmit={(values) => onSubmit(values.vectorStore)}\r\n            onBack={() => setStep(\"embeddings\")}\r\n          />\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1768, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/dashboard-page-wrapper.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useTransition } from \"react\";\r\nimport { useParams, usePathname } from \"next/navigation\";\r\nimport { useNamespace } from \"@/contexts/namespace-context\";\r\nimport { useOrganization } from \"@/contexts/organization-context\";\r\nimport { useTRPC } from \"@/trpc/react\";\r\nimport { useRouter } from \"@bprogress/next/app\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { ChevronsUpDownIcon, PlusIcon } from \"lucide-react\";\r\n\r\nimport type { Namespace } from \"@agentset/db\";\r\nimport {\r\n  Breadcrumb,\r\n  BreadcrumbItem,\r\n  BreadcrumbList,\r\n  BreadcrumbSeparator,\r\n  Button,\r\n  cn,\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n  SidebarTrigger,\r\n} from \"@agentset/ui\";\r\n\r\nimport { NavUser } from \"./app-sidebar/nav-user\";\r\nimport CreateNamespaceDialog from \"./create-namespace\";\r\n\r\nconst NamespaceSwitcher = () => {\r\n  const { activeNamespace } = useNamespace();\r\n  const { activeOrganization } = useOrganization();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const [open, setOpen] = useState(false);\r\n  const [isPending, startTransition] = useTransition();\r\n\r\n  const trpc = useTRPC();\r\n  const { data: namespaces, isLoading } = useQuery(\r\n    trpc.namespace.getOrgNamespaces.queryOptions({\r\n      orgId: activeOrganization.id,\r\n    }),\r\n  );\r\n\r\n  const handleNamespaceChange = (namespace: Namespace) => {\r\n    const relativePath = pathname.replace(\r\n      `/${activeOrganization.slug}/${activeNamespace.slug}`,\r\n      `/${activeOrganization.slug}/${namespace.slug}`,\r\n    );\r\n\r\n    startTransition(() => {\r\n      router.push(relativePath);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild disabled={isLoading || isPending}>\r\n          <Button\r\n            variant=\"ghost\"\r\n            className=\"focus-visible:bg-accent text-foreground h-8 px-0! focus-visible:ring-0\"\r\n          >\r\n            <span className=\"text-muted-foreground truncate text-sm font-medium\">\r\n              {activeNamespace.name}\r\n            </span>\r\n            <ChevronsUpDownIcon className=\"text-muted-foreground/80 size-3\" />\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n\r\n        <DropdownMenuContent\r\n          className=\"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg\"\r\n          align=\"start\"\r\n          side=\"bottom\"\r\n          sideOffset={4}\r\n        >\r\n          {namespaces?.map((namespace) => (\r\n            <DropdownMenuItem\r\n              className=\"gap-2 p-2\"\r\n              key={namespace.id}\r\n              onClick={() => handleNamespaceChange(namespace)}\r\n            >\r\n              <p>{namespace.name}</p>\r\n            </DropdownMenuItem>\r\n          ))}\r\n\r\n          <DropdownMenuSeparator />\r\n\r\n          <DropdownMenuItem className=\"gap-2 p-2\" onClick={() => setOpen(true)}>\r\n            <PlusIcon className=\"size-4\" />\r\n\r\n            <div className=\"text-muted-foreground font-medium\">\r\n              New Namespace\r\n            </div>\r\n          </DropdownMenuItem>\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n\r\n      <CreateNamespaceDialog\r\n        organization={activeOrganization}\r\n        open={open}\r\n        setOpen={setOpen}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default function DashboardPageWrapper({\r\n  children,\r\n  title,\r\n  titleActions,\r\n  className,\r\n  actions,\r\n}: {\r\n  children: React.ReactNode;\r\n  title: string;\r\n  titleActions?: React.ReactNode;\r\n  className?: string;\r\n  actions?: React.ReactNode;\r\n}) {\r\n  const { namespaceSlug } = useParams();\r\n\r\n  return (\r\n    <>\r\n      <header className=\"flex h-16 shrink-0 items-center justify-between px-4 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 lg:px-6\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <SidebarTrigger className=\"md:hidden\" />\r\n          {namespaceSlug ? (\r\n            <Breadcrumb>\r\n              <BreadcrumbList>\r\n                <BreadcrumbItem>\r\n                  <NamespaceSwitcher />\r\n                </BreadcrumbItem>\r\n                <BreadcrumbSeparator>/</BreadcrumbSeparator>\r\n                <BreadcrumbItem>\r\n                  <h1 className=\"text-foreground text-sm font-medium\">\r\n                    {title}\r\n                  </h1>\r\n                </BreadcrumbItem>\r\n              </BreadcrumbList>\r\n            </Breadcrumb>\r\n          ) : (\r\n            <h1 className=\"text-base font-medium\">{title}</h1>\r\n          )}\r\n\r\n          {titleActions}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          {actions}\r\n          <NavUser />\r\n        </div>\r\n      </header>\r\n\r\n      <div className={cn(\"flex flex-1 flex-col px-8 py-10\", className)}>\r\n        {children}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2046, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/app/app.agentset.ai/%28dashboard%29/%5Bslug%5D/%5BnamespaceSlug%5D/hosting/domain-card/dns-record.tsx"],"sourcesContent":["import { Fragment } from \"react\";\r\nimport { InfoIcon } from \"lucide-react\";\r\n\r\nimport { cn, CopyButton } from \"@agentset/ui\";\r\n\r\nconst MarkdownText = ({ text }: { text: string }) => {\r\n  return (\r\n    <p\r\n      className=\"[&>code]:bg-muted [&>code]:text-foreground max-w-none [&>code]:rounded-md [&>code]:p-1 [&>code]:font-mono [&>code]:text-[.8125rem] [&>code]:font-medium\"\r\n      dangerouslySetInnerHTML={{ __html: text }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const DnsRecord = ({\r\n  instructions,\r\n  records,\r\n  warning,\r\n}: {\r\n  instructions: string;\r\n  records: { type: string; name: string; value: string; ttl?: string }[];\r\n  warning?: string;\r\n}) => {\r\n  const hasTtl = records.some((x) => x.ttl);\r\n\r\n  return (\r\n    <div className=\"text-foreground/60 text-left\">\r\n      <div className=\"mb-5\">\r\n        <MarkdownText text={instructions} />\r\n      </div>\r\n      <div\r\n        className={cn(\r\n          \"scrollbar-hide bg-muted/80 grid items-end gap-x-10 gap-y-1 overflow-x-auto rounded-lg p-4 text-sm\",\r\n          hasTtl\r\n            ? \"grid-cols-[repeat(4,min-content)]\"\r\n            : \"grid-cols-[repeat(3,min-content)]\",\r\n        )}\r\n      >\r\n        {[\"Type\", \"Name\", \"Value\"].concat(hasTtl ? \"TTL\" : []).map((s) => (\r\n          <p key={s} className=\"text-foreground font-medium\">\r\n            {s}\r\n          </p>\r\n        ))}\r\n\r\n        {records.map((record, idx) => (\r\n          <Fragment key={idx}>\r\n            <p key={record.type} className=\"font-mono\">\r\n              {record.type}\r\n            </p>\r\n            <p key={record.name} className=\"font-mono\">\r\n              {record.name}\r\n            </p>\r\n            <p key={record.value} className=\"flex items-end gap-1 font-mono\">\r\n              {record.value}{\" \"}\r\n              <CopyButton className=\"-mb-1.5\" textToCopy={record.value} />\r\n            </p>\r\n            {hasTtl && (\r\n              <p key={record.ttl} className=\"font-mono\">\r\n                {record.ttl}\r\n              </p>\r\n            )}\r\n          </Fragment>\r\n        ))}\r\n      </div>\r\n      {(warning || hasTtl) && (\r\n        <div\r\n          className={cn(\r\n            \"mt-4 flex items-center gap-4 rounded-lg p-3\",\r\n            warning\r\n              ? \"bg-orange-50 text-orange-600\"\r\n              : \"bg-indigo-50 text-indigo-600\",\r\n          )}\r\n        >\r\n          <InfoIcon className=\"size-5 shrink-0\" />\r\n          <MarkdownText\r\n            text={\r\n              warning ||\r\n              \"If a TTL value of 86400 is not available, choose the highest available value. Domain propagation may take up to 12 hours.\"\r\n            }\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;AAAA;AAAA;;;;;AAEA,MAAM,eAAe,CAAC,EAAE,IAAI,EAAoB;IAC9C,qBACE,8OAAC;QACC,WAAU;QACV,yBAAyB;YAAE,QAAQ;QAAK;;;;;;AAG9C;AAEO,MAAM,YAAY,CAAC,EACxB,YAAY,EACZ,OAAO,EACP,OAAO,EAKR;IACC,MAAM,SAAS,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,GAAG;IAExC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAa,MAAM;;;;;;;;;;;0BAEtB,8OAAC;gBACC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,qGACA,SACI,sCACA;;oBAGL;wBAAC;wBAAQ;wBAAQ;qBAAQ,CAAC,MAAM,CAAC,SAAS,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,kBAC1D,8OAAC;4BAAU,WAAU;sCAClB;2BADK;;;;;oBAKT,QAAQ,GAAG,CAAC,CAAC,QAAQ,oBACpB,8OAAC,qMAAA,CAAA,WAAQ;;8CACP,8OAAC;oCAAoB,WAAU;8CAC5B,OAAO,IAAI;mCADN,OAAO,IAAI;;;;;8CAGnB,8OAAC;oCAAoB,WAAU;8CAC5B,OAAO,IAAI;mCADN,OAAO,IAAI;;;;;8CAGnB,8OAAC;oCAAqB,WAAU;;wCAC7B,OAAO,KAAK;wCAAE;sDACf,8OAAC,sJAAA,CAAA,aAAU;4CAAC,WAAU;4CAAU,YAAY,OAAO,KAAK;;;;;;;mCAFlD,OAAO,KAAK;;;;;gCAInB,wBACC,8OAAC;oCAAmB,WAAU;8CAC3B,OAAO,GAAG;mCADL,OAAO,GAAG;;;;;;2BAZP;;;;;;;;;;;YAmBlB,CAAC,WAAW,MAAM,mBACjB,8OAAC;gBACC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,+CACA,UACI,iCACA;;kCAGN,8OAAC,sMAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;kCACpB,8OAAC;wBACC,MACE,WACA;;;;;;;;;;;;;;;;;;AAOd","debugId":null}},
    {"offset": {"line": 2198, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/app/app.agentset.ai/%28dashboard%29/%5Bslug%5D/%5BnamespaceSlug%5D/hosting/domain-card/index.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNamespace } from \"@/contexts/namespace-context\";\r\nimport { SHORT_DOMAIN } from \"@/lib/constants\";\r\nimport { useTRPC } from \"@/trpc/react\";\r\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\r\nimport {\r\n  AlertCircleIcon,\r\n  CheckCircle2Icon,\r\n  LucideIcon,\r\n  RefreshCwIcon,\r\n  TrashIcon,\r\n  XCircleIcon,\r\n} from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n  Input,\r\n  Tabs,\r\n  TabsList,\r\n  TabsTrigger,\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipTrigger,\r\n} from \"@agentset/ui\";\r\n\r\nimport { DnsRecord } from \"./dns-record\";\r\n\r\nconst CNAME_VALUE = `cname.${SHORT_DOMAIN}`;\r\nconst A_VALUE = \"76.76.21.21\";\r\n\r\nexport function useDomainStatus() {\r\n  const trpc = useTRPC();\r\n  const { activeNamespace } = useNamespace();\r\n  const { data, isFetching, refetch } = useQuery(\r\n    trpc.domain.checkStatus.queryOptions(\r\n      { namespaceId: activeNamespace.id },\r\n      {\r\n        refetchInterval: 20000,\r\n      },\r\n    ),\r\n  );\r\n\r\n  return {\r\n    status: data?.status,\r\n    domainJson: data?.response.domainJson,\r\n    configJson: data?.response.configJson,\r\n    loading: isFetching,\r\n    refetch,\r\n  };\r\n}\r\n\r\nconst getSubdomain = (name: string, apexName: string) => {\r\n  if (name === apexName) return null;\r\n  return name.slice(0, name.length - apexName.length - 1);\r\n};\r\n\r\nfunction DomainConfiguration(props: { domain: string }) {\r\n  const { domain } = props;\r\n  const { status, domainJson, configJson } = useDomainStatus();\r\n  const subdomain = domainJson\r\n    ? getSubdomain(domainJson.name, domainJson.apexName)\r\n    : null;\r\n  const [recordType, setRecordType] = useState(!!subdomain ? \"CNAME\" : \"A\");\r\n\r\n  if (!status || status === \"Valid Configuration\" || !domainJson) return null;\r\n\r\n  let result = null;\r\n  if (status === \"Pending Verification\") {\r\n    const txtVerification = domainJson.verification.find(\r\n      (x) => x.type === \"TXT\",\r\n    )!;\r\n\r\n    result = (\r\n      <div>\r\n        <DnsRecord\r\n          instructions={`Please set the following TXT record on <code>${domainJson.apexName}</code> to prove ownership of <code>${domainJson.name}</code>:`}\r\n          records={[\r\n            {\r\n              type: txtVerification.type,\r\n              name: txtVerification.domain.slice(\r\n                0,\r\n                txtVerification.domain.length - domainJson.apexName.length - 1,\r\n              ),\r\n              value: txtVerification.value,\r\n            },\r\n          ]}\r\n          warning=\"Warning: if you are using this domain for another site, setting this TXT record will transfer domain ownership away from that site and break it. Please exercise caution when setting this record.\"\r\n        />\r\n      </div>\r\n    );\r\n  } else if (status === \"Conflicting DNS Records\") {\r\n    const conflicts = configJson?.conflicts ?? [];\r\n    result = (\r\n      <div>\r\n        <Tabs>\r\n          <TabsList>\r\n            <TabsTrigger value=\"A\">\r\n              {conflicts.some((x) => x.type === \"A\")\r\n                ? \"A Record (recommended)\"\r\n                : \"CNAME Record (recommended)\"}\r\n            </TabsTrigger>\r\n          </TabsList>\r\n        </Tabs>\r\n\r\n        <div className=\"mt-8\">\r\n          <DnsRecord\r\n            instructions=\"Please remove the following conflicting DNS records from your DNS provider:\"\r\n            records={conflicts}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mt-8\">\r\n          <DnsRecord\r\n            instructions=\"Afterwards, set the following record on your DNS provider:\"\r\n            records={[\r\n              {\r\n                type: recordType,\r\n                name: recordType === \"A\" ? \"@\" : (subdomain ?? \"www\"),\r\n                value: recordType === \"A\" ? A_VALUE : CNAME_VALUE,\r\n                ttl: \"86400\",\r\n              },\r\n            ]}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  } else if (status === \"Unknown Error\") {\r\n    result = (\r\n      <div>\r\n        <p className=\"text-sm text-red-500\">\r\n          {domainJson.error?.message || \"Unknown error\"}\r\n        </p>\r\n      </div>\r\n    );\r\n  } else {\r\n    result = (\r\n      <div>\r\n        <Tabs value={recordType} onValueChange={setRecordType}>\r\n          <TabsList>\r\n            <TabsTrigger value=\"A\">\r\n              A Record{!subdomain ? \" (recommended)\" : \"\"}\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"CNAME\">\r\n              CNAME Record{subdomain ? \" (recommended)\" : \"\"}\r\n            </TabsTrigger>\r\n          </TabsList>\r\n        </Tabs>\r\n\r\n        <div className=\"mt-4\">\r\n          <DnsRecord\r\n            instructions={`To configure your ${\r\n              recordType === \"A\" ? \"apex domain\" : \"subdomain\"\r\n            } <code>${\r\n              recordType === \"A\" ? domainJson.apexName : domainJson.name\r\n            }</code>, set the following ${recordType} record on your DNS provider:`}\r\n            records={[\r\n              {\r\n                type: recordType,\r\n                name: recordType === \"A\" ? \"@\" : (subdomain ?? \"www\"),\r\n                value: recordType === \"A\" ? A_VALUE : CNAME_VALUE,\r\n                ttl: \"86400\",\r\n              },\r\n            ]}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <CardFooter className=\"mt-8 flex flex-grow justify-start\">\r\n      {result}\r\n    </CardFooter>\r\n  );\r\n}\r\n\r\nconst statues: Record<\r\n  NonNullable<ReturnType<typeof useDomainStatus>[\"status\"]>,\r\n  {\r\n    icon: LucideIcon;\r\n    color: string;\r\n  }\r\n> = {\r\n  \"Valid Configuration\": {\r\n    icon: CheckCircle2Icon,\r\n    color: \"#2563EB\",\r\n  },\r\n  \"Pending Verification\": {\r\n    icon: AlertCircleIcon,\r\n    color: \"#FBBF24\",\r\n  },\r\n  \"Domain Not Found\": {\r\n    icon: XCircleIcon,\r\n    color: \"#DC2626\",\r\n  },\r\n  \"Invalid Configuration\": {\r\n    icon: XCircleIcon,\r\n    color: \"#DC2626\",\r\n  },\r\n  \"Conflicting DNS Records\": {\r\n    icon: AlertCircleIcon,\r\n    color: \"#FBBF24\",\r\n  },\r\n  \"Unknown Error\": {\r\n    icon: AlertCircleIcon,\r\n    color: \"#DC2626\",\r\n  },\r\n};\r\n\r\nfunction DomainStatus({ domain }: { domain: string }) {\r\n  const { status } = useDomainStatus();\r\n\r\n  if (!status) return null;\r\n\r\n  const Icon = statues[status].icon;\r\n  const color = statues[status].color;\r\n\r\n  return (\r\n    <Tooltip>\r\n      <TooltipTrigger>\r\n        <Icon\r\n          fill={color}\r\n          stroke=\"currentColor\"\r\n          className=\"text-white dark:text-black\"\r\n        />\r\n      </TooltipTrigger>\r\n      <TooltipContent>{status}</TooltipContent>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nconst DomainControls = ({\r\n  domain,\r\n  onRemove,\r\n}: {\r\n  domain: string;\r\n  onRemove: () => void;\r\n}) => {\r\n  const { refetch, loading } = useDomainStatus();\r\n  const { activeNamespace } = useNamespace();\r\n  const trpc = useTRPC();\r\n  const queryClient = useQueryClient();\r\n  const { mutate: removeDomain, isPending: isRemovingDomain } = useMutation(\r\n    trpc.domain.remove.mutationOptions({\r\n      onSuccess: () => {\r\n        toast.success(\"Domain removed successfully\");\r\n        void queryClient.invalidateQueries(\r\n          trpc.hosting.get.queryOptions({\r\n            namespaceId: activeNamespace.id,\r\n          }),\r\n        );\r\n        onRemove();\r\n      },\r\n    }),\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        variant=\"outline\"\r\n        size=\"icon\"\r\n        isLoading={loading}\r\n        type=\"button\"\r\n        onClick={() => refetch()}\r\n      >\r\n        <RefreshCwIcon className=\"h-4 w-4\" />\r\n      </Button>\r\n\r\n      <Button\r\n        variant=\"outline\"\r\n        size=\"icon\"\r\n        isLoading={isRemovingDomain}\r\n        type=\"button\"\r\n        onClick={() => removeDomain({ namespaceId: activeNamespace.id })}\r\n      >\r\n        <TrashIcon className=\"h-4 w-4\" />\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport function CustomDomainConfigurator(props: { defaultDomain?: string }) {\r\n  const [domain, setDomain] = useState<string | null>(\r\n    props.defaultDomain ?? null,\r\n  );\r\n\r\n  const [domainInput, setDomainInput] = useState<string>(\r\n    props.defaultDomain ?? \"\",\r\n  );\r\n\r\n  const trpc = useTRPC();\r\n  const { activeNamespace } = useNamespace();\r\n\r\n  const { mutate: addDomain, isPending } = useMutation(\r\n    trpc.domain.add.mutationOptions({\r\n      onSuccess: (data) => {\r\n        setDomain(data.slug);\r\n      },\r\n      onError: (error) => {\r\n        toast.error(error.message || \"Failed to add domain\");\r\n      },\r\n    }),\r\n  );\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!domainInput) return;\r\n    addDomain({ domain: domainInput, namespaceId: activeNamespace.id });\r\n  };\r\n\r\n  return (\r\n    <Card className=\"flex w-2xl flex-col space-y-6\">\r\n      <form onSubmit={handleSubmit}>\r\n        <CardHeader className=\"gap-0.5\">\r\n          <CardTitle className=\"flex items-center gap-2 text-lg font-semibold\">\r\n            Custom Domain\r\n            {domain && <DomainStatus domain={domain} />}\r\n          </CardTitle>\r\n          <CardDescription>The custom domain for your site.</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"bg-background relative mt-5 flex w-full flex-row items-center justify-between\">\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"example.com\"\r\n            maxLength={64}\r\n            className=\"bg-background max-w-sm\"\r\n            value={domainInput}\r\n            onChange={(e) => setDomainInput(e.target.value)}\r\n          />\r\n\r\n          <div className=\"flex items-center space-x-2\">\r\n            {domain ? (\r\n              <>\r\n                <DomainControls\r\n                  domain={domain}\r\n                  onRemove={() => {\r\n                    setDomain(null);\r\n                    setDomainInput(\"\");\r\n                  }}\r\n                />\r\n              </>\r\n            ) : (\r\n              <Button type=\"submit\" variant=\"outline\" isLoading={isPending}>\r\n                Save\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n        {domain && <DomainConfiguration domain={domain} />}\r\n      </form>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2699, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/app/app.agentset.ai/%28dashboard%29/%5Bslug%5D/%5BnamespaceSlug%5D/hosting/empty-state.tsx"],"sourcesContent":["import { useNamespace } from \"@/contexts/namespace-context\";\r\nimport { useTRPC } from \"@/trpc/react\";\r\n\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@agentset/ui\";\r\n\r\nimport \"@dnd-kit/core\";\r\n\r\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { GlobeIcon, LockIcon, PaintbrushIcon } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport function EmptyState() {\r\n  const { activeNamespace } = useNamespace();\r\n\r\n  const trpc = useTRPC();\r\n  const queryClient = useQueryClient();\r\n  const { mutate: enableHosting, isPending } = useMutation(\r\n    trpc.hosting.enable.mutationOptions({\r\n      onSuccess: (hosting) => {\r\n        toast.success(\"Hosting enabled successfully\");\r\n        queryClient.setQueryData(\r\n          trpc.hosting.get.queryKey({ namespaceId: activeNamespace.id }),\r\n          () => {\r\n            return { ...hosting, domain: null };\r\n          },\r\n        );\r\n      },\r\n      onError: (error) => {\r\n        toast.error(error.message);\r\n      },\r\n    }),\r\n  );\r\n\r\n  const handleSubmit = () => {\r\n    enableHosting({\r\n      namespaceId: activeNamespace.id,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"border-border w-full rounded-md border px-12 pt-24 pb-12\">\r\n      <div className=\"relative\">\r\n        <div className=\"flex flex-col items-center justify-center\">\r\n          <h1 className=\"text-4xl font-semibold\"> Host Your AI Assistant</h1>\r\n          <p className=\"text-muted-foreground mt-2 text-sm\">\r\n            Deploy your AI assistant to a custom domain and share it with your\r\n            users\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"mt-5 flex justify-center\">\r\n          <Button size=\"lg\" isLoading={isPending} onClick={handleSubmit}>\r\n            Enable\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"mt-24 grid grid-cols-1 gap-6 sm:grid-cols-3\">\r\n          <Card>\r\n            <CardHeader>\r\n              <GlobeIcon className=\"text-muted-foreground size-6\" />\r\n              <CardTitle className=\"mt-3\">Custom Domain</CardTitle>\r\n              <CardDescription>\r\n                Deploy your AI assistant to your own domain\r\n              </CardDescription>\r\n            </CardHeader>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <LockIcon className=\"text-muted-foreground size-6\" />\r\n              <CardTitle className=\"mt-3\">Authentication</CardTitle>\r\n              <CardDescription>\r\n                Optional user authentication and access control\r\n              </CardDescription>\r\n            </CardHeader>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <PaintbrushIcon className=\"text-muted-foreground size-6\" />\r\n              <CardTitle className=\"mt-3\">Custom Branding</CardTitle>\r\n              <CardDescription>\r\n                Maintain your brand identity with custom styling\r\n              </CardDescription>\r\n            </CardHeader>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;AAAA;AAAA;AAQA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;;;;;;;;;AAEO,SAAS;IACd,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,uJAAA,CAAA,eAAY,AAAD;IAEvC,MAAM,OAAO,CAAA,GAAA,oIAAA,CAAA,UAAO,AAAD;IACnB,MAAM,cAAc,CAAA,GAAA,sLAAA,CAAA,iBAAc,AAAD;IACjC,MAAM,EAAE,QAAQ,aAAa,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,8KAAA,CAAA,cAAW,AAAD,EACrD,KAAK,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC;QAClC,WAAW,CAAC;YACV,wIAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YACd,YAAY,YAAY,CACtB,KAAK,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;gBAAE,aAAa,gBAAgB,EAAE;YAAC,IAC5D;gBACE,OAAO;oBAAE,GAAG,OAAO;oBAAE,QAAQ;gBAAK;YACpC;QAEJ;QACA,SAAS,CAAC;YACR,wIAAA,CAAA,QAAK,CAAC,KAAK,CAAC,MAAM,OAAO;QAC3B;IACF;IAGF,MAAM,eAAe;QACnB,cAAc;YACZ,aAAa,gBAAgB,EAAE;QACjC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAyB;;;;;;sCACvC,8OAAC;4BAAE,WAAU;sCAAqC;;;;;;;;;;;;8BAMpD,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,8IAAA,CAAA,SAAM;wBAAC,MAAK;wBAAK,WAAW;wBAAW,SAAS;kCAAc;;;;;;;;;;;8BAKjE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4IAAA,CAAA,OAAI;sCACH,cAAA,8OAAC,4IAAA,CAAA,aAAU;;kDACT,8OAAC,wMAAA,CAAA,YAAS;wCAAC,WAAU;;;;;;kDACrB,8OAAC,4IAAA,CAAA,YAAS;wCAAC,WAAU;kDAAO;;;;;;kDAC5B,8OAAC,4IAAA,CAAA,kBAAe;kDAAC;;;;;;;;;;;;;;;;;sCAMrB,8OAAC,4IAAA,CAAA,OAAI;sCACH,cAAA,8OAAC,4IAAA,CAAA,aAAU;;kDACT,8OAAC,sMAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC,4IAAA,CAAA,YAAS;wCAAC,WAAU;kDAAO;;;;;;kDAC5B,8OAAC,4IAAA,CAAA,kBAAe;kDAAC;;;;;;;;;;;;;;;;;sCAMrB,8OAAC,4IAAA,CAAA,OAAI;sCACH,cAAA,8OAAC,4IAAA,CAAA,aAAU;;kDACT,8OAAC,kNAAA,CAAA,iBAAc;wCAAC,WAAU;;;;;;kDAC1B,8OAAC,4IAAA,CAAA,YAAS;wCAAC,WAAU;kDAAO;;;;;;kDAC5B,8OAAC,4IAAA,CAAA,kBAAe;kDAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS/B","debugId":null}},
    {"offset": {"line": 2930, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/list-input.tsx"],"sourcesContent":["import type {\r\n  FieldArrayPath,\r\n  FieldPathByValue,\r\n  UseFormReturn,\r\n} from \"react-hook-form\";\r\nimport { PlusIcon, XIcon } from \"lucide-react\";\r\nimport { useFieldArray } from \"react-hook-form\";\r\n\r\nimport {\r\n  Button,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n  Input,\r\n} from \"@agentset/ui\";\r\n\r\nexport default function ListInput<\r\n  T extends object,\r\n  K extends FieldPathByValue<T, string[]> | FieldArrayPath<T>,\r\n>({\r\n  form,\r\n  name,\r\n  label,\r\n  description,\r\n  maxItems,\r\n  placeholder = \"Enter an item...\",\r\n}: {\r\n  form: UseFormReturn<T>;\r\n  name: K;\r\n  label?: string;\r\n  description?: string;\r\n  maxItems?: number;\r\n  placeholder?: string;\r\n}) {\r\n  const typedName = name as FieldArrayPath<T>;\r\n\r\n  const { fields, append, remove } = useFieldArray<T, typeof typedName>({\r\n    control: form.control,\r\n    name: typedName,\r\n  });\r\n\r\n  const handleAdd = () => {\r\n    // Check if the last item is empty\r\n    const items = form.getValues(typedName);\r\n    const lastItem = items.at(-1);\r\n    if (lastItem === \"\") {\r\n      form.setError(`${typedName}.${items.length - 1}`, {\r\n        type: \"manual\",\r\n        message: \"Please fill in the current item before adding a new one\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    append(\"\" as any);\r\n  };\r\n\r\n  const handleRemove = (index: number) => {\r\n    remove(index);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-2\">\r\n      <div className=\"flex items-start justify-between gap-5\">\r\n        <div className=\"flex flex-col gap-1\">\r\n          {label && <FormLabel>{label}</FormLabel>}\r\n          {description && <FormDescription>{description}</FormDescription>}\r\n        </div>\r\n\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={handleAdd}\r\n          disabled={!!maxItems && fields.length >= maxItems}\r\n        >\r\n          <PlusIcon className=\"size-4\" />\r\n          Add\r\n        </Button>\r\n      </div>\r\n\r\n      {fields.map((_, index) => (\r\n        <FormField\r\n          key={index}\r\n          name={`${typedName}.${index}`}\r\n          control={form.control}\r\n          render={({ field }) => (\r\n            <FormItem>\r\n              <div className=\"flex items-center gap-2 rounded-md border p-2\">\r\n                <FormControl>\r\n                  <Input\r\n                    placeholder={placeholder}\r\n                    className=\"flex-1\"\r\n                    {...field}\r\n                  />\r\n                </FormControl>\r\n\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  onClick={() => handleRemove(index)}\r\n                >\r\n                  <XIcon className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n              <FormMessage />\r\n            </FormItem>\r\n          )}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAKA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;;;;;AAWe,SAAS,UAGtB,EACA,IAAI,EACJ,IAAI,EACJ,KAAK,EACL,WAAW,EACX,QAAQ,EACR,cAAc,kBAAkB,EAQjC;IACC,MAAM,YAAY;IAElB,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,gBAAa,AAAD,EAAuB;QACpE,SAAS,KAAK,OAAO;QACrB,MAAM;IACR;IAEA,MAAM,YAAY;QAChB,kCAAkC;QAClC,MAAM,QAAQ,KAAK,SAAS,CAAC;QAC7B,MAAM,WAAW,MAAM,EAAE,CAAC,CAAC;QAC3B,IAAI,aAAa,IAAI;YACnB,KAAK,QAAQ,CAAC,GAAG,UAAU,CAAC,EAAE,MAAM,MAAM,GAAG,GAAG,EAAE;gBAChD,MAAM;gBACN,SAAS;YACX;YACA;QACF;QAEA,OAAO;IACT;IAEA,MAAM,eAAe,CAAC;QACpB,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;4BACZ,uBAAS,8OAAC,4IAAA,CAAA,YAAS;0CAAE;;;;;;4BACrB,6BAAe,8OAAC,4IAAA,CAAA,kBAAe;0CAAE;;;;;;;;;;;;kCAGpC,8OAAC,8IAAA,CAAA,SAAM;wBACL,MAAK;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,UAAU,CAAC,CAAC,YAAY,OAAO,MAAM,IAAI;;0CAEzC,8OAAC,sMAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;4BAAW;;;;;;;;;;;;;YAKlC,OAAO,GAAG,CAAC,CAAC,GAAG,sBACd,8OAAC,4IAAA,CAAA,YAAS;oBAER,MAAM,GAAG,UAAU,CAAC,EAAE,OAAO;oBAC7B,SAAS,KAAK,OAAO;oBACrB,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,8OAAC,4IAAA,CAAA,WAAQ;;8CACP,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,4IAAA,CAAA,cAAW;sDACV,cAAA,8OAAC,6IAAA,CAAA,QAAK;gDACJ,aAAa;gDACb,WAAU;gDACT,GAAG,KAAK;;;;;;;;;;;sDAIb,8OAAC,8IAAA,CAAA,SAAM;4CACL,MAAK;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS,IAAM,aAAa;sDAE5B,cAAA,8OAAC,gMAAA,CAAA,QAAK;gDAAC,WAAU;;;;;;;;;;;;;;;;;8CAGrB,8OAAC,4IAAA,CAAA,cAAW;;;;;;;;;;;mBAvBX;;;;;;;;;;;AA8Bf","debugId":null}},
    {"offset": {"line": 3098, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/sortable-list.tsx"],"sourcesContent":["import type { DragEndEvent } from \"@dnd-kit/core\";\r\nimport type {\r\n  FieldArrayPath,\r\n  FieldPathByValue,\r\n  UseFormReturn,\r\n} from \"react-hook-form\";\r\nimport { useState } from \"react\";\r\nimport {\r\n  closestCenter,\r\n  DndContext,\r\n  KeyboardSensor,\r\n  PointerSensor,\r\n  useSensor,\r\n  useSensors,\r\n} from \"@dnd-kit/core\";\r\nimport {\r\n  SortableContext,\r\n  sortableKeyboardCoordinates,\r\n  useSortable,\r\n  verticalListSortingStrategy,\r\n} from \"@dnd-kit/sortable\";\r\nimport { CSS } from \"@dnd-kit/utilities\";\r\nimport { GripVerticalIcon, PlusIcon, XIcon } from \"lucide-react\";\r\nimport { useFieldArray } from \"react-hook-form\";\r\n\r\nimport {\r\n  Button,\r\n  cn,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n  Input,\r\n} from \"@agentset/ui\";\r\n\r\n// Virtual ID type for sortable items\r\ntype VirtualId = string;\r\n\r\nexport default function SortableList<T extends object>({\r\n  form,\r\n  name,\r\n  label,\r\n  maxItems,\r\n}: {\r\n  form: UseFormReturn<T>;\r\n  name: FieldPathByValue<T, string[]> | FieldArrayPath<T>;\r\n  label: string;\r\n  maxItems?: number;\r\n}) {\r\n  const typedName = name as FieldArrayPath<T>;\r\n  const [virtualIds, setVirtualIds] = useState<VirtualId[]>(() =>\r\n    form.getValues(typedName).map((_, index) => `item-${index}-${Date.now()}`),\r\n  );\r\n\r\n  const { fields, append, remove, move } = useFieldArray<T, typeof typedName>({\r\n    control: form.control,\r\n    name: typedName,\r\n  });\r\n\r\n  const sensors = useSensors(\r\n    useSensor(PointerSensor),\r\n    useSensor(KeyboardSensor, {\r\n      coordinateGetter: sortableKeyboardCoordinates,\r\n    }),\r\n  );\r\n\r\n  const handleAdd = () => {\r\n    // Check if the last example is empty\r\n    const examplesQuestions = form.getValues(typedName);\r\n    const lastExample = examplesQuestions.at(-1);\r\n    if (lastExample === \"\") {\r\n      form.setError(`${typedName}.${examplesQuestions.length - 1}`, {\r\n        type: \"manual\",\r\n        message: \"Please fill in the current item before adding a new one\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Add new virtual ID when adding an example\r\n    append(\"\" as any); // TODO: make this dynamic based on type\r\n    setVirtualIds((prev) => [...prev, `item-${prev.length}-${Date.now()}`]);\r\n  };\r\n\r\n  const handleRemove = (index: number) => {\r\n    // Remove virtual ID when removing an example\r\n    setVirtualIds((prev) => prev.filter((_, i) => i !== index));\r\n    remove(index);\r\n  };\r\n\r\n  const handleDragEnd = (event: DragEndEvent) => {\r\n    const { active, over } = event;\r\n\r\n    if (over && active.id !== over.id) {\r\n      const oldIndex = fields.findIndex((_, i) => virtualIds[i] === active.id);\r\n      const newIndex = fields.findIndex((_, i) => virtualIds[i] === over.id);\r\n\r\n      if (oldIndex !== -1 && newIndex !== -1) {\r\n        move(oldIndex, newIndex);\r\n        // Update virtual IDs order\r\n        setVirtualIds((prev) => {\r\n          const newIds = [...prev];\r\n          const [movedId] = newIds.splice(oldIndex, 1);\r\n          newIds.splice(newIndex, 0, movedId!);\r\n          return newIds;\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-2\">\r\n      <div className=\"flex items-center gap-5\">\r\n        <FormLabel>{label}</FormLabel>\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={handleAdd}\r\n          disabled={!!maxItems && fields.length >= maxItems}\r\n        >\r\n          <PlusIcon className=\"size-4\" />\r\n          Add\r\n        </Button>\r\n      </div>\r\n\r\n      <DndContext\r\n        sensors={sensors}\r\n        collisionDetection={closestCenter}\r\n        onDragEnd={handleDragEnd}\r\n      >\r\n        <SortableContext\r\n          items={virtualIds}\r\n          strategy={verticalListSortingStrategy}\r\n        >\r\n          {fields.map((_, index) => {\r\n            const virtualId = virtualIds[index];\r\n            if (!virtualId) return null;\r\n\r\n            return (\r\n              <FormField\r\n                key={virtualId}\r\n                name={`${typedName}.${index}`}\r\n                control={form.control}\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <SortableItem\r\n                      id={virtualId}\r\n                      inputProps={field}\r\n                      onRemove={() => handleRemove(index)}\r\n                    />\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            );\r\n          })}\r\n        </SortableContext>\r\n      </DndContext>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SortableItem({\r\n  id,\r\n  inputProps,\r\n  onRemove,\r\n}: {\r\n  id: string;\r\n  onRemove: () => void;\r\n  inputProps?: React.ComponentProps<typeof Input>;\r\n}) {\r\n  const {\r\n    attributes,\r\n    listeners,\r\n    setNodeRef,\r\n    transform,\r\n    transition,\r\n    isDragging,\r\n  } = useSortable({ id });\r\n\r\n  const style = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={style}\r\n      className={cn(\r\n        \"flex items-center gap-2 rounded-md border p-2\",\r\n        isDragging ? \"bg-accent shadow-lg\" : \"\",\r\n      )}\r\n    >\r\n      <div\r\n        className=\"cursor-grab touch-none\"\r\n        ref={setNodeRef}\r\n        {...attributes}\r\n        {...listeners}\r\n      >\r\n        <GripVerticalIcon className=\"text-muted-foreground h-4 w-4\" />\r\n      </div>\r\n\r\n      <FormControl>\r\n        <Input\r\n          placeholder=\"Enter an example...\"\r\n          className=\"flex-1\"\r\n          {...inputProps}\r\n        />\r\n      </FormControl>\r\n\r\n      <Button type=\"button\" variant=\"ghost\" size=\"icon\" onClick={onRemove}>\r\n        <XIcon className=\"h-4 w-4\" />\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3347, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/lib/prompt.ts"],"sourcesContent":["type PlaceholderKey = string;\r\n\r\ntype InferPromptVars<T extends PlaceholderKey[]> = T extends []\r\n  ? Record<string, never>\r\n  : { [K in T[number]]: string | number | boolean };\r\n\r\ntype CompileFunction<T> =\r\n  T extends Record<string, never> ? () => string : (variables: T) => string;\r\n\r\ntype PromptResult<T> = {\r\n  compile: CompileFunction<T>;\r\n};\r\n\r\nexport const prmpt = <K extends PlaceholderKey[]>(\r\n  strings: TemplateStringsArray,\r\n  ...keys: K\r\n): PromptResult<InferPromptVars<K>> => {\r\n  if (keys.length === 0) {\r\n    return {\r\n      compile: (() => strings[0]?.trim()) as CompileFunction<\r\n        InferPromptVars<K>\r\n      >,\r\n    };\r\n  }\r\n\r\n  return {\r\n    compile: ((variables: InferPromptVars<K>) => {\r\n      let result = strings[0];\r\n\r\n      for (let i = 0; i < keys.length; i++) {\r\n        const key = keys[i];\r\n        if (key !== undefined) {\r\n          result += variables[key] + (strings[i + 1] ?? \"\");\r\n        }\r\n      }\r\n\r\n      return result?.trim();\r\n    }) as CompileFunction<InferPromptVars<K>>,\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;AAaO,MAAM,QAAQ,CACnB,SACA,GAAG;IAEH,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,OAAO;YACL,SAAU,IAAM,OAAO,CAAC,EAAE,EAAE;QAG9B;IACF;IAEA,OAAO;QACL,SAAU,CAAC;YACT,IAAI,SAAS,OAAO,CAAC,EAAE;YAEvB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAK;gBACpC,MAAM,MAAM,IAAI,CAAC,EAAE;gBACnB,IAAI,QAAQ,WAAW;oBACrB,UAAU,SAAS,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE;gBAClD;YACF;YAEA,OAAO,QAAQ;QACjB;IACF;AACF","debugId":null}},
    {"offset": {"line": 3375, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/lib/prompts.ts"],"sourcesContent":["import { prmpt } from \"@/lib/prompt\";\r\n\r\nexport const DEFAULT_SYSTEM_PROMPT = prmpt`\r\nYou are an AI assistant powered by Agentset. Your primary task is to provide accurate, factual responses based STRICTLY on the provided search results. You must ONLY answer questions using information explicitly found in the search results - do not make assumptions or add information from outside knowledge.\r\n\r\nFollow these STRICT guidelines:\r\n1. If the search results do not contain information to fully answer the query, state clearly: \"I cannot fully answer this question based on the available information.\" Then explain what specific aspects cannot be answered.\r\n2. Only use information directly stated in the search results - do not infer, assume, or add external knowledge.\r\n3. Your response must match the language of the user's query.\r\n4. Citations are MANDATORY for every factual statement. Format citations by placing the chunk number in brackets immediately after the relevant statement with no space, like this: \"The temperature is 20 degrees[3]\"\r\n5. When possible, include relevant direct quotes from the search results with proper citations.\r\n6. Do not preface responses with phrases like \"based on the search results\" - simply provide the cited answer.\r\n7. Maintain a clear, professional tone focused on accuracy and fidelity to the source material.\r\n\r\nIf the search results are completely irrelevant or insufficient to address any part of the query, respond: \"I cannot answer this question as the search results do not contain relevant information about [specific topic].\"\r\n`;\r\n\r\nexport const NEW_MESSAGE_PROMPT = prmpt`\r\nMost relevant search results:\r\n${\"chunks\"}\r\n\r\nUser's query:\r\n${\"query\"}\r\n`;\r\n\r\nexport const CONDENSE_SYSTEM_PROMPT = prmpt`\r\nGiven a conversation history between Human and Assistant and a follow-up question from Human, rewrite the question into a standalone query that:\r\n\r\n1. Incorporates all relevant context from the prior conversation\r\n2. Preserves specific details, names, and technical terms mentioned earlier\r\n3. Maintains the original language and tone of the user's question\r\n4. Focuses on searchable keywords and concepts to optimize vector database retrieval\r\n5. Removes conversational elements like \"as mentioned before\" or \"following up on\"\r\n6. Expands pronouns and references to their full form (e.g. \"it\" → \"the database schema\")\r\n\r\nYour task is to create a clear, context-rich query that will yield the most relevant search results from the vector database.\r\n\r\n\r\nQuestion: ${\"question\"}\r\n\r\nHistory:\r\n${\"chatHistory\"}\r\n`;\r\n\r\nexport const CONDENSE_USER_PROMPT = prmpt`\r\nChat History:\r\n${\"chatHistory\"}\r\n\r\nFollow Up Message:\r\n${\"query\"}\r\n`;\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,wBAAwB,mIAAA,CAAA,QAAK,CAAC;;;;;;;;;;;;;AAa3C,CAAC;AAEM,MAAM,qBAAqB,mIAAA,CAAA,QAAK,CAAC;;AAExC,EAAE,SAAS;;;AAGX,EAAE,QAAQ;AACV,CAAC;AAEM,MAAM,yBAAyB,mIAAA,CAAA,QAAK,CAAC;;;;;;;;;;;;;UAalC,EAAE,WAAW;;;AAGvB,EAAE,cAAc;AAChB,CAAC;AAEM,MAAM,uBAAuB,mIAAA,CAAA,QAAK,CAAC;;AAE1C,EAAE,cAAc;;;AAGhB,EAAE,QAAQ;AACV,CAAC","debugId":null}},
    {"offset": {"line": 3435, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/app/app.agentset.ai/%28dashboard%29/%5Bslug%5D/%5BnamespaceSlug%5D/hosting/form.tsx"],"sourcesContent":["import ListInput from \"@/components/list-input\";\r\nimport SortableList from \"@/components/sortable-list\";\r\nimport { APP_DOMAIN, HOSTING_PREFIX } from \"@/lib/constants\";\r\nimport { DEFAULT_SYSTEM_PROMPT } from \"@/lib/prompts\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { ArrowUpRightIcon, CopyIcon } from \"lucide-react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { toast } from \"sonner\";\r\nimport { z } from \"zod\";\r\n\r\nimport {\r\n  AvatarUploader,\r\n  Button,\r\n  Form,\r\n  FormControl,\r\n  FormDescription,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n  Input,\r\n  Separator,\r\n  Switch,\r\n  Textarea,\r\n} from \"@agentset/ui\";\r\n\r\n// Separate type for API submission\r\ntype FormSubmissionData = {\r\n  title: string;\r\n  slug: string;\r\n  logo?: string | null;\r\n  protected: boolean;\r\n  allowedEmails: string[];\r\n  allowedEmailDomains: string[];\r\n  systemPrompt: string;\r\n  examplesQuestions: string[];\r\n  exampleSearchQueries: string[];\r\n  welcomeMessage: string;\r\n  citationMetadataPath?: string;\r\n  searchEnabled: boolean;\r\n};\r\n\r\nexport const schema = z.object({\r\n  title: z.string().min(1, \"Title is required\"),\r\n  slug: z.string().min(1, \"Slug is required\"),\r\n  logo: z.string().nullable().optional(),\r\n  protected: z.boolean(),\r\n  allowedEmails: z.array(z.string().email()),\r\n  allowedEmailDomains: z.array(z.string()),\r\n  systemPrompt: z.string().min(1, \"System prompt cannot be empty\"),\r\n  examplesQuestions: z\r\n    .array(z.string().min(1, \"Example cannot be empty\"))\r\n    .max(4),\r\n  exampleSearchQueries: z\r\n    .array(z.string().min(1, \"Example cannot be empty\"))\r\n    .max(4),\r\n  welcomeMessage: z.string(),\r\n  citationMetadataPath: z.string().optional(),\r\n  searchEnabled: z.boolean(),\r\n});\r\n\r\ntype FormValues = z.infer<typeof schema>;\r\n\r\nexport default function HostingForm({\r\n  isPending,\r\n  onSubmit,\r\n  defaultValues,\r\n}: {\r\n  isPending: boolean;\r\n  onSubmit: (data: FormSubmissionData) => void;\r\n  defaultValues?: Partial<FormSubmissionData>;\r\n}) {\r\n  const form = useForm<FormValues>({\r\n    resolver: zodResolver(schema),\r\n    defaultValues: {\r\n      title: \"\",\r\n      slug: \"\",\r\n      protected: false,\r\n      allowedEmails: [],\r\n      allowedEmailDomains: [],\r\n      systemPrompt: DEFAULT_SYSTEM_PROMPT.compile(),\r\n      examplesQuestions: [],\r\n      exampleSearchQueries: [],\r\n      welcomeMessage: \"\",\r\n      citationMetadataPath: \"\",\r\n      searchEnabled: true,\r\n      ...defaultValues,\r\n    },\r\n  });\r\n\r\n  const handleSubmit = async (data: FormValues) => {\r\n    onSubmit({\r\n      title: data.title,\r\n      slug: data.slug,\r\n      logo: defaultValues?.logo === data.logo ? undefined : data.logo,\r\n      protected: data.protected,\r\n      allowedEmails: data.allowedEmails,\r\n      allowedEmailDomains: data.allowedEmailDomains,\r\n      systemPrompt: data.systemPrompt,\r\n      examplesQuestions: data.examplesQuestions,\r\n      exampleSearchQueries: data.exampleSearchQueries,\r\n      welcomeMessage: data.welcomeMessage,\r\n      citationMetadataPath: data.citationMetadataPath,\r\n      searchEnabled: data.searchEnabled,\r\n    });\r\n  };\r\n\r\n  const url = `${APP_DOMAIN}${HOSTING_PREFIX}${defaultValues?.slug}`;\r\n\r\n  const handleCopy = () => {\r\n    navigator.clipboard.writeText(url);\r\n    toast.success(\"Copied to clipboard\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-20 flex w-full items-start justify-between gap-2\">\r\n        <div>\r\n          <h3 className=\"flex items-center gap-2 text-xl font-medium\">\r\n            <span className=\"relative flex size-2\">\r\n              <span className=\"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75\" />\r\n              <span className=\"relative inline-flex h-full w-full rounded-full bg-green-500\" />\r\n            </span>{\" \"}\r\n            Your deployment is live!\r\n          </h3>\r\n          <a\r\n            href={url}\r\n            target=\"_blank\"\r\n            className=\"text-muted-foreground mt-2 text-sm underline\"\r\n          >\r\n            {url.replace(\"https://\", \"\").replace(\"http://\", \"\")}\r\n          </a>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button variant=\"outline\" size=\"sm\" onClick={handleCopy}>\r\n            <CopyIcon className=\"size-4\" /> Copy\r\n          </Button>\r\n          <Button size=\"sm\" asChild>\r\n            <a href={url} target=\"_blank\">\r\n              <ArrowUpRightIcon className=\"size-4\" /> Visit\r\n            </a>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Form {...form}>\r\n        <form\r\n          className=\"flex flex-col gap-20\"\r\n          onSubmit={form.handleSubmit(handleSubmit)}\r\n        >\r\n          <div>\r\n            <div className=\"flex items-start justify-between\">\r\n              <div>\r\n                <h2 className=\"text-xl font-medium\">Hosting Details</h2>\r\n                <p className=\"text-muted-foreground mt-1 text-sm\">\r\n                  Configure the basic information for your hosting\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <Separator className=\"my-4\" />\r\n\r\n            <div className=\"flex flex-col gap-8\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"title\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Title</FormLabel>\r\n                    <FormControl>\r\n                      <Input\r\n                        {...field}\r\n                        placeholder=\"Enter a title for your hosting...\"\r\n                      />\r\n                    </FormControl>\r\n\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"slug\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Slug</FormLabel>\r\n                    <FormControl>\r\n                      <Input {...field} placeholder=\"Enter a unique slug...\" />\r\n                    </FormControl>\r\n                    <FormDescription>\r\n                      Preview: {APP_DOMAIN}\r\n                      {HOSTING_PREFIX}\r\n                      {field.value}\r\n                    </FormDescription>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"logo\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Logo</FormLabel>\r\n\r\n                    <AvatarUploader\r\n                      onImageChange={field.onChange}\r\n                      defaultImageUrl={defaultValues?.logo}\r\n                    />\r\n\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div>\r\n              <h2 className=\"text-xl font-medium\">Protection</h2>\r\n              <p className=\"text-muted-foreground mt-1 text-sm\">\r\n                Only allow certain people to access your hosting\r\n              </p>\r\n            </div>\r\n\r\n            <Separator className=\"my-4\" />\r\n\r\n            <div className=\"flex flex-col gap-8\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"protected\"\r\n                render={({ field }) => (\r\n                  <FormItem className=\"flex items-center gap-3\">\r\n                    <FormLabel>Enabled</FormLabel>\r\n\r\n                    <FormControl>\r\n                      <Switch\r\n                        checked={field.value}\r\n                        onCheckedChange={field.onChange}\r\n                      />\r\n                    </FormControl>\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              {form.watch(\"protected\") && (\r\n                <>\r\n                  <ListInput\r\n                    form={form}\r\n                    name=\"allowedEmails\"\r\n                    label=\"Allowed Emails\"\r\n                    description=\"Only these emails will be allowed access (if set).\"\r\n                    placeholder=\"Enter an email address...\"\r\n                  />\r\n\r\n                  <ListInput\r\n                    form={form}\r\n                    name=\"allowedEmailDomains\"\r\n                    label=\"Allowed Email Domains\"\r\n                    description=\"Only these email domains will be allowed access (if set).\"\r\n                    placeholder=\"Enter a domain (e.g. example.com)...\"\r\n                  />\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div>\r\n              <h2 className=\"text-xl font-medium\">Chat Settings</h2>\r\n              <p className=\"text-muted-foreground mt-1 text-sm\">\r\n                Customize the chat settings for your hosting\r\n              </p>\r\n            </div>\r\n\r\n            <Separator className=\"my-4\" />\r\n\r\n            <div className=\"flex flex-col gap-8\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"systemPrompt\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>System Prompt</FormLabel>\r\n                    <FormControl>\r\n                      <Textarea\r\n                        {...field}\r\n                        className=\"h-32 max-h-56\"\r\n                        placeholder=\"Enter your system prompt...\"\r\n                      />\r\n                    </FormControl>\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"welcomeMessage\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Welcome Message</FormLabel>\r\n                    <FormControl>\r\n                      <Textarea\r\n                        {...field}\r\n                        className=\"h-32 max-h-56\"\r\n                        placeholder=\"Enter a welcome message that will be shown to users when they first interact with your AI assistant...\"\r\n                      />\r\n                    </FormControl>\r\n\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <FormField\r\n                control={form.control}\r\n                name=\"citationMetadataPath\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Citation Metadata Path</FormLabel>\r\n                    <FormControl>\r\n                      <Input\r\n                        {...field}\r\n                        placeholder=\"e.g. title or foo.bar\"\r\n                        className=\"max-w-sm\"\r\n                      />\r\n                    </FormControl>\r\n                    <FormDescription>\r\n                      Optional path to use for citation names. For example, if\r\n                      your metadata has a \"title\" field, enter \"title\". For\r\n                      nested fields, use dot notation like \"foo.bar\".\r\n                    </FormDescription>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              <SortableList\r\n                form={form}\r\n                name=\"examplesQuestions\"\r\n                label=\"Examples\"\r\n                maxItems={4}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div>\r\n              <h2 className=\"text-xl font-medium\">Search Settings</h2>\r\n              <p className=\"text-muted-foreground mt-1 text-sm\">\r\n                Customize the search settings for your hosting\r\n              </p>\r\n            </div>\r\n\r\n            <Separator className=\"my-4\" />\r\n\r\n            <div className=\"flex flex-col gap-8\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"searchEnabled\"\r\n                render={({ field }) => (\r\n                  <FormItem className=\"flex items-center justify-between gap-3\">\r\n                    <div>\r\n                      <FormLabel>Enable Search</FormLabel>\r\n                      <FormDescription>\r\n                        Allow users to search through your documents\r\n                      </FormDescription>\r\n                    </div>\r\n                    <FormControl>\r\n                      <Switch\r\n                        checked={field.value}\r\n                        onCheckedChange={field.onChange}\r\n                      />\r\n                    </FormControl>\r\n                  </FormItem>\r\n                )}\r\n              />\r\n\r\n              {form.watch(\"searchEnabled\") && (\r\n                <SortableList\r\n                  form={form}\r\n                  name=\"exampleSearchQueries\"\r\n                  label=\"Examples\"\r\n                  maxItems={4}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end\">\r\n            <Button type=\"submit\" isLoading={isPending}>\r\n              Save\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4284, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/app/app.agentset.ai/%28dashboard%29/%5Bslug%5D/%5BnamespaceSlug%5D/hosting/page.client.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useNamespace } from \"@/contexts/namespace-context\";\r\nimport { useTRPC } from \"@/trpc/react\";\r\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { Separator, Skeleton } from \"@agentset/ui\";\r\n\r\nimport { CustomDomainConfigurator } from \"./domain-card\";\r\nimport { EmptyState } from \"./empty-state\";\r\nimport HostingForm from \"./form\";\r\n\r\nexport default function HostingPage() {\r\n  const { activeNamespace } = useNamespace();\r\n  const trpc = useTRPC();\r\n\r\n  const queryClient = useQueryClient();\r\n  const { data, isLoading } = useQuery(\r\n    trpc.hosting.get.queryOptions({ namespaceId: activeNamespace.id }),\r\n  );\r\n\r\n  const { mutateAsync: updateHosting, isPending: isUpdating } = useMutation(\r\n    trpc.hosting.update.mutationOptions({\r\n      onSuccess: (result) => {\r\n        toast.success(\"Hosting updated\");\r\n        queryClient.setQueryData(\r\n          trpc.hosting.get.queryKey({ namespaceId: activeNamespace.id }),\r\n          (old) => {\r\n            return { ...(old ?? {}), ...result, domain: old?.domain || null };\r\n          },\r\n        );\r\n\r\n        queryClient.invalidateQueries(\r\n          trpc.hosting.get.queryOptions({ namespaceId: activeNamespace.id }),\r\n        );\r\n      },\r\n      onError: (error) => {\r\n        toast.error(error.message);\r\n      },\r\n    }),\r\n  );\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex max-w-xl flex-col gap-4\">\r\n        <Skeleton className=\"h-[100px] w-full\" />\r\n        <Skeleton className=\"h-[100px] w-full\" />\r\n        <Skeleton className=\"h-[100px] w-full\" />\r\n        <Skeleton className=\"h-[100px] w-full\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!data) {\r\n    return <EmptyState />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-xl\">\r\n      <HostingForm\r\n        isPending={isUpdating}\r\n        onSubmit={async (data) => {\r\n          await updateHosting({\r\n            namespaceId: activeNamespace.id,\r\n            ...data,\r\n          });\r\n        }}\r\n        defaultValues={{\r\n          title: data.title || \"\",\r\n          slug: data.slug || \"\",\r\n          logo: data.logo || null,\r\n          protected: data.protected,\r\n          allowedEmails: data.allowedEmails,\r\n          allowedEmailDomains: data.allowedEmailDomains,\r\n          systemPrompt: data.systemPrompt || \"\",\r\n          examplesQuestions: data.exampleQuestions,\r\n          exampleSearchQueries: data.exampleSearchQueries,\r\n          welcomeMessage: data.welcomeMessage || \"\",\r\n          citationMetadataPath: data.citationMetadataPath || \"\",\r\n          searchEnabled: data.searchEnabled,\r\n        }}\r\n      />\r\n\r\n      <Separator className=\"my-10\" />\r\n\r\n      <CustomDomainConfigurator defaultDomain={data.domain?.slug} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAXA;;;;;;;;;;AAae,SAAS;IACtB,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,uJAAA,CAAA,eAAY,AAAD;IACvC,MAAM,OAAO,CAAA,GAAA,oIAAA,CAAA,UAAO,AAAD;IAEnB,MAAM,cAAc,CAAA,GAAA,sLAAA,CAAA,iBAAc,AAAD;IACjC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD,EACjC,KAAK,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;QAAE,aAAa,gBAAgB,EAAE;IAAC;IAGlE,MAAM,EAAE,aAAa,aAAa,EAAE,WAAW,UAAU,EAAE,GAAG,CAAA,GAAA,8KAAA,CAAA,cAAW,AAAD,EACtE,KAAK,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC;QAClC,WAAW,CAAC;YACV,wIAAA,CAAA,QAAK,CAAC,OAAO,CAAC;YACd,YAAY,YAAY,CACtB,KAAK,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;gBAAE,aAAa,gBAAgB,EAAE;YAAC,IAC5D,CAAC;gBACC,OAAO;oBAAE,GAAI,OAAO,CAAC,CAAC;oBAAG,GAAG,MAAM;oBAAE,QAAQ,KAAK,UAAU;gBAAK;YAClE;YAGF,YAAY,iBAAiB,CAC3B,KAAK,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;gBAAE,aAAa,gBAAgB,EAAE;YAAC;QAEpE;QACA,SAAS,CAAC;YACR,wIAAA,CAAA,QAAK,CAAC,KAAK,CAAC,MAAM,OAAO;QAC3B;IACF;IAGF,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;8BACpB,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;8BACpB,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;8BACpB,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;;;;;;;IAG1B;IAEA,IAAI,CAAC,MAAM;QACT,qBAAO,8OAAC,kOAAA,CAAA,aAAU;;;;;IACpB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,wNAAA,CAAA,UAAW;gBACV,WAAW;gBACX,UAAU,OAAO;oBACf,MAAM,cAAc;wBAClB,aAAa,gBAAgB,EAAE;wBAC/B,GAAG,IAAI;oBACT;gBACF;gBACA,eAAe;oBACb,OAAO,KAAK,KAAK,IAAI;oBACrB,MAAM,KAAK,IAAI,IAAI;oBACnB,MAAM,KAAK,IAAI,IAAI;oBACnB,WAAW,KAAK,SAAS;oBACzB,eAAe,KAAK,aAAa;oBACjC,qBAAqB,KAAK,mBAAmB;oBAC7C,cAAc,KAAK,YAAY,IAAI;oBACnC,mBAAmB,KAAK,gBAAgB;oBACxC,sBAAsB,KAAK,oBAAoB;oBAC/C,gBAAgB,KAAK,cAAc,IAAI;oBACvC,sBAAsB,KAAK,oBAAoB,IAAI;oBACnD,eAAe,KAAK,aAAa;gBACnC;;;;;;0BAGF,8OAAC,iJAAA,CAAA,YAAS;gBAAC,WAAU;;;;;;0BAErB,8OAAC,2OAAA,CAAA,2BAAwB;gBAAC,eAAe,KAAK,MAAM,EAAE;;;;;;;;;;;;AAG5D","debugId":null}}]
}