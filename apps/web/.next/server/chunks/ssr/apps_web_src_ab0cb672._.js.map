{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/lib/auth-client.ts"],"sourcesContent":["import {\r\n  adminClient,\r\n  inferAdditionalFields,\r\n  magicLinkClient,\r\n  organizationClient,\r\n} from \"better-auth/client/plugins\";\r\nimport { createAuthClient } from \"better-auth/react\";\r\n\r\nimport type { auth } from \"./auth\";\r\nimport { getBaseUrl } from \"./utils\";\r\n\r\nexport const authClient = createAuthClient({\r\n  baseURL: getBaseUrl(),\r\n  plugins: [\r\n    inferAdditionalFields<typeof auth>(),\r\n    adminClient(),\r\n    organizationClient(),\r\n    magicLinkClient(),\r\n  ],\r\n});\r\n"],"names":[],"mappings":";;;AAAA;AAAA;AAMA;AAGA;;;;AAEO,MAAM,aAAa,CAAA,GAAA,mKAAA,CAAA,mBAAgB,AAAD,EAAE;IACzC,SAAS,CAAA,GAAA,kIAAA,CAAA,aAAU,AAAD;IAClB,SAAS;QACP,CAAA,GAAA,qLAAA,CAAA,wBAAqB,AAAD;QACpB,CAAA,GAAA,qLAAA,CAAA,cAAW,AAAD;QACV,CAAA,GAAA,qLAAA,CAAA,qBAAkB,AAAD;QACjB,CAAA,GAAA,qLAAA,CAAA,kBAAe,AAAD;KACf;AACH","debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/lib/slug.ts"],"sourcesContent":["import _slugify from \"slugify\";\r\n\r\nexport const validSlugRegex = new RegExp(/^[a-zA-Z0-9\\-]+$/);\r\n\r\nexport const toSlug = (text: string, suffix?: string) => {\r\n  return (\r\n    _slugify(text, {\r\n      lower: true,\r\n      strict: true,\r\n      trim: true,\r\n    }) + (suffix ? `-${suffix}` : \"\")\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,iBAAiB,IAAI,OAAO;AAElC,MAAM,SAAS,CAAC,MAAc;IACnC,OACE,CAAA,GAAA,kIAAA,CAAA,UAAQ,AAAD,EAAE,MAAM;QACb,OAAO;QACP,QAAQ;QACR,MAAM;IACR,KAAK,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,GAAG,EAAE;AAEpC","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/app/app.agentset.ai/%28dashboard%29/create-organization/create-org-form.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Fragment, useEffect } from \"react\";\r\nimport { authClient } from \"@/lib/auth-client\";\r\nimport { toSlug } from \"@/lib/slug\";\r\nimport { useRouter } from \"@bprogress/next/app\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useMutation } from \"@tanstack/react-query\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { toast } from \"sonner\";\r\nimport { z } from \"zod\";\r\n\r\nimport {\r\n  Button,\r\n  DialogFooter,\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n  Input,\r\n} from \"@agentset/ui\";\r\n\r\nconst formSchema = z.object({\r\n  name: z.string().min(1),\r\n  slug: z\r\n    .string()\r\n    .min(1)\r\n    .regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/)\r\n    .refine(\r\n      async (value) => {\r\n        const result = await authClient.organization.checkSlug({\r\n          slug: value,\r\n        });\r\n\r\n        return !!result.data?.status;\r\n      },\r\n      { message: \"Slug is already taken\" },\r\n    ),\r\n});\r\n\r\nexport function CreateOrgForm({\r\n  isDialog,\r\n  onSuccess,\r\n}: {\r\n  isDialog?: boolean;\r\n  onSuccess?: () => void;\r\n}) {\r\n  const router = useRouter();\r\n  const form = useForm<z.infer<typeof formSchema>>({\r\n    resolver: zodResolver(formSchema, undefined, { mode: \"async\" }),\r\n    reValidateMode: \"onBlur\",\r\n    defaultValues: {\r\n      name: \"\",\r\n      slug: \"\",\r\n    },\r\n  });\r\n\r\n  const { mutateAsync: createOrganization, isPending: isCreatingOrganization } =\r\n    useMutation({\r\n      mutationFn: async ({ name, slug }: { name: string; slug: string }) => {\r\n        const response = await authClient.organization.create({\r\n          name,\r\n          slug,\r\n        });\r\n\r\n        if (!response.data) {\r\n          throw new Error(response.error.message);\r\n        }\r\n\r\n        return response.data;\r\n      },\r\n      onSuccess: (data) => {\r\n        router.push(`/${data.slug}`);\r\n        onSuccess?.();\r\n        form.reset();\r\n      },\r\n      onError: (error) => {\r\n        console.error(error);\r\n        toast.error(\"Failed to create organization\");\r\n      },\r\n    });\r\n\r\n  const name = form.watch(\"name\");\r\n  const { formState, setValue } = form;\r\n  useEffect(() => {\r\n    if (!formState.touchedFields.slug) {\r\n      setValue(\"slug\", toSlug(name));\r\n    }\r\n  }, [name, formState, setValue]);\r\n\r\n  const onSubmit = async (values: z.infer<typeof formSchema>) => {\r\n    await createOrganization(values);\r\n  };\r\n\r\n  const SubmitWrapper = isDialog ? DialogFooter : Fragment;\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)}>\r\n        <div className=\"flex flex-col gap-6\">\r\n          <div className=\"flex flex-col gap-6\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"name\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Name</FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"My Organization\" {...field} />\r\n                  </FormControl>\r\n\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"slug\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>Slug</FormLabel>\r\n                  <FormControl>\r\n                    <Input placeholder=\"my-organization\" {...field} />\r\n                  </FormControl>\r\n\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <SubmitWrapper>\r\n              <Button\r\n                type=\"submit\"\r\n                className=\"w-full\"\r\n                isLoading={isCreatingOrganization}\r\n              >\r\n                Create\r\n              </Button>\r\n            </SubmitWrapper>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </Form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}