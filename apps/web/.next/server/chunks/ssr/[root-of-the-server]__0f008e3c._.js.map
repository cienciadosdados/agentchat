{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/contexts/hosting-context.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, use } from \"react\";\r\n\r\nimport type { Hosting } from \"@agentset/db\";\r\n\r\nexport const HostingContext = createContext<Hosting | null>(null);\r\n\r\nexport function HostingProvider({\r\n  children,\r\n  hosting,\r\n}: {\r\n  children: React.ReactNode;\r\n  hosting: Hosting;\r\n}) {\r\n  return (\r\n    <HostingContext.Provider value={hosting}>\r\n      {children}\r\n    </HostingContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useHosting() {\r\n  const hosting = use(HostingContext);\r\n  if (!hosting) throw new Error(\"Hosting not found\");\r\n  return hosting;\r\n}\r\n\r\nexport function useIsHosting() {\r\n  const hosting = use(HostingContext);\r\n  return !!hosting;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAMO,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAkB;AAErD,SAAS,gBAAgB,EAC9B,QAAQ,EACR,OAAO,EAIR;IACC,qBACE,8OAAC,eAAe,QAAQ;QAAC,OAAO;kBAC7B;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,MAAG,AAAD,EAAE;IACpB,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT;AAEO,SAAS;IACd,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,MAAG,AAAD,EAAE;IACpB,OAAO,CAAC,CAAC;AACX","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/hooks/use-scroll-to-bottom.ts"],"sourcesContent":["import { useCallback, useEffect, useRef } from \"react\";\r\nimport { create } from \"zustand\";\r\n\r\ntype ScrollFlag = ScrollBehavior | false;\r\n\r\nconst useScrollStore = create<{\r\n  isAtBottom: boolean;\r\n  scrollBehavior: ScrollFlag;\r\n  setIsAtBottom: (isAtBottom: boolean) => void;\r\n  setScrollBehavior: (scrollBehavior: ScrollFlag) => void;\r\n}>((set) => ({\r\n  isAtBottom: false,\r\n  setIsAtBottom: (isAtBottom: boolean) => set({ isAtBottom }),\r\n  scrollBehavior: false,\r\n  setScrollBehavior: (scrollBehavior: ScrollFlag) => set({ scrollBehavior }),\r\n}));\r\n\r\nexport function useScrollToBottom() {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const endRef = useRef<HTMLDivElement>(null);\r\n\r\n  const { isAtBottom, scrollBehavior, setIsAtBottom, setScrollBehavior } =\r\n    useScrollStore();\r\n\r\n  useEffect(() => {\r\n    if (scrollBehavior) {\r\n      endRef.current?.scrollIntoView({ behavior: scrollBehavior });\r\n      setScrollBehavior(false);\r\n    }\r\n  }, [setScrollBehavior, scrollBehavior]);\r\n\r\n  const scrollToBottom = useCallback(\r\n    (scrollBehavior: ScrollBehavior = \"smooth\") => {\r\n      setScrollBehavior(scrollBehavior);\r\n    },\r\n    [setScrollBehavior],\r\n  );\r\n\r\n  function onViewportEnter() {\r\n    setIsAtBottom(true);\r\n  }\r\n\r\n  function onViewportLeave() {\r\n    setIsAtBottom(false);\r\n  }\r\n\r\n  return {\r\n    containerRef,\r\n    endRef,\r\n    isAtBottom,\r\n    scrollToBottom,\r\n    onViewportEnter,\r\n    onViewportLeave,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAIA,MAAM,iBAAiB,CAAA,GAAA,wIAAA,CAAA,SAAM,AAAD,EAKzB,CAAC,MAAQ,CAAC;QACX,YAAY;QACZ,eAAe,CAAC,aAAwB,IAAI;gBAAE;YAAW;QACzD,gBAAgB;QAChB,mBAAmB,CAAC,iBAA+B,IAAI;gBAAE;YAAe;IAC1E,CAAC;AAEM,SAAS;IACd,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAC5C,MAAM,SAAS,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAEtC,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,aAAa,EAAE,iBAAiB,EAAE,GACpE;IAEF,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,gBAAgB;YAClB,OAAO,OAAO,EAAE,eAAe;gBAAE,UAAU;YAAe;YAC1D,kBAAkB;QACpB;IACF,GAAG;QAAC;QAAmB;KAAe;IAEtC,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAC/B,CAAC,iBAAiC,QAAQ;QACxC,kBAAkB;IACpB,GACA;QAAC;KAAkB;IAGrB,SAAS;QACP,cAAc;IAChB;IAEA,SAAS;QACP,cAAc;IAChB;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/suggested-actions.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type { UseChatHelpers } from \"@ai-sdk/react\";\r\nimport { memo } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nimport { Button } from \"@agentset/ui\";\r\n\r\ninterface SuggestedActionsProps {\r\n  append: UseChatHelpers[\"append\"];\r\n  exampleMessages: string[];\r\n}\r\n\r\nfunction PureSuggestedActions({\r\n  append,\r\n  exampleMessages,\r\n}: SuggestedActionsProps) {\r\n  return (\r\n    <div\r\n      data-testid=\"suggested-actions\"\r\n      className=\"grid w-full gap-2 sm:grid-cols-2\"\r\n    >\r\n      {exampleMessages.map((suggestedAction, index) => (\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          exit={{ opacity: 0, y: 20 }}\r\n          transition={{ delay: 0.05 * index }}\r\n          key={`suggested-${index}`}\r\n          className={index > 1 ? \"hidden sm:block\" : \"block\"}\r\n        >\r\n          <Button\r\n            variant=\"ghost\"\r\n            onClick={() => {\r\n              void append({\r\n                role: \"user\",\r\n                content: suggestedAction,\r\n              });\r\n            }}\r\n            className=\"h-auto w-full flex-1 items-start justify-start gap-1 rounded-xl border px-4 py-3.5 text-left text-sm sm:flex-col\"\r\n          >\r\n            {/* <span className=\"font-medium\">{suggestedAction.title}</span>\r\n            <span className=\"text-muted-foreground\">\r\n              {suggestedAction.label}\r\n            </span> */}\r\n            {suggestedAction}\r\n          </Button>\r\n        </motion.div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const SuggestedActions = memo(PureSuggestedActions);\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AAEA;AAAA;AANA;;;;;AAaA,SAAS,qBAAqB,EAC5B,MAAM,EACN,eAAe,EACO;IACtB,qBACE,8OAAC;QACC,eAAY;QACZ,WAAU;kBAET,gBAAgB,GAAG,CAAC,CAAC,iBAAiB,sBACrC,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,MAAM;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC1B,YAAY;oBAAE,OAAO,OAAO;gBAAM;gBAElC,WAAW,QAAQ,IAAI,oBAAoB;0BAE3C,cAAA,8OAAC,8IAAA,CAAA,SAAM;oBACL,SAAQ;oBACR,SAAS;wBACP,KAAK,OAAO;4BACV,MAAM;4BACN,SAAS;wBACX;oBACF;oBACA,WAAU;8BAMT;;;;;;eAjBE,CAAC,UAAU,EAAE,OAAO;;;;;;;;;;AAuBnC;AAEO,MAAM,iCAAmB,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE","debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/chat-input.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type { UseChatHelpers } from \"@ai-sdk/react\";\r\nimport type { Message } from \"ai\";\r\nimport type React from \"react\";\r\nimport type { Dispatch, SetStateAction } from \"react\";\r\nimport { memo, useCallback, useEffect, useRef } from \"react\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { useIsHosting } from \"@/contexts/hosting-context\";\r\nimport { useScrollToBottom } from \"@/hooks/use-scroll-to-bottom\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { ArrowDownIcon, ArrowUpIcon } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { useLocalStorage, useWindowSize } from \"usehooks-ts\";\r\n\r\nimport { Button, cn, Skeleton, Textarea } from \"@agentset/ui\";\r\n\r\nimport { SuggestedActions } from \"./suggested-actions\";\r\n\r\nconst ChatInputModes = dynamic(() => import(\"./chat-input-modes\"), {\r\n  ssr: false,\r\n  loading: () => (\r\n    <div className=\"absolute bottom-0 left-0 flex w-fit flex-row justify-end gap-2 p-2\">\r\n      <Skeleton className=\"h-8 w-23 rounded-full\" />\r\n      <Skeleton className=\"h-8 w-36 rounded-full\" />\r\n    </div>\r\n  ),\r\n});\r\n\r\nfunction PureMultimodalInput({\r\n  input,\r\n  setInput,\r\n  append,\r\n  messages,\r\n  status,\r\n  stop,\r\n  setMessages,\r\n  handleSubmit,\r\n  className,\r\n  type,\r\n  exampleMessages,\r\n}: {\r\n  input: UseChatHelpers[\"input\"];\r\n  setInput: UseChatHelpers[\"setInput\"];\r\n  status: UseChatHelpers[\"status\"];\r\n  stop: () => void;\r\n  append: UseChatHelpers[\"append\"];\r\n  messages: Array<Message>;\r\n  setMessages: Dispatch<SetStateAction<Array<Message>>>;\r\n  handleSubmit: UseChatHelpers[\"handleSubmit\"];\r\n  className?: string;\r\n  type: \"playground\" | \"hosted\";\r\n  exampleMessages?: string[];\r\n}) {\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n  const { width } = useWindowSize();\r\n  const isHosting = useIsHosting();\r\n\r\n  useEffect(() => {\r\n    if (textareaRef.current) {\r\n      adjustHeight();\r\n    }\r\n  }, []);\r\n\r\n  const adjustHeight = () => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = \"auto\";\r\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight + 2}px`;\r\n    }\r\n  };\r\n\r\n  const resetHeight = () => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = \"auto\";\r\n      textareaRef.current.style.height = isHosting ? \"96px\" : \"112px\";\r\n    }\r\n  };\r\n\r\n  const [localStorageInput, setLocalStorageInput] = useLocalStorage(\r\n    \"input\",\r\n    \"\",\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (textareaRef.current) {\r\n      const domValue = textareaRef.current.value;\r\n      // Prefer DOM value over localStorage to handle hydration\r\n      const finalValue = domValue || localStorageInput || \"\";\r\n      setInput(finalValue);\r\n      adjustHeight();\r\n    }\r\n    // Only run once after hydration\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setLocalStorageInput(input);\r\n  }, [input, setLocalStorageInput]);\r\n\r\n  const handleInput = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setInput(event.target.value);\r\n    adjustHeight();\r\n  };\r\n\r\n  const submitForm = useCallback(() => {\r\n    handleSubmit(undefined);\r\n\r\n    setLocalStorageInput(\"\");\r\n    resetHeight();\r\n\r\n    if (width && width > 768) {\r\n      textareaRef.current?.focus();\r\n    }\r\n  }, [handleSubmit, setLocalStorageInput, width]);\r\n\r\n  const { isAtBottom, scrollToBottom } = useScrollToBottom();\r\n\r\n  useEffect(() => {\r\n    if (status === \"submitted\") {\r\n      scrollToBottom();\r\n    }\r\n  }, [status, scrollToBottom]);\r\n\r\n  return (\r\n    <div className=\"relative flex w-full flex-col gap-4\">\r\n      <AnimatePresence>\r\n        {!isAtBottom && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 10 }}\r\n            transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n            className=\"absolute bottom-32 left-1/2 z-50 -translate-x-1/2\"\r\n          >\r\n            <Button\r\n              data-testid=\"scroll-to-bottom-button\"\r\n              className=\"rounded-full\"\r\n              size=\"icon\"\r\n              variant=\"outline\"\r\n              onClick={(event) => {\r\n                event.preventDefault();\r\n                scrollToBottom();\r\n              }}\r\n            >\r\n              <ArrowDownIcon className=\"size-4\" />\r\n            </Button>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {messages.length === 0 &&\r\n        exampleMessages &&\r\n        exampleMessages.length > 0 && (\r\n          <SuggestedActions append={append} exampleMessages={exampleMessages} />\r\n        )}\r\n\r\n      <Textarea\r\n        data-testid=\"multimodal-input\"\r\n        ref={textareaRef}\r\n        placeholder=\"Send a message...\"\r\n        value={input}\r\n        onChange={handleInput}\r\n        className={cn(\r\n          \"bg-muted resize-none overflow-hidden text-base\",\r\n          isHosting\r\n            ? \"max-h-[75dvh] min-h-24 rounded-2xl pt-3 pb-10\"\r\n            : \"max-h-[35dvh] min-h-28 rounded-lg pt-3 pb-14\",\r\n\r\n          className,\r\n        )}\r\n        rows={2}\r\n        autoFocus\r\n        onKeyDown={(event) => {\r\n          if (\r\n            event.key === \"Enter\" &&\r\n            !event.shiftKey &&\r\n            !event.nativeEvent.isComposing\r\n          ) {\r\n            event.preventDefault();\r\n\r\n            if (status !== \"ready\") {\r\n              toast.error(\"Please wait for the model to finish its response!\");\r\n            } else {\r\n              submitForm();\r\n            }\r\n          }\r\n        }}\r\n      />\r\n\r\n      {type === \"playground\" && <ChatInputModes />}\r\n\r\n      <div className=\"absolute right-0 bottom-0 flex w-fit flex-row justify-end p-2\">\r\n        {status === \"submitted\" ? (\r\n          <StopButton stop={stop} setMessages={setMessages} />\r\n        ) : (\r\n          <SendButton input={input} submitForm={submitForm} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const MultimodalInput = memo(\r\n  PureMultimodalInput,\r\n  (prevProps, nextProps) => {\r\n    if (prevProps.input !== nextProps.input) return false;\r\n    if (prevProps.status !== nextProps.status) return false;\r\n\r\n    // cleared the chat\r\n    if (nextProps.messages.length === 0 && prevProps.messages.length > 0)\r\n      return false;\r\n\r\n    return true;\r\n  },\r\n);\r\n\r\nfunction PureStopButton({\r\n  stop,\r\n  setMessages,\r\n}: {\r\n  stop: () => void;\r\n  setMessages: Dispatch<SetStateAction<Array<Message>>>;\r\n}) {\r\n  return (\r\n    <Button\r\n      data-testid=\"stop-button\"\r\n      size=\"icon\"\r\n      className=\"rounded-full\"\r\n      onClick={(event) => {\r\n        event.preventDefault();\r\n        stop();\r\n        setMessages((messages) => messages);\r\n      }}\r\n    >\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"currentColor\"\r\n        className=\"size-4\"\r\n      >\r\n        <path\r\n          fillRule=\"evenodd\"\r\n          d=\"M4.5 7.5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3v-9Z\"\r\n          clipRule=\"evenodd\"\r\n        />\r\n      </svg>\r\n    </Button>\r\n  );\r\n}\r\n\r\nconst StopButton = memo(PureStopButton);\r\n\r\nfunction PureSendButton({\r\n  submitForm,\r\n  input,\r\n}: {\r\n  submitForm: () => void;\r\n  input: string;\r\n}) {\r\n  return (\r\n    <Button\r\n      data-testid=\"send-button\"\r\n      size=\"icon\"\r\n      className=\"rounded-full\"\r\n      onClick={(event) => {\r\n        event.preventDefault();\r\n        submitForm();\r\n      }}\r\n      disabled={input.length === 0}\r\n    >\r\n      <ArrowUpIcon className=\"size-4\" />\r\n    </Button>\r\n  );\r\n}\r\n\r\nconst SendButton = memo(PureSendButton, (prevProps, nextProps) => {\r\n  if (prevProps.input !== nextProps.input) return false;\r\n  return true;\r\n});\r\n"],"names":[],"mappings":";;;;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;;AAjBA;;;;;;;;;;;;AAmBA,MAAM,iBAAiB,CAAA,GAAA,+JAAA,CAAA,UAAO,AAAD;;;;;;IAC3B,KAAK;IACL,SAAS,kBACP,8OAAC;YAAI,WAAU;;8BACb,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;8BACpB,8OAAC,gJAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;;;;;;;;AAK1B,SAAS,oBAAoB,EAC3B,KAAK,EACL,QAAQ,EACR,MAAM,EACN,QAAQ,EACR,MAAM,EACN,IAAI,EACJ,WAAW,EACX,YAAY,EACZ,SAAS,EACT,IAAI,EACJ,eAAe,EAahB;IACC,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAuB;IAChD,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+IAAA,CAAA,gBAAa,AAAD;IAC9B,MAAM,YAAY,CAAA,GAAA,qJAAA,CAAA,eAAY,AAAD;IAE7B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,YAAY,OAAO,EAAE;YACvB;QACF;IACF,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,IAAI,YAAY,OAAO,EAAE;YACvB,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG;YACnC,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,YAAY,OAAO,CAAC,YAAY,GAAG,EAAE,EAAE,CAAC;QAChF;IACF;IAEA,MAAM,cAAc;QAClB,IAAI,YAAY,OAAO,EAAE;YACvB,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG;YACnC,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,YAAY,SAAS;QAC1D;IACF;IAEA,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,+IAAA,CAAA,kBAAe,AAAD,EAC9D,SACA;IAGF,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,YAAY,OAAO,EAAE;YACvB,MAAM,WAAW,YAAY,OAAO,CAAC,KAAK;YAC1C,yDAAyD;YACzD,MAAM,aAAa,YAAY,qBAAqB;YACpD,SAAS;YACT;QACF;IACA,gCAAgC;IAChC,uDAAuD;IACzD,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,qBAAqB;IACvB,GAAG;QAAC;QAAO;KAAqB;IAEhC,MAAM,cAAc,CAAC;QACnB,SAAS,MAAM,MAAM,CAAC,KAAK;QAC3B;IACF;IAEA,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC7B,aAAa;QAEb,qBAAqB;QACrB;QAEA,IAAI,SAAS,QAAQ,KAAK;YACxB,YAAY,OAAO,EAAE;QACvB;IACF,GAAG;QAAC;QAAc;QAAsB;KAAM;IAE9C,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,4JAAA,CAAA,oBAAiB,AAAD;IAEvD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,WAAW,aAAa;YAC1B;QACF;IACF,GAAG;QAAC;QAAQ;KAAe;IAE3B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,yLAAA,CAAA,kBAAe;0BACb,CAAC,4BACA,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC7B,SAAS;wBAAE,SAAS;wBAAG,GAAG;oBAAE;oBAC5B,MAAM;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC1B,YAAY;wBAAE,MAAM;wBAAU,WAAW;wBAAK,SAAS;oBAAG;oBAC1D,WAAU;8BAEV,cAAA,8OAAC,8IAAA,CAAA,SAAM;wBACL,eAAY;wBACZ,WAAU;wBACV,MAAK;wBACL,SAAQ;wBACR,SAAS,CAAC;4BACR,MAAM,cAAc;4BACpB;wBACF;kCAEA,cAAA,8OAAC,oNAAA,CAAA,gBAAa;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;YAMhC,SAAS,MAAM,KAAK,KACnB,mBACA,gBAAgB,MAAM,GAAG,mBACvB,8OAAC,iKAAA,CAAA,mBAAgB;gBAAC,QAAQ;gBAAQ,iBAAiB;;;;;;0BAGvD,8OAAC,gJAAA,CAAA,WAAQ;gBACP,eAAY;gBACZ,KAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU;gBACV,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,kDACA,YACI,kDACA,gDAEJ;gBAEF,MAAM;gBACN,SAAS;gBACT,WAAW,CAAC;oBACV,IACE,MAAM,GAAG,KAAK,WACd,CAAC,MAAM,QAAQ,IACf,CAAC,MAAM,WAAW,CAAC,WAAW,EAC9B;wBACA,MAAM,cAAc;wBAEpB,IAAI,WAAW,SAAS;4BACtB,wIAAA,CAAA,QAAK,CAAC,KAAK,CAAC;wBACd,OAAO;4BACL;wBACF;oBACF;gBACF;;;;;;YAGD,SAAS,8BAAgB,8OAAC;;;;;0BAE3B,8OAAC;gBAAI,WAAU;0BACZ,WAAW,4BACV,8OAAC;oBAAW,MAAM;oBAAM,aAAa;;;;;yCAErC,8OAAC;oBAAW,OAAO;oBAAO,YAAY;;;;;;;;;;;;;;;;;AAKhD;AAEO,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAChC,qBACA,CAAC,WAAW;IACV,IAAI,UAAU,KAAK,KAAK,UAAU,KAAK,EAAE,OAAO;IAChD,IAAI,UAAU,MAAM,KAAK,UAAU,MAAM,EAAE,OAAO;IAElD,mBAAmB;IACnB,IAAI,UAAU,QAAQ,CAAC,MAAM,KAAK,KAAK,UAAU,QAAQ,CAAC,MAAM,GAAG,GACjE,OAAO;IAET,OAAO;AACT;AAGF,SAAS,eAAe,EACtB,IAAI,EACJ,WAAW,EAIZ;IACC,qBACE,8OAAC,8IAAA,CAAA,SAAM;QACL,eAAY;QACZ,MAAK;QACL,WAAU;QACV,SAAS,CAAC;YACR,MAAM,cAAc;YACpB;YACA,YAAY,CAAC,WAAa;QAC5B;kBAEA,cAAA,8OAAC;YACC,OAAM;YACN,SAAQ;YACR,MAAK;YACL,WAAU;sBAEV,cAAA,8OAAC;gBACC,UAAS;gBACT,GAAE;gBACF,UAAS;;;;;;;;;;;;;;;;AAKnB;AAEA,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE;AAExB,SAAS,eAAe,EACtB,UAAU,EACV,KAAK,EAIN;IACC,qBACE,8OAAC,8IAAA,CAAA,SAAM;QACL,eAAY;QACZ,MAAK;QACL,WAAU;QACV,SAAS,CAAC;YACR,MAAM,cAAc;YACpB;QACF;QACA,UAAU,MAAM,MAAM,KAAK;kBAE3B,cAAA,8OAAC,gNAAA,CAAA,cAAW;YAAC,WAAU;;;;;;;;;;;AAG7B;AAEA,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE,gBAAgB,CAAC,WAAW;IAClD,IAAI,UAAU,KAAK,KAAK,UAAU,KAAK,EAAE,OAAO;IAChD,OAAO;AACT","debugId":null}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/hooks/use-messages.ts"],"sourcesContent":["import type { UseChatHelpers } from \"@ai-sdk/react\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport { useScrollToBottom } from \"./use-scroll-to-bottom\";\r\n\r\nexport function useMessages({\r\n  chatId,\r\n  status,\r\n}: {\r\n  chatId: string;\r\n  status: UseChatHelpers[\"status\"];\r\n}) {\r\n  const {\r\n    containerRef,\r\n    endRef,\r\n    isAtBottom,\r\n    scrollToBottom,\r\n    onViewportEnter,\r\n    onViewportLeave,\r\n  } = useScrollToBottom();\r\n\r\n  const [hasSentMessage, setHasSentMessage] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (chatId) {\r\n      scrollToBottom(\"instant\");\r\n      setHasSentMessage(false);\r\n    }\r\n  }, [chatId, scrollToBottom]);\r\n\r\n  useEffect(() => {\r\n    if (status === \"submitted\") {\r\n      setHasSentMessage(true);\r\n    }\r\n  }, [status]);\r\n\r\n  return {\r\n    containerRef,\r\n    endRef,\r\n    isAtBottom,\r\n    scrollToBottom,\r\n    onViewportEnter,\r\n    onViewportLeave,\r\n    hasSentMessage,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;AACA;AAEA;;;AAEO,SAAS,YAAY,EAC1B,MAAM,EACN,MAAM,EAIP;IACC,MAAM,EACJ,YAAY,EACZ,MAAM,EACN,UAAU,EACV,cAAc,EACd,eAAe,EACf,eAAe,EAChB,GAAG,CAAA,GAAA,4JAAA,CAAA,oBAAiB,AAAD;IAEpB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,QAAQ;YACV,eAAe;YACf,kBAAkB;QACpB;IACF,GAAG;QAAC;QAAQ;KAAe;IAE3B,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,WAAW,aAAa;YAC1B,kBAAkB;QACpB;IACF,GAAG;QAAC;KAAO;IAEX,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 535, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/lib/string-utils.ts"],"sourcesContent":["import { toSlug } from \"./slug\";\r\n\r\nconst tokenCharacters =\r\n  \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\nconst tokenCharactersLength = tokenCharacters.length;\r\n\r\nexport function generateToken(length: number) {\r\n  let result = \"\";\r\n  for (let i = 0; i < length; i++)\r\n    result += tokenCharacters.charAt(\r\n      Math.floor(Math.random() * tokenCharactersLength),\r\n    );\r\n  return result;\r\n}\r\n\r\nexport function truncate(str: string, length: number) {\r\n  if (str.length <= length) return str;\r\n  return str.slice(0, length);\r\n}\r\n\r\nexport function filenamize(value: string, length = 20) {\r\n  const token = generateToken(4);\r\n  const slug = toSlug(value, token);\r\n  const hyphenCount = (slug.match(/-/g) || []).length;\r\n  length = length + hyphenCount + token.length;\r\n\r\n  return truncate(slug, length);\r\n}\r\n\r\nexport function capitalize(str?: string | null) {\r\n  if (!str || typeof str !== \"string\") return str;\r\n\r\n  return str\r\n    .split(\" \")\r\n    .map(\r\n      (word) =>\r\n        word.charAt(0).toUpperCase() +\r\n        (word.length > 1 ? word.slice(1).toLowerCase() : \"\"),\r\n    )\r\n    .join(\" \");\r\n}\r\n\r\nexport function camelCaseToWords(str: string) {\r\n  return str\r\n    .split(/(?=[A-Z])/)\r\n    .map(capitalize)\r\n    .join(\" \");\r\n}\r\n\r\nexport function sanitizeText(text: string) {\r\n  return text.replaceAll(\"<has_function_call>\", \"\");\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,MAAM,kBACJ;AACF,MAAM,wBAAwB,gBAAgB,MAAM;AAE7C,SAAS,cAAc,MAAc;IAC1C,IAAI,SAAS;IACb,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,IAC1B,UAAU,gBAAgB,MAAM,CAC9B,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;IAE/B,OAAO;AACT;AAEO,SAAS,SAAS,GAAW,EAAE,MAAc;IAClD,IAAI,IAAI,MAAM,IAAI,QAAQ,OAAO;IACjC,OAAO,IAAI,KAAK,CAAC,GAAG;AACtB;AAEO,SAAS,WAAW,KAAa,EAAE,SAAS,EAAE;IACnD,MAAM,QAAQ,cAAc;IAC5B,MAAM,OAAO,CAAA,GAAA,iIAAA,CAAA,SAAM,AAAD,EAAE,OAAO;IAC3B,MAAM,cAAc,CAAC,KAAK,KAAK,CAAC,SAAS,EAAE,EAAE,MAAM;IACnD,SAAS,SAAS,cAAc,MAAM,MAAM;IAE5C,OAAO,SAAS,MAAM;AACxB;AAEO,SAAS,WAAW,GAAmB;IAC5C,IAAI,CAAC,OAAO,OAAO,QAAQ,UAAU,OAAO;IAE5C,OAAO,IACJ,KAAK,CAAC,KACN,GAAG,CACF,CAAC,OACC,KAAK,MAAM,CAAC,GAAG,WAAW,KAC1B,CAAC,KAAK,MAAM,GAAG,IAAI,KAAK,KAAK,CAAC,GAAG,WAAW,KAAK,EAAE,GAEtD,IAAI,CAAC;AACV;AAEO,SAAS,iBAAiB,GAAW;IAC1C,OAAO,IACJ,KAAK,CAAC,aACN,GAAG,CAAC,YACJ,IAAI,CAAC;AACV;AAEO,SAAS,aAAa,IAAY;IACvC,OAAO,KAAK,UAAU,CAAC,uBAAuB;AAChD","debugId":null}},
    {"offset": {"line": 657, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/code-block.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { cn, CopyButton } from \"@agentset/ui\";\r\n\r\ninterface CodeBlockProps {\r\n  inline?: boolean;\r\n  className?: string;\r\n  children: string;\r\n  hasCopy?: boolean;\r\n}\r\n\r\nexport function CodeBlock({\r\n  inline = false,\r\n  className,\r\n  children,\r\n  hasCopy = true,\r\n  ...props\r\n}: CodeBlockProps) {\r\n  if (!inline) {\r\n    return (\r\n      <div className=\"not-prose group relative flex flex-col\">\r\n        {hasCopy && (\r\n          <CopyButton\r\n            textToCopy={children}\r\n            className=\"absolute top-2 right-2 opacity-0 transition-opacity group-hover:opacity-100\"\r\n          />\r\n        )}\r\n\r\n        <pre\r\n          {...props}\r\n          className={cn(\r\n            \"w-full overflow-x-auto rounded-xl border border-zinc-200 p-4 text-sm text-zinc-900 dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-50\",\r\n\r\n            className,\r\n          )}\r\n        >\r\n          <code className=\"min-w-0 break-words [word-break:break-word] whitespace-pre-wrap\">\r\n            {children}\r\n          </code>\r\n        </pre>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <code\r\n      className={cn(\r\n        \"rounded-md bg-zinc-100 px-1 py-0.5 text-sm dark:bg-zinc-800\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </code>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAFA;;;AAWO,SAAS,UAAU,EACxB,SAAS,KAAK,EACd,SAAS,EACT,QAAQ,EACR,UAAU,IAAI,EACd,GAAG,OACY;IACf,IAAI,CAAC,QAAQ;QACX,qBACE,8OAAC;YAAI,WAAU;;gBACZ,yBACC,8OAAC,sJAAA,CAAA,aAAU;oBACT,YAAY;oBACZ,WAAU;;;;;;8BAId,8OAAC;oBACE,GAAG,KAAK;oBACT,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,8IAEA;8BAGF,cAAA,8OAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;;;;;;IAKX;IAEA,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,+DACA;QAED,GAAG,KAAK;kBAER;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 719, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/citation-modal.tsx"],"sourcesContent":["import { useMemo } from \"react\";\r\nimport { useHosting, useIsHosting } from \"@/contexts/hosting-context\";\r\n\r\nimport {\r\n  cn,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@agentset/ui\";\r\n\r\nimport { CodeBlock } from \"./code-block\";\r\n\r\ninterface CitationModalProps {\r\n  source: { text: string; metadata?: Record<string, unknown> };\r\n  sourceIndex: number;\r\n  triggerProps: React.ComponentProps<\"button\">;\r\n}\r\n\r\nconst HostingCitation = ({ source }: Pick<CitationModalProps, \"source\">) => {\r\n  const hosting = useHosting();\r\n  const citationName = useMemo(() => {\r\n    if (!hosting.citationMetadataPath || !source.metadata) return null;\r\n\r\n    const path = hosting.citationMetadataPath.split(\".\");\r\n    let value: unknown = source.metadata;\r\n\r\n    for (const key of path) {\r\n      if (value === null || typeof value !== \"object\") return null;\r\n      value = (value as Record<string, unknown>)[key];\r\n    }\r\n\r\n    if (typeof value === \"string\") {\r\n      return value;\r\n    }\r\n\r\n    if (typeof value === \"number\") {\r\n      return value.toString();\r\n    }\r\n\r\n    if (typeof value === \"boolean\") {\r\n      return value ? \"True\" : \"False\";\r\n    }\r\n\r\n    return null;\r\n  }, [hosting, source.metadata]);\r\n\r\n  if (!citationName) return null;\r\n  return <>{citationName}</>;\r\n};\r\n\r\nexport function CitationModal({\r\n  source,\r\n  sourceIndex,\r\n  triggerProps,\r\n}: CitationModalProps) {\r\n  const isHosting = useIsHosting();\r\n\r\n  const stringifiedMetadata = useMemo(() => {\r\n    if (!source.metadata) return null;\r\n    try {\r\n      return JSON.stringify(source.metadata, null, 2);\r\n    } catch {\r\n      return \"Failed to parse metadata!\";\r\n    }\r\n  }, [source]);\r\n\r\n  const hostingCitation = isHosting ? (\r\n    <HostingCitation source={source} />\r\n  ) : null;\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogTrigger asChild>\r\n        {hostingCitation ? (\r\n          <button\r\n            {...triggerProps}\r\n            className={cn(\r\n              triggerProps.className,\r\n              \"bg-muted text-muted-foreground hover:bg-primary hover:text-primary-foreground mx-0.5 cursor-pointer rounded-full px-2 py-0.5 text-sm font-medium hover:no-underline\",\r\n            )}\r\n          >\r\n            {hostingCitation}\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className={cn(\r\n              triggerProps.className,\r\n              \"cursor-pointer text-blue-500 hover:underline\",\r\n            )}\r\n            {...triggerProps}\r\n          >\r\n            <span className=\"mx-1.5\">{triggerProps.children}</span>\r\n          </button>\r\n        )}\r\n      </DialogTrigger>\r\n\r\n      <DialogContent\r\n        className=\"sm:max-w-2xl\"\r\n        onOpenAutoFocus={(event) => {\r\n          event.preventDefault(); // prevents Radix from auto-focusing the first focusable\r\n        }}\r\n      >\r\n        <DialogHeader>\r\n          <DialogTitle>\r\n            {hostingCitation || `Source [${sourceIndex}]`}\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <div className=\"mt-4 max-h-[60vh] overflow-y-auto\">\r\n          <p className=\"text-sm whitespace-pre-wrap\">{source.text}</p>\r\n\r\n          {stringifiedMetadata && (\r\n            <div className=\"border-border mt-6 border-t pt-6\">\r\n              <h3 className=\"text-xs font-medium\">Metadata</h3>\r\n              <div className=\"mt-2\">\r\n                <CodeBlock>{stringifiedMetadata}</CodeBlock>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;AAAA;AAAA;AASA;;;;;;AAQA,MAAM,kBAAkB,CAAC,EAAE,MAAM,EAAsC;IACrE,MAAM,UAAU,CAAA,GAAA,qJAAA,CAAA,aAAU,AAAD;IACzB,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC3B,IAAI,CAAC,QAAQ,oBAAoB,IAAI,CAAC,OAAO,QAAQ,EAAE,OAAO;QAE9D,MAAM,OAAO,QAAQ,oBAAoB,CAAC,KAAK,CAAC;QAChD,IAAI,QAAiB,OAAO,QAAQ;QAEpC,KAAK,MAAM,OAAO,KAAM;YACtB,IAAI,UAAU,QAAQ,OAAO,UAAU,UAAU,OAAO;YACxD,QAAQ,AAAC,KAAiC,CAAC,IAAI;QACjD;QAEA,IAAI,OAAO,UAAU,UAAU;YAC7B,OAAO;QACT;QAEA,IAAI,OAAO,UAAU,UAAU;YAC7B,OAAO,MAAM,QAAQ;QACvB;QAEA,IAAI,OAAO,UAAU,WAAW;YAC9B,OAAO,QAAQ,SAAS;QAC1B;QAEA,OAAO;IACT,GAAG;QAAC;QAAS,OAAO,QAAQ;KAAC;IAE7B,IAAI,CAAC,cAAc,OAAO;IAC1B,qBAAO;kBAAG;;AACZ;AAEO,SAAS,cAAc,EAC5B,MAAM,EACN,WAAW,EACX,YAAY,EACO;IACnB,MAAM,YAAY,CAAA,GAAA,qJAAA,CAAA,eAAY,AAAD;IAE7B,MAAM,sBAAsB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAClC,IAAI,CAAC,OAAO,QAAQ,EAAE,OAAO;QAC7B,IAAI;YACF,OAAO,KAAK,SAAS,CAAC,OAAO,QAAQ,EAAE,MAAM;QAC/C,EAAE,OAAM;YACN,OAAO;QACT;IACF,GAAG;QAAC;KAAO;IAEX,MAAM,kBAAkB,0BACtB,8OAAC;QAAgB,QAAQ;;;;;eACvB;IAEJ,qBACE,8OAAC,8IAAA,CAAA,SAAM;;0BACL,8OAAC,8IAAA,CAAA,gBAAa;gBAAC,OAAO;0BACnB,gCACC,8OAAC;oBACE,GAAG,YAAY;oBAChB,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,aAAa,SAAS,EACtB;8BAGD;;;;;yCAGH,8OAAC;oBACC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,aAAa,SAAS,EACtB;oBAED,GAAG,YAAY;8BAEhB,cAAA,8OAAC;wBAAK,WAAU;kCAAU,aAAa,QAAQ;;;;;;;;;;;;;;;;0BAKrD,8OAAC,8IAAA,CAAA,gBAAa;gBACZ,WAAU;gBACV,iBAAiB,CAAC;oBAChB,MAAM,cAAc,IAAI,wDAAwD;gBAClF;;kCAEA,8OAAC,8IAAA,CAAA,eAAY;kCACX,cAAA,8OAAC,8IAAA,CAAA,cAAW;sCACT,mBAAmB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;;;;;;;;;;;kCAIjD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA+B,OAAO,IAAI;;;;;;4BAEtD,qCACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAsB;;;;;;kDACpC,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,0JAAA,CAAA,YAAS;sDAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ5B","debugId":null}},
    {"offset": {"line": 901, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/citation-button.tsx"],"sourcesContent":["import type { QueryVectorStoreResult } from \"@/lib/vector-store/parse\";\r\n\r\nimport { CitationModal } from \"./citation-modal\";\r\n\r\nexport const CitationButton = ({\r\n  annotations,\r\n  node: _,\r\n  ...props\r\n}: {\r\n  children?: React.ReactNode;\r\n  annotations?: Array<Record<string, unknown>>;\r\n  \"data-citation\"?: number;\r\n  node?: any;\r\n  className?: string;\r\n}) => {\r\n  if (!props.children) return null;\r\n\r\n  const idx = props[\"data-citation\"] ? props[\"data-citation\"] - 1 : undefined;\r\n  const sources = annotations?.find((a) => a.type === \"agentset_sources\")\r\n    ?.value as QueryVectorStoreResult | undefined;\r\n\r\n  if (idx === undefined || !sources || !sources.results[idx])\r\n    return <span {...props}>{props.children}</span>;\r\n\r\n  const source = sources.results[idx];\r\n\r\n  return (\r\n    <CitationModal source={source} sourceIndex={idx + 1} triggerProps={props} />\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;;;AAEO,MAAM,iBAAiB,CAAC,EAC7B,WAAW,EACX,MAAM,CAAC,EACP,GAAG,OAOJ;IACC,IAAI,CAAC,MAAM,QAAQ,EAAE,OAAO;IAE5B,MAAM,MAAM,KAAK,CAAC,gBAAgB,GAAG,KAAK,CAAC,gBAAgB,GAAG,IAAI;IAClE,MAAM,UAAU,aAAa,KAAK,CAAC,IAAM,EAAE,IAAI,KAAK,qBAChD;IAEJ,IAAI,QAAQ,aAAa,CAAC,WAAW,CAAC,QAAQ,OAAO,CAAC,IAAI,EACxD,qBAAO,8OAAC;QAAM,GAAG,KAAK;kBAAG,MAAM,QAAQ;;;;;;IAEzC,MAAM,SAAS,QAAQ,OAAO,CAAC,IAAI;IAEnC,qBACE,8OAAC,8JAAA,CAAA,gBAAa;QAAC,QAAQ;QAAQ,aAAa,MAAM;QAAG,cAAc;;;;;;AAEvE","debugId":null}},
    {"offset": {"line": 937, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/remark-citations.ts"],"sourcesContent":["import type { Root, RootContent } from \"mdast\";\r\nimport type { Plugin } from \"unified\";\r\nimport { visit } from \"unist-util-visit\";\r\n\r\ninterface CitationNode {\r\n  type: \"citation\";\r\n  value: string;\r\n  citationNumber: number;\r\n  data: {\r\n    hName: \"span\";\r\n    hProperties: {\r\n      className: string;\r\n      \"data-citation\": number;\r\n    };\r\n    hChildren: [{ type: \"text\"; value: string }];\r\n  };\r\n}\r\n\r\ndeclare module \"mdast\" {\r\n  interface StaticPhrasingContentMap {\r\n    citation: CitationNode;\r\n  }\r\n}\r\n\r\nconst CITATION_REGEX = /\\[(\\d+)\\]/g;\r\n\r\nconst remarkCitations: Plugin<[], Root> = () => {\r\n  return (tree) => {\r\n    visit(tree, \"text\", (node, index, parent) => {\r\n      if (!parent || typeof index !== \"number\") return;\r\n\r\n      const parts: (string | CitationNode)[] = [];\r\n      let lastIndex = 0;\r\n      let match;\r\n\r\n      const nodeValue = node.value || \"\";\r\n\r\n      while ((match = CITATION_REGEX.exec(nodeValue)) !== null) {\r\n        // Add text before the citation\r\n        if (match.index > lastIndex) {\r\n          parts.push(nodeValue.slice(lastIndex, match.index));\r\n        }\r\n\r\n        // Add the citation node\r\n        const citationNumber = parseInt(match[1]!, 10);\r\n\r\n        parts.push({\r\n          type: \"citation\",\r\n          value: match[0],\r\n          citationNumber,\r\n          data: {\r\n            hName: \"span\",\r\n            hProperties: {\r\n              className: \"cursor-pointer text-blue-500 hover:underline\",\r\n              \"data-citation\": citationNumber,\r\n            },\r\n            hChildren: [{ type: \"text\", value: match[0] }],\r\n          },\r\n        });\r\n\r\n        lastIndex = match.index + match[0].length;\r\n      }\r\n\r\n      // Add any remaining text\r\n      if (lastIndex < nodeValue.length) {\r\n        parts.push(nodeValue.slice(lastIndex));\r\n      }\r\n\r\n      if (parts.length > 1) {\r\n        // Replace the current node with the array of text and citation nodes\r\n        parent.children.splice(\r\n          index,\r\n          1,\r\n          ...(parts.map((part) =>\r\n            typeof part === \"string\" ? { type: \"text\", value: part } : part,\r\n          ) as RootContent[]),\r\n        );\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport default remarkCitations;\r\n"],"names":[],"mappings":";;;AAEA;;AAsBA,MAAM,iBAAiB;AAEvB,MAAM,kBAAoC;IACxC,OAAO,CAAC;QACN,CAAA,GAAA,sKAAA,CAAA,QAAK,AAAD,EAAE,MAAM,QAAQ,CAAC,MAAM,OAAO;YAChC,IAAI,CAAC,UAAU,OAAO,UAAU,UAAU;YAE1C,MAAM,QAAmC,EAAE;YAC3C,IAAI,YAAY;YAChB,IAAI;YAEJ,MAAM,YAAY,KAAK,KAAK,IAAI;YAEhC,MAAO,CAAC,QAAQ,eAAe,IAAI,CAAC,UAAU,MAAM,KAAM;gBACxD,+BAA+B;gBAC/B,IAAI,MAAM,KAAK,GAAG,WAAW;oBAC3B,MAAM,IAAI,CAAC,UAAU,KAAK,CAAC,WAAW,MAAM,KAAK;gBACnD;gBAEA,wBAAwB;gBACxB,MAAM,iBAAiB,SAAS,KAAK,CAAC,EAAE,EAAG;gBAE3C,MAAM,IAAI,CAAC;oBACT,MAAM;oBACN,OAAO,KAAK,CAAC,EAAE;oBACf;oBACA,MAAM;wBACJ,OAAO;wBACP,aAAa;4BACX,WAAW;4BACX,iBAAiB;wBACnB;wBACA,WAAW;4BAAC;gCAAE,MAAM;gCAAQ,OAAO,KAAK,CAAC,EAAE;4BAAC;yBAAE;oBAChD;gBACF;gBAEA,YAAY,MAAM,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,MAAM;YAC3C;YAEA,yBAAyB;YACzB,IAAI,YAAY,UAAU,MAAM,EAAE;gBAChC,MAAM,IAAI,CAAC,UAAU,KAAK,CAAC;YAC7B;YAEA,IAAI,MAAM,MAAM,GAAG,GAAG;gBACpB,qEAAqE;gBACrE,OAAO,QAAQ,CAAC,MAAM,CACpB,OACA,MACI,MAAM,GAAG,CAAC,CAAC,OACb,OAAO,SAAS,WAAW;wBAAE,MAAM;wBAAQ,OAAO;oBAAK,IAAI;YAGjE;QACF;IACF;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 999, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/markdown.tsx"],"sourcesContent":["import type { Components } from \"react-markdown\";\r\nimport { memo } from \"react\";\r\nimport Link from \"next/link\";\r\nimport equal from \"fast-deep-equal\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport remarkGfm from \"remark-gfm\";\r\n\r\nimport { CitationButton } from \"./citation-button\";\r\nimport { CodeBlock } from \"./code-block\";\r\nimport remarkCitations from \"./remark-citations\";\r\n\r\ninterface MarkdownProps {\r\n  children: string;\r\n  annotations?: Array<Record<string, unknown>>;\r\n}\r\n\r\nconst components: Partial<Components> = {\r\n  // @ts-expect-error - idk\r\n  code: CodeBlock,\r\n  pre: ({ children }) => <>{children}</>,\r\n  ol: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <ol className=\"ml-4 list-outside list-decimal\" {...props}>\r\n        {children}\r\n      </ol>\r\n    );\r\n  },\r\n  li: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <li className=\"py-1\" {...props}>\r\n        {children}\r\n      </li>\r\n    );\r\n  },\r\n  ul: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <ul className=\"ml-4 list-outside list-decimal\" {...props}>\r\n        {children}\r\n      </ul>\r\n    );\r\n  },\r\n  strong: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <span className=\"font-semibold\" {...props}>\r\n        {children}\r\n      </span>\r\n    );\r\n  },\r\n  a: ({ node: _, children, ...props }) => {\r\n    return (\r\n      // @ts-expect-error - idk\r\n      <Link\r\n        className=\"text-blue-500 hover:underline\"\r\n        target=\"_blank\"\r\n        rel=\"noreferrer\"\r\n        {...props}\r\n      >\r\n        {children}\r\n      </Link>\r\n    );\r\n  },\r\n  h1: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <h1 className=\"mt-6 mb-2 text-3xl font-semibold\" {...props}>\r\n        {children}\r\n      </h1>\r\n    );\r\n  },\r\n  h2: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <h2 className=\"mt-6 mb-2 text-2xl font-semibold\" {...props}>\r\n        {children}\r\n      </h2>\r\n    );\r\n  },\r\n  h3: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <h3 className=\"mt-6 mb-2 text-xl font-semibold\" {...props}>\r\n        {children}\r\n      </h3>\r\n    );\r\n  },\r\n  h4: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <h4 className=\"mt-6 mb-2 text-lg font-semibold\" {...props}>\r\n        {children}\r\n      </h4>\r\n    );\r\n  },\r\n  h5: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <h5 className=\"mt-6 mb-2 text-base font-semibold\" {...props}>\r\n        {children}\r\n      </h5>\r\n    );\r\n  },\r\n  h6: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <h6 className=\"mt-6 mb-2 text-sm font-semibold\" {...props}>\r\n        {children}\r\n      </h6>\r\n    );\r\n  },\r\n  span: ({ node: _, children, ...props }) => {\r\n    return (\r\n      <span className=\"cursor-pointer text-blue-500 hover:underline\" {...props}>\r\n        {children}\r\n      </span>\r\n    );\r\n  },\r\n};\r\n\r\nconst remarkPlugins = [remarkGfm, remarkCitations];\r\n\r\nconst NonMemoizedMarkdown = ({ children, annotations }: MarkdownProps) => {\r\n  return (\r\n    <ReactMarkdown\r\n      remarkPlugins={remarkPlugins}\r\n      components={{\r\n        ...components,\r\n        span: (props) => (\r\n          <CitationButton {...props} annotations={annotations} />\r\n        ),\r\n      }}\r\n    >\r\n      {children}\r\n    </ReactMarkdown>\r\n  );\r\n};\r\n\r\nexport const Markdown = memo(\r\n  NonMemoizedMarkdown,\r\n  (prevProps, nextProps) =>\r\n    prevProps.children === nextProps.children &&\r\n    equal(prevProps.annotations, nextProps.annotations),\r\n);\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1194, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/search-chunk.tsx"],"sourcesContent":["import type { QueryVectorStoreResult } from \"@/lib/vector-store/parse\";\r\nimport { useState } from \"react\";\r\n\r\nimport { Button } from \"@agentset/ui\";\r\n\r\nimport { CodeBlock } from \"./chat/code-block\";\r\n\r\nconst CollapsibleMetadata = ({ metadata }: { metadata: unknown }) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  return (\r\n    <div className=\"border-border mt-3 border-t pt-3\">\r\n      <div className=\"flex items-center gap-2\">\r\n        <h3 className=\"text-xs font-medium\">Metadata</h3>\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          className=\"h-auto px-2 py-1 text-xs\"\r\n          onClick={() => setOpen(!open)}\r\n        >\r\n          {open ? \"Hide\" : \"Show\"}\r\n        </Button>\r\n      </div>\r\n\r\n      {open ? (\r\n        <div className=\"mt-2\">\r\n          <CodeBlock inline={false} className=\"bg-white\">\r\n            {JSON.stringify(metadata, null, 2)}\r\n          </CodeBlock>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SearchChunk = ({\r\n  chunk,\r\n  index,\r\n  originalIndex,\r\n  truncate = false,\r\n  query,\r\n}: {\r\n  chunk: QueryVectorStoreResult[\"results\"][number];\r\n  index?: number;\r\n  originalIndex?: number;\r\n  truncate?: boolean;\r\n  query?: string;\r\n}) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const text = chunk.text;\r\n  const shouldTruncate = truncate && !expanded && text.length > 500;\r\n  const displayText = shouldTruncate ? text.slice(0, 500) + \"...\" : text;\r\n\r\n  // Highlight query matches\r\n  // TODO: bring back highlighting\r\n  // const highlightedText = useMemo(() => {\r\n  //   let final = displayText;\r\n  //   if (query && query.trim().length > 0) {\r\n  //     try {\r\n  //       // Split query into words, filter out empty, escape regex\r\n  //       const words = query\r\n  //         .split(/\\s+/)\r\n  //         .filter(Boolean)\r\n  //         .map((w) => w.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\"));\r\n  //       if (words.length > 0) {\r\n  //         // Join with | for substring match (not word boundary)\r\n  //         const regex = new RegExp(`(${words.join(\"|\")})`, \"gi\");\r\n  //         final = displayText.replace(\r\n  //           regex,\r\n  //           '<mark class=\"bg-yellow-200\">$1</mark>',\r\n  //         );\r\n  //       }\r\n  //     } catch {}\r\n  //   }\r\n\r\n  //   return final;\r\n  // }, [displayText, query]);\r\n\r\n  return (\r\n    <div className=\"bg-secondary rounded-md p-4\">\r\n      <div className=\"flex justify-between\">\r\n        <div>\r\n          <p className=\"text-muted-foreground text-xs\">Score: {chunk.score}</p>\r\n          {chunk.rerankScore && (\r\n            <p className=\"text-muted-foreground text-xs\">\r\n              Re-rank score: {chunk.rerankScore}\r\n            </p>\r\n          )}\r\n        </div>\r\n        {originalIndex !== undefined && index !== undefined ? (\r\n          <div>\r\n            <p className=\"text-muted-foreground text-xs\">\r\n              Original order: {originalIndex + 1}\r\n            </p>\r\n            <p className=\"text-muted-foreground text-xs\">\r\n              Current order: {index + 1}\r\n            </p>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"mt-2 text-sm\">\r\n        <span\r\n          dangerouslySetInnerHTML={{\r\n            __html: displayText.replace(/(\\n)/g, \"<br />\"),\r\n          }}\r\n        />\r\n        {shouldTruncate && (\r\n          <Button\r\n            size=\"sm\"\r\n            variant=\"link\"\r\n            className=\"ml-1 px-0\"\r\n            onClick={() => setExpanded(true)}\r\n          >\r\n            See more\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      {chunk.metadata && <CollapsibleMetadata metadata={chunk.metadata} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchChunk;\r\n"],"names":[],"mappings":";;;;AACA;AAEA;AAAA;AAEA;;;;;AAEA,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAAyB;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAsB;;;;;;kCACpC,8OAAC,8IAAA,CAAA,SAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,WAAU;wBACV,SAAS,IAAM,QAAQ,CAAC;kCAEvB,OAAO,SAAS;;;;;;;;;;;;YAIpB,qBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,0JAAA,CAAA,YAAS;oBAAC,QAAQ;oBAAO,WAAU;8BACjC,KAAK,SAAS,CAAC,UAAU,MAAM;;;;;;;;;;uBAGlC;;;;;;;AAGV;AAEA,MAAM,cAAc,CAAC,EACnB,KAAK,EACL,KAAK,EACL,aAAa,EACb,WAAW,KAAK,EAChB,KAAK,EAON;IACC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,OAAO,MAAM,IAAI;IACvB,MAAM,iBAAiB,YAAY,CAAC,YAAY,KAAK,MAAM,GAAG;IAC9D,MAAM,cAAc,iBAAiB,KAAK,KAAK,CAAC,GAAG,OAAO,QAAQ;IAElE,0BAA0B;IAC1B,gCAAgC;IAChC,0CAA0C;IAC1C,6BAA6B;IAC7B,4CAA4C;IAC5C,YAAY;IACZ,kEAAkE;IAClE,4BAA4B;IAC5B,wBAAwB;IACxB,2BAA2B;IAC3B,iEAAiE;IACjE,gCAAgC;IAChC,iEAAiE;IACjE,kEAAkE;IAClE,uCAAuC;IACvC,mBAAmB;IACnB,qDAAqD;IACrD,aAAa;IACb,UAAU;IACV,iBAAiB;IACjB,MAAM;IAEN,kBAAkB;IAClB,4BAA4B;IAE5B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAE,WAAU;;oCAAgC;oCAAQ,MAAM,KAAK;;;;;;;4BAC/D,MAAM,WAAW,kBAChB,8OAAC;gCAAE,WAAU;;oCAAgC;oCAC3B,MAAM,WAAW;;;;;;;;;;;;;oBAItC,kBAAkB,aAAa,UAAU,0BACxC,8OAAC;;0CACC,8OAAC;gCAAE,WAAU;;oCAAgC;oCAC1B,gBAAgB;;;;;;;0CAEnC,8OAAC;gCAAE,WAAU;;oCAAgC;oCAC3B,QAAQ;;;;;;;;;;;;+BAG1B;;;;;;;0BAEN,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,yBAAyB;4BACvB,QAAQ,YAAY,OAAO,CAAC,SAAS;wBACvC;;;;;;oBAED,gCACC,8OAAC,8IAAA,CAAA,SAAM;wBACL,MAAK;wBACL,SAAQ;wBACR,WAAU;wBACV,SAAS,IAAM,YAAY;kCAC5B;;;;;;;;;;;;YAMJ,MAAM,QAAQ,kBAAI,8OAAC;gBAAoB,UAAU,MAAM,QAAQ;;;;;;;;;;;;AAGtE;uCAEe","debugId":null}},
    {"offset": {"line": 1412, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/message-actions/logs.tsx"],"sourcesContent":["import type { QueryVectorStoreResult } from \"@/lib/vector-store/parse\";\r\nimport type { Message } from \"ai\";\r\nimport SearchChunk from \"@/components/search-chunk\";\r\nimport { LogsIcon } from \"lucide-react\";\r\n\r\nimport {\r\n  Accordion,\r\n  AccordionContent,\r\n  AccordionItem,\r\n  AccordionTrigger,\r\n  Button,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n  Tabs,\r\n  TabsContent,\r\n  TabsList,\r\n  TabsTrigger,\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipTrigger,\r\n} from \"@agentset/ui\";\r\n\r\nimport { CodeBlock } from \"../code-block\";\r\n\r\nexport default function MessageLogs({ message }: { message: Message }) {\r\n  const annotation = (\r\n    message.annotations as Record<string, unknown>[] | undefined\r\n  )?.find((a) => a.type === \"agentset_sources\") as\r\n    | {\r\n        value: QueryVectorStoreResult;\r\n        logs?: QueryVectorStoreResult[];\r\n      }\r\n    | undefined;\r\n\r\n  const sources = annotation?.logs ?? annotation?.value;\r\n  const hasMultipleQueries = Array.isArray(sources);\r\n\r\n  return (\r\n    <Dialog>\r\n      <Tooltip>\r\n        <TooltipTrigger asChild>\r\n          <DialogTrigger asChild>\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"text-muted-foreground h-fit px-2 py-1\"\r\n            >\r\n              <LogsIcon className=\"size-4\" />\r\n            </Button>\r\n          </DialogTrigger>\r\n        </TooltipTrigger>\r\n\r\n        <DialogContent className=\"max-h-[80vh] overflow-y-auto sm:max-w-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>Logs</DialogTitle>\r\n            <DialogDescription>\r\n              View the logs for this message.\r\n            </DialogDescription>\r\n\r\n            {sources ? (\r\n              hasMultipleQueries ? (\r\n                <Accordion type=\"multiple\" className=\"flex flex-col gap-10\">\r\n                  {sources.map((source, queryIdx) => (\r\n                    <div key={queryIdx}>\r\n                      <CodeBlock>{source.query}</CodeBlock>\r\n\r\n                      <AccordionItem value={`query-${queryIdx}`}>\r\n                        <AccordionTrigger>View Chunks</AccordionTrigger>\r\n\r\n                        <AccordionContent>\r\n                          <Tabs defaultValue=\"chunks\">\r\n                            <TabsList className=\"my-3 w-full\">\r\n                              <TabsTrigger value=\"chunks\">Chunks</TabsTrigger>\r\n                              <TabsTrigger value=\"re-ranked\">\r\n                                Re-ranked\r\n                              </TabsTrigger>\r\n                            </TabsList>\r\n\r\n                            <TabsContent value=\"query\">\r\n                              <CodeBlock>{source.query}</CodeBlock>\r\n                            </TabsContent>\r\n\r\n                            <TabsContent\r\n                              value=\"chunks\"\r\n                              className=\"flex flex-col gap-6\"\r\n                            >\r\n                              {(source.unorderedIds\r\n                                ? source.unorderedIds.map(\r\n                                    (id) =>\r\n                                      source.results.find(\r\n                                        (result) => result.id === id,\r\n                                      )!,\r\n                                  )\r\n                                : source.results\r\n                              )\r\n                                .filter(Boolean)\r\n                                .map((chunk) => (\r\n                                  <SearchChunk key={chunk.id} chunk={chunk} />\r\n                                ))}\r\n                            </TabsContent>\r\n\r\n                            <TabsContent\r\n                              value=\"re-ranked\"\r\n                              className=\"flex flex-col gap-6\"\r\n                            >\r\n                              {source.unorderedIds ? (\r\n                                source.results.map((chunk, idx) => (\r\n                                  <SearchChunk\r\n                                    key={chunk.id}\r\n                                    chunk={chunk}\r\n                                    index={idx}\r\n                                    originalIndex={source.unorderedIds!.findIndex(\r\n                                      (id) => id === chunk.id,\r\n                                    )}\r\n                                  />\r\n                                ))\r\n                              ) : (\r\n                                <p>Re-ranking is disabled.</p>\r\n                              )}\r\n                            </TabsContent>\r\n                          </Tabs>\r\n                        </AccordionContent>\r\n                      </AccordionItem>\r\n                    </div>\r\n                  ))}\r\n                </Accordion>\r\n              ) : (\r\n                <Tabs defaultValue=\"query\">\r\n                  <TabsList className=\"my-3 w-full\">\r\n                    <TabsTrigger value=\"query\">Query</TabsTrigger>\r\n                    <TabsTrigger value=\"chunks\">Chunks</TabsTrigger>\r\n                    <TabsTrigger value=\"re-ranked\">Re-ranked</TabsTrigger>\r\n                  </TabsList>\r\n\r\n                  <TabsContent value=\"query\">\r\n                    <CodeBlock>{sources.query}</CodeBlock>\r\n                  </TabsContent>\r\n\r\n                  <TabsContent value=\"chunks\" className=\"flex flex-col gap-6\">\r\n                    {(sources.unorderedIds\r\n                      ? sources.unorderedIds.map(\r\n                          (id) =>\r\n                            sources.results.find((result) => result.id === id)!,\r\n                        )\r\n                      : sources.results\r\n                    )\r\n                      .filter(Boolean)\r\n                      .map((chunk) => (\r\n                        <SearchChunk key={chunk.id} chunk={chunk} />\r\n                      ))}\r\n                  </TabsContent>\r\n\r\n                  <TabsContent\r\n                    value=\"re-ranked\"\r\n                    className=\"flex flex-col gap-6\"\r\n                  >\r\n                    {sources.unorderedIds ? (\r\n                      sources.results.map((chunk, idx) => (\r\n                        <SearchChunk\r\n                          key={chunk.id}\r\n                          chunk={chunk}\r\n                          index={idx}\r\n                          originalIndex={sources.unorderedIds!.findIndex(\r\n                            (id) => id === chunk.id,\r\n                          )}\r\n                        />\r\n                      ))\r\n                    ) : (\r\n                      <p>Re-ranking is disabled.</p>\r\n                    )}\r\n                  </TabsContent>\r\n                </Tabs>\r\n              )\r\n            ) : (\r\n              <p>No logs available</p>\r\n            )}\r\n          </DialogHeader>\r\n        </DialogContent>\r\n\r\n        <TooltipContent>Logs</TooltipContent>\r\n      </Tooltip>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1750, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/message-actions/index.tsx"],"sourcesContent":["import type { Message } from \"ai\";\r\nimport { memo } from \"react\";\r\nimport { useIsHosting } from \"@/contexts/hosting-context\";\r\nimport { CopyIcon } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { useCopyToClipboard } from \"usehooks-ts\";\r\n\r\nimport { Button, Tooltip, TooltipContent, TooltipTrigger } from \"@agentset/ui\";\r\n\r\nimport MessageLogs from \"./logs\";\r\n\r\nexport function PureMessageActions({\r\n  chatId: _chatId,\r\n  message,\r\n  isLoading,\r\n}: {\r\n  chatId: string;\r\n  message: Message;\r\n  isLoading: boolean;\r\n}) {\r\n  const [_, copyToClipboard] = useCopyToClipboard();\r\n  const isHosting = useIsHosting();\r\n\r\n  if (isLoading) return null;\r\n  if (message.role === \"user\") return null;\r\n\r\n  return (\r\n    <div className=\"flex flex-row gap-2\">\r\n      <Tooltip>\r\n        <TooltipTrigger asChild>\r\n          <Button\r\n            className=\"text-muted-foreground h-fit px-2 py-1\"\r\n            variant=\"outline\"\r\n            onClick={async () => {\r\n              const textFromParts = message.parts\r\n                ?.filter((part) => part.type === \"text\")\r\n                .map((part) => part.text)\r\n                .join(\"\\n\")\r\n                .trim();\r\n\r\n              if (!textFromParts) {\r\n                toast.error(\"There's no text to copy!\");\r\n                return;\r\n              }\r\n\r\n              await copyToClipboard(textFromParts);\r\n              toast.success(\"Copied to clipboard!\");\r\n            }}\r\n          >\r\n            <CopyIcon className=\"size-4\" />\r\n          </Button>\r\n        </TooltipTrigger>\r\n        <TooltipContent>Copy</TooltipContent>\r\n      </Tooltip>\r\n\r\n      {!isHosting && <MessageLogs message={message} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const MessageActions = memo(\r\n  PureMessageActions,\r\n  (prevProps, nextProps) => {\r\n    if (prevProps.isLoading !== nextProps.isLoading) return false;\r\n\r\n    return true;\r\n  },\r\n);\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;;;;;;;;;AAEO,SAAS,mBAAmB,EACjC,QAAQ,OAAO,EACf,OAAO,EACP,SAAS,EAKV;IACC,MAAM,CAAC,GAAG,gBAAgB,GAAG,CAAA,GAAA,+IAAA,CAAA,qBAAkB,AAAD;IAC9C,MAAM,YAAY,CAAA,GAAA,qJAAA,CAAA,eAAY,AAAD;IAE7B,IAAI,WAAW,OAAO;IACtB,IAAI,QAAQ,IAAI,KAAK,QAAQ,OAAO;IAEpC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,+IAAA,CAAA,UAAO;;kCACN,8OAAC,+IAAA,CAAA,iBAAc;wBAAC,OAAO;kCACrB,cAAA,8OAAC,8IAAA,CAAA,SAAM;4BACL,WAAU;4BACV,SAAQ;4BACR,SAAS;gCACP,MAAM,gBAAgB,QAAQ,KAAK,EAC/B,OAAO,CAAC,OAAS,KAAK,IAAI,KAAK,QAChC,IAAI,CAAC,OAAS,KAAK,IAAI,EACvB,KAAK,MACL;gCAEH,IAAI,CAAC,eAAe;oCAClB,wIAAA,CAAA,QAAK,CAAC,KAAK,CAAC;oCACZ;gCACF;gCAEA,MAAM,gBAAgB;gCACtB,wIAAA,CAAA,QAAK,CAAC,OAAO,CAAC;4BAChB;sCAEA,cAAA,8OAAC,sMAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;;;;;;;;;;;kCAGxB,8OAAC,+IAAA,CAAA,iBAAc;kCAAC;;;;;;;;;;;;YAGjB,CAAC,2BAAa,8OAAC,uKAAA,CAAA,UAAW;gBAAC,SAAS;;;;;;;;;;;;AAG3C;AAEO,MAAM,+BAAiB,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAC/B,oBACA,CAAC,WAAW;IACV,IAAI,UAAU,SAAS,KAAK,UAAU,SAAS,EAAE,OAAO;IAExD,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1850, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/message-editor.tsx"],"sourcesContent":["\"use client\";\r\n\r\n// import { deleteTrailingMessages } from '@/app/(chat)/actions';\r\nimport type { UseChatHelpers } from \"@ai-sdk/react\";\r\nimport type { Message } from \"ai\";\r\nimport type { Dispatch, SetStateAction } from \"react\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { ChatRequestOptions } from \"ai\";\r\n\r\nimport { Button, Textarea } from \"@agentset/ui\";\r\n\r\nexport type MessageEditorProps = {\r\n  message: Message;\r\n  setMode: Dispatch<SetStateAction<\"view\" | \"edit\">>;\r\n  setMessages: UseChatHelpers[\"setMessages\"];\r\n  reload: UseChatHelpers[\"reload\"];\r\n};\r\n\r\nexport function MessageEditor({\r\n  message,\r\n  setMode,\r\n  setMessages,\r\n  reload,\r\n}: MessageEditorProps) {\r\n  const [isSubmitting, setIsSubmitting] = useState<boolean>(false);\r\n\r\n  const [draftContent, setDraftContent] = useState<string>(message.content);\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (textareaRef.current) {\r\n      adjustHeight();\r\n    }\r\n  }, []);\r\n\r\n  const adjustHeight = () => {\r\n    if (textareaRef.current) {\r\n      textareaRef.current.style.height = \"auto\";\r\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight + 2}px`;\r\n    }\r\n  };\r\n\r\n  const handleInput = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n    setDraftContent(event.target.value);\r\n    adjustHeight();\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex w-full flex-col gap-2\">\r\n      <Textarea\r\n        data-testid=\"message-editor\"\r\n        ref={textareaRef}\r\n        className=\"w-full resize-none overflow-hidden rounded-xl bg-transparent !text-base outline-none\"\r\n        value={draftContent}\r\n        onChange={handleInput}\r\n      />\r\n\r\n      <div className=\"flex flex-row justify-end gap-2\">\r\n        <Button\r\n          variant=\"outline\"\r\n          className=\"h-fit px-3 py-2\"\r\n          onClick={() => {\r\n            setMode(\"view\");\r\n          }}\r\n        >\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          data-testid=\"message-editor-send-button\"\r\n          variant=\"default\"\r\n          className=\"h-fit px-3 py-2\"\r\n          disabled={isSubmitting}\r\n          onClick={async () => {\r\n            setIsSubmitting(true);\r\n\r\n            // await deleteTrailingMessages({\r\n            //   id: message.id,\r\n            // });\r\n\r\n            // @ts-expect-error todo: support UIMessage in setMessages\r\n            setMessages((messages) => {\r\n              const index = messages.findIndex((m) => m.id === message.id);\r\n\r\n              if (index !== -1) {\r\n                const updatedMessage = {\r\n                  ...message,\r\n                  content: draftContent,\r\n                  parts: [{ type: \"text\", text: draftContent }],\r\n                };\r\n\r\n                return [...messages.slice(0, index), updatedMessage];\r\n              }\r\n\r\n              return messages;\r\n            });\r\n\r\n            setMode(\"view\");\r\n            void reload();\r\n          }}\r\n        >\r\n          {isSubmitting ? \"Sending...\" : \"Send\"}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAMA;AAGA;AAAA;AAAA;AATA;;;;AAkBO,SAAS,cAAc,EAC5B,OAAO,EACP,OAAO,EACP,WAAW,EACX,MAAM,EACa;IACnB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAE1D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,QAAQ,OAAO;IACxE,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAuB;IAEhD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,YAAY,OAAO,EAAE;YACvB;QACF;IACF,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,IAAI,YAAY,OAAO,EAAE;YACvB,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG;YACnC,YAAY,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,YAAY,OAAO,CAAC,YAAY,GAAG,EAAE,EAAE,CAAC;QAChF;IACF;IAEA,MAAM,cAAc,CAAC;QACnB,gBAAgB,MAAM,MAAM,CAAC,KAAK;QAClC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,gJAAA,CAAA,WAAQ;gBACP,eAAY;gBACZ,KAAK;gBACL,WAAU;gBACV,OAAO;gBACP,UAAU;;;;;;0BAGZ,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,8IAAA,CAAA,SAAM;wBACL,SAAQ;wBACR,WAAU;wBACV,SAAS;4BACP,QAAQ;wBACV;kCACD;;;;;;kCAGD,8OAAC,8IAAA,CAAA,SAAM;wBACL,eAAY;wBACZ,SAAQ;wBACR,WAAU;wBACV,UAAU;wBACV,SAAS;4BACP,gBAAgB;4BAEhB,iCAAiC;4BACjC,oBAAoB;4BACpB,MAAM;4BAEN,0DAA0D;4BAC1D,YAAY,CAAC;gCACX,MAAM,QAAQ,SAAS,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,QAAQ,EAAE;gCAE3D,IAAI,UAAU,CAAC,GAAG;oCAChB,MAAM,iBAAiB;wCACrB,GAAG,OAAO;wCACV,SAAS;wCACT,OAAO;4CAAC;gDAAE,MAAM;gDAAQ,MAAM;4CAAa;yCAAE;oCAC/C;oCAEA,OAAO;2CAAI,SAAS,KAAK,CAAC,GAAG;wCAAQ;qCAAe;gCACtD;gCAEA,OAAO;4BACT;4BAEA,QAAQ;4BACR,KAAK;wBACP;kCAEC,eAAe,eAAe;;;;;;;;;;;;;;;;;;AAKzC","debugId":null}},
    {"offset": {"line": 1969, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/message-reasoning.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Markdown } from \"./markdown\";\r\nimport { ChevronDownIcon, LoaderIcon } from \"lucide-react\";\r\n\r\ninterface MessageReasoningProps {\r\n  isLoading: boolean;\r\n  reasoning: string;\r\n}\r\n\r\nexport function MessageReasoning({\r\n  isLoading,\r\n  reasoning,\r\n}: MessageReasoningProps) {\r\n  const [isExpanded, setIsExpanded] = useState(true);\r\n\r\n  const variants = {\r\n    collapsed: {\r\n      height: 0,\r\n      opacity: 0,\r\n      marginTop: 0,\r\n      marginBottom: 0,\r\n    },\r\n    expanded: {\r\n      height: \"auto\",\r\n      opacity: 1,\r\n      marginTop: \"1rem\",\r\n      marginBottom: \"0.5rem\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col\">\r\n      {isLoading ? (\r\n        <div className=\"flex flex-row items-center gap-2\">\r\n          <div className=\"font-medium\">Reasoning</div>\r\n          <div className=\"animate-spin\">\r\n            <LoaderIcon />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex flex-row items-center gap-2\">\r\n          <div className=\"font-medium\">Reasoned for a few seconds</div>\r\n          <button\r\n            data-testid=\"message-reasoning-toggle\"\r\n            type=\"button\"\r\n            className=\"cursor-pointer\"\r\n            onClick={() => {\r\n              setIsExpanded(!isExpanded);\r\n            }}\r\n          >\r\n            <ChevronDownIcon />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <AnimatePresence initial={false}>\r\n        {isExpanded && (\r\n          <motion.div\r\n            data-testid=\"message-reasoning\"\r\n            key=\"content\"\r\n            initial=\"collapsed\"\r\n            animate=\"expanded\"\r\n            exit=\"collapsed\"\r\n            variants={variants}\r\n            transition={{ duration: 0.2, ease: \"easeInOut\" }}\r\n            style={{ overflow: \"hidden\" }}\r\n            className=\"flex flex-col gap-4 border-l pl-4 text-zinc-600 dark:text-zinc-400\"\r\n          >\r\n            <Markdown>{reasoning}</Markdown>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AACA;AAAA;AALA;;;;;;AAYO,SAAS,iBAAiB,EAC/B,SAAS,EACT,SAAS,EACa;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,WAAW;QACf,WAAW;YACT,QAAQ;YACR,SAAS;YACT,WAAW;YACX,cAAc;QAChB;QACA,UAAU;YACR,QAAQ;YACR,SAAS;YACT,WAAW;YACX,cAAc;QAChB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,0BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAAc;;;;;;kCAC7B,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,0MAAA,CAAA,aAAU;;;;;;;;;;;;;;;qCAIf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAAc;;;;;;kCAC7B,8OAAC;wBACC,eAAY;wBACZ,MAAK;wBACL,WAAU;wBACV,SAAS;4BACP,cAAc,CAAC;wBACjB;kCAEA,cAAA,8OAAC,wNAAA,CAAA,kBAAe;;;;;;;;;;;;;;;;0BAKtB,8OAAC,yLAAA,CAAA,kBAAe;gBAAC,SAAS;0BACvB,4BACC,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;oBACT,eAAY;oBAEZ,SAAQ;oBACR,SAAQ;oBACR,MAAK;oBACL,UAAU;oBACV,YAAY;wBAAE,UAAU;wBAAK,MAAM;oBAAY;oBAC/C,OAAO;wBAAE,UAAU;oBAAS;oBAC5B,WAAU;8BAEV,cAAA,8OAAC,qJAAA,CAAA,WAAQ;kCAAE;;;;;;mBATP;;;;;;;;;;;;;;;;AAehB","debugId":null}},
    {"offset": {"line": 2112, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/message.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport type { UseChatHelpers } from \"@ai-sdk/react\";\r\nimport type { JSONValue, UIMessage } from \"ai\";\r\nimport { memo, useState } from \"react\";\r\nimport { sanitizeText } from \"@/lib/string-utils\";\r\nimport equal from \"fast-deep-equal\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport { PencilIcon, SparklesIcon } from \"lucide-react\";\r\n\r\nimport {\r\n  Button,\r\n  cn,\r\n  ShinyText,\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipTrigger,\r\n} from \"@agentset/ui\";\r\n\r\nimport { Markdown } from \"./markdown\";\r\nimport { MessageActions } from \"./message-actions\";\r\nimport { MessageEditor } from \"./message-editor\";\r\nimport { MessageReasoning } from \"./message-reasoning\";\r\n\r\ntype StatusAnnotation = {\r\n  type: \"status\";\r\n  value: \"generating-queries\" | \"searching\" | \"generating-answer\";\r\n  queries?: {\r\n    type: \"keyword\" | \"semantic\";\r\n    query: string;\r\n  }[];\r\n};\r\n\r\nconst Annotations = ({\r\n  annotations,\r\n  isLoading,\r\n}: {\r\n  annotations?: JSONValue[];\r\n  isLoading: boolean;\r\n}) => {\r\n  if (!annotations) return null;\r\n\r\n  // get the last item with type status\r\n  const statuses = annotations.filter(\r\n    (a) => !!a && typeof a === \"object\" && \"type\" in a && a.type === \"status\",\r\n  ) as StatusAnnotation[];\r\n\r\n  if (statuses.length === 0) return null;\r\n\r\n  const reversed = statuses.reverse();\r\n  // we reverse the statuses to get the latest queries\r\n  const queries = reversed.find((s) => !!s.queries)?.queries;\r\n\r\n  const queryString = queries\r\n    ? queries.map((q, idx) => (\r\n        <i key={idx}>\r\n          {q.query}\r\n          {idx < queries.length - 1 && \", \"}\r\n        </i>\r\n      ))\r\n    : null;\r\n\r\n  // get the first item (latest) with type status\r\n  const status = reversed[0]!;\r\n\r\n  // TODO: Searched for 1, 2, 3, +x other terms\r\n  return (\r\n    <ShinyText\r\n      className=\"w-fit font-medium\"\r\n      shimmerWidth={status.value === \"searching\" ? 40 : 100}\r\n      disabled={!isLoading}\r\n    >\r\n      {isLoading\r\n        ? {\r\n            \"generating-queries\": \"Generating queries...\",\r\n            searching: \"Searching for \",\r\n            \"generating-answer\": \"Searched for \",\r\n          }[status.value]\r\n        : \"Searched for \"}\r\n      {queryString}\r\n    </ShinyText>\r\n  );\r\n};\r\n\r\nconst PurePreviewMessage = ({\r\n  chatId,\r\n  message,\r\n  isLoading,\r\n  setMessages,\r\n  reload,\r\n  isReadonly,\r\n  requiresScrollPadding,\r\n}: {\r\n  chatId: string;\r\n  message: UIMessage;\r\n  isLoading: boolean;\r\n  setMessages: UseChatHelpers[\"setMessages\"];\r\n  reload: UseChatHelpers[\"reload\"];\r\n  isReadonly: boolean;\r\n  requiresScrollPadding: boolean;\r\n}) => {\r\n  const [mode, setMode] = useState<\"view\" | \"edit\">(\"view\");\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        data-testid={`message-${message.role}`}\r\n        className=\"group/message mx-auto w-full max-w-3xl px-4\"\r\n        initial={{ y: 5, opacity: 0 }}\r\n        animate={{ y: 0, opacity: 1 }}\r\n        data-role={message.role}\r\n      >\r\n        <div\r\n          className={cn(\r\n            \"flex w-full gap-4 group-data-[role=user]/message:ml-auto group-data-[role=user]/message:max-w-2xl\",\r\n            mode === \"edit\" ? \"w-full\" : \"group-data-[role=user]/message:w-fit\",\r\n          )}\r\n        >\r\n          {message.role === \"assistant\" && (\r\n            <div className=\"ring-border bg-background flex size-8 shrink-0 items-center justify-center rounded-full ring-1\">\r\n              <div className=\"translate-y-px\">\r\n                <SparklesIcon className=\"size-3.5\" />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div\r\n            className={cn(\r\n              \"flex w-full flex-col gap-4\",\r\n              requiresScrollPadding && message.role === \"assistant\"\r\n                ? \"min-h-96\"\r\n                : \"\",\r\n            )}\r\n          >\r\n            <Annotations\r\n              annotations={message.annotations}\r\n              isLoading={isLoading}\r\n            />\r\n\r\n            {message.parts.map((part, index) => {\r\n              const { type } = part;\r\n              const key = `message-${message.id}-part-${index}`;\r\n\r\n              if (type === \"reasoning\") {\r\n                return (\r\n                  <MessageReasoning\r\n                    key={key}\r\n                    isLoading={isLoading}\r\n                    reasoning={part.reasoning}\r\n                  />\r\n                );\r\n              }\r\n\r\n              if (type === \"text\") {\r\n                if (mode === \"view\") {\r\n                  return (\r\n                    <div key={key} className=\"flex flex-row items-start gap-2\">\r\n                      {message.role === \"user\" && !isReadonly && (\r\n                        <Tooltip>\r\n                          <TooltipTrigger asChild>\r\n                            <Button\r\n                              data-testid=\"message-edit-button\"\r\n                              variant=\"ghost\"\r\n                              size=\"icon\"\r\n                              className=\"text-muted-foreground rounded-full opacity-0 group-hover/message:opacity-100\"\r\n                              onClick={() => setMode(\"edit\")}\r\n                            >\r\n                              <PencilIcon />\r\n                            </Button>\r\n                          </TooltipTrigger>\r\n                          <TooltipContent>Edit message</TooltipContent>\r\n                        </Tooltip>\r\n                      )}\r\n\r\n                      <div\r\n                        data-testid=\"message-content\"\r\n                        className={cn(\r\n                          \"flex flex-col gap-4\",\r\n                          message.role === \"user\" &&\r\n                            \"bg-primary text-primary-foreground rounded-xl px-3 py-2\",\r\n                        )}\r\n                      >\r\n                        <Markdown\r\n                          annotations={\r\n                            message.annotations as Record<string, unknown>[]\r\n                          }\r\n                        >\r\n                          {sanitizeText(part.text)}\r\n                        </Markdown>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                }\r\n\r\n                if (mode === \"edit\") {\r\n                  return (\r\n                    <div key={key} className=\"flex flex-row items-start gap-2\">\r\n                      <div className=\"size-8\" />\r\n\r\n                      <MessageEditor\r\n                        key={message.id}\r\n                        message={message}\r\n                        setMode={setMode}\r\n                        setMessages={setMessages}\r\n                        reload={reload}\r\n                      />\r\n                    </div>\r\n                  );\r\n                }\r\n              }\r\n\r\n              // if (type === \"tool-invocation\") {\r\n              //   const { toolInvocation } = part;\r\n              //   const { toolName, toolCallId, state } = toolInvocation;\r\n\r\n              // if (state === \"call\") {\r\n              //   const { args } = toolInvocation;\r\n\r\n              //   return (\r\n              //     <div\r\n              //       key={toolCallId}\r\n              //       className={cn({\r\n              //         skeleton: [\"getWeather\"].includes(toolName),\r\n              //       })}\r\n              //     >\r\n              //       {toolName === \"getWeather\" ? (\r\n              //         <Weather />\r\n              //       ) : toolName === \"createDocument\" ? (\r\n              //         <DocumentPreview isReadonly={isReadonly} args={args} />\r\n              //       ) : toolName === \"updateDocument\" ? (\r\n              //         <DocumentToolCall\r\n              //           type=\"update\"\r\n              //           args={args}\r\n              //           isReadonly={isReadonly}\r\n              //         />\r\n              //       ) : toolName === \"requestSuggestions\" ? (\r\n              //         <DocumentToolCall\r\n              //           type=\"request-suggestions\"\r\n              //           args={args}\r\n              //           isReadonly={isReadonly}\r\n              //         />\r\n              //       ) : null}\r\n              //     </div>\r\n              //   );\r\n              // }\r\n\r\n              // if (state === \"result\") {\r\n              //   const { result } = toolInvocation;\r\n\r\n              //   return (\r\n              //     <div key={toolCallId}>\r\n              //       {toolName === \"getWeather\" ? (\r\n              //         <Weather weatherAtLocation={result} />\r\n              //       ) : toolName === \"createDocument\" ? (\r\n              //         <DocumentPreview\r\n              //           isReadonly={isReadonly}\r\n              //           result={result}\r\n              //         />\r\n              //       ) : toolName === \"updateDocument\" ? (\r\n              //         <DocumentToolResult\r\n              //           type=\"update\"\r\n              //           result={result}\r\n              //           isReadonly={isReadonly}\r\n              //         />\r\n              //       ) : toolName === \"requestSuggestions\" ? (\r\n              //         <DocumentToolResult\r\n              //           type=\"request-suggestions\"\r\n              //           result={result}\r\n              //           isReadonly={isReadonly}\r\n              //         />\r\n              //       ) : (\r\n              //         <pre>{JSON.stringify(result, null, 2)}</pre>\r\n              //       )}\r\n              //     </div>\r\n              //   );\r\n              // }\r\n              // }\r\n            })}\r\n\r\n            {!isReadonly && (\r\n              <MessageActions\r\n                key={`action-${message.id}`}\r\n                chatId={chatId}\r\n                message={message}\r\n                isLoading={isLoading}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport const PreviewMessage = memo(\r\n  PurePreviewMessage,\r\n  (prevProps, nextProps) => {\r\n    if (prevProps.isLoading !== nextProps.isLoading) return false;\r\n    if (prevProps.message.id !== nextProps.message.id) return false;\r\n    if (!equal(prevProps.message.parts, nextProps.message.parts)) return false;\r\n    if (!equal(prevProps.message.annotations, nextProps.message.annotations))\r\n      return false;\r\n    if (prevProps.requiresScrollPadding !== nextProps.requiresScrollPadding)\r\n      return false;\r\n\r\n    return true;\r\n  },\r\n);\r\n\r\nexport const ThinkingMessage = () => {\r\n  const role = \"assistant\";\r\n\r\n  return (\r\n    <motion.div\r\n      data-testid=\"message-assistant-loading\"\r\n      className=\"group/message mx-auto w-full max-w-3xl px-4\"\r\n      initial={{ y: 5, opacity: 0 }}\r\n      animate={{ y: 0, opacity: 1, transition: { delay: 1 } }}\r\n      data-role={role}\r\n    >\r\n      <div\r\n        className={cn(\r\n          \"flex w-full gap-4 rounded-xl group-data-[role=user]/message:ml-auto group-data-[role=user]/message:w-fit group-data-[role=user]/message:max-w-2xl group-data-[role=user]/message:px-3 group-data-[role=user]/message:py-2\",\r\n          \"group-data-[role=user]/message:bg-muted\",\r\n        )}\r\n      >\r\n        <div className=\"ring-border flex size-8 shrink-0 items-center justify-center rounded-full ring-1\">\r\n          <SparklesIcon className=\"size-3.5\" />\r\n        </div>\r\n\r\n        <div className=\"flex w-full flex-col gap-2\">\r\n          <div className=\"text-muted-foreground flex flex-col gap-4\">\r\n            Hmm...\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2512, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/overview.tsx"],"sourcesContent":["import { motion } from \"framer-motion\";\r\n\r\nimport { Logo } from \"@agentset/ui\";\r\n\r\nexport const Overview = ({\r\n  message = \"Welcome to the playground! You can try chatting with your data here.\",\r\n  logo,\r\n}: {\r\n  message?: string;\r\n  logo?: string;\r\n}) => {\r\n  return (\r\n    <motion.div\r\n      key=\"overview\"\r\n      className=\"mx-auto mt-10 max-w-3xl md:mt-20\"\r\n      initial={{ opacity: 0, scale: 0.98 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      exit={{ opacity: 0, scale: 0.98 }}\r\n      transition={{ delay: 0.5 }}\r\n    >\r\n      <div className=\"flex max-w-xl flex-col items-center gap-8 rounded-xl p-6 text-center leading-relaxed\">\r\n        {logo ? (\r\n          <img\r\n            src={logo}\r\n            alt=\"Logo\"\r\n            className=\"size-15 rounded-md object-cover\"\r\n          />\r\n        ) : (\r\n          <Logo className=\"size-15\" />\r\n        )}\r\n\r\n        <p>{message}</p>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAEA;AAAA;;;;AAEO,MAAM,WAAW,CAAC,EACvB,UAAU,sEAAsE,EAChF,IAAI,EAIL;IACC,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;QAET,WAAU;QACV,SAAS;YAAE,SAAS;YAAG,OAAO;QAAK;QACnC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAChC,MAAM;YAAE,SAAS;YAAG,OAAO;QAAK;QAChC,YAAY;YAAE,OAAO;QAAI;kBAEzB,cAAA,8OAAC;YAAI,WAAU;;gBACZ,qBACC,8OAAC;oBACC,KAAK;oBACL,KAAI;oBACJ,WAAU;;;;;yCAGZ,8OAAC,4IAAA,CAAA,OAAI;oBAAC,WAAU;;;;;;8BAGlB,8OAAC;8BAAG;;;;;;;;;;;;OAlBF;;;;;AAsBV","debugId":null}},
    {"offset": {"line": 2583, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/messages.tsx"],"sourcesContent":["import type { UseChatHelpers } from \"@ai-sdk/react\";\r\nimport type { UIMessage } from \"ai\";\r\nimport { memo } from \"react\";\r\nimport { useMessages } from \"@/hooks/use-messages\";\r\nimport equal from \"fast-deep-equal\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nimport { PreviewMessage, ThinkingMessage } from \"./message\";\r\nimport { Overview } from \"./overview\";\r\n\r\ninterface MessagesProps {\r\n  chatId: string;\r\n  status: UseChatHelpers[\"status\"];\r\n  messages: Array<UIMessage>;\r\n  setMessages: UseChatHelpers[\"setMessages\"];\r\n  reload: UseChatHelpers[\"reload\"];\r\n  isReadonly: boolean;\r\n  isArtifactVisible: boolean;\r\n  overviewMessage?: string;\r\n  logo?: string;\r\n}\r\n\r\nfunction PureMessages({\r\n  chatId,\r\n  status,\r\n  messages,\r\n  setMessages,\r\n  reload,\r\n  isReadonly,\r\n  overviewMessage,\r\n  logo,\r\n}: MessagesProps) {\r\n  const {\r\n    containerRef: messagesContainerRef,\r\n    endRef: messagesEndRef,\r\n    onViewportEnter,\r\n    onViewportLeave,\r\n    hasSentMessage,\r\n  } = useMessages({\r\n    chatId,\r\n    status,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={messagesContainerRef}\r\n      className=\"relative flex min-w-0 flex-1 flex-col gap-6 overflow-y-scroll pt-4\"\r\n    >\r\n      {messages.length === 0 && (\r\n        <Overview message={overviewMessage} logo={logo} />\r\n      )}\r\n\r\n      {messages.map((message, index) => (\r\n        <PreviewMessage\r\n          key={message.id}\r\n          chatId={chatId}\r\n          message={message}\r\n          isLoading={status === \"streaming\" && messages.length - 1 === index}\r\n          setMessages={setMessages}\r\n          reload={reload}\r\n          isReadonly={isReadonly}\r\n          requiresScrollPadding={\r\n            hasSentMessage && index === messages.length - 1\r\n          }\r\n        />\r\n      ))}\r\n\r\n      {status === \"submitted\" &&\r\n        messages.length > 0 &&\r\n        messages[messages.length - 1]!.role === \"user\" && <ThinkingMessage />}\r\n\r\n      <motion.div\r\n        ref={messagesEndRef}\r\n        className=\"min-h-[24px] min-w-[24px] shrink-0\"\r\n        onViewportLeave={onViewportLeave}\r\n        onViewportEnter={onViewportEnter}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const Messages = memo(PureMessages, (prevProps, nextProps) => {\r\n  if (prevProps.isArtifactVisible && nextProps.isArtifactVisible) return true;\r\n\r\n  if (prevProps.status !== nextProps.status) return false;\r\n  if (prevProps.messages.length !== nextProps.messages.length) return false;\r\n  if (!equal(prevProps.messages, nextProps.messages)) return false;\r\n\r\n  return true;\r\n});\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;AAcA,SAAS,aAAa,EACpB,MAAM,EACN,MAAM,EACN,QAAQ,EACR,WAAW,EACX,MAAM,EACN,UAAU,EACV,eAAe,EACf,IAAI,EACU;IACd,MAAM,EACJ,cAAc,oBAAoB,EAClC,QAAQ,cAAc,EACtB,eAAe,EACf,eAAe,EACf,cAAc,EACf,GAAG,CAAA,GAAA,8IAAA,CAAA,cAAW,AAAD,EAAE;QACd;QACA;IACF;IAEA,qBACE,8OAAC;QACC,KAAK;QACL,WAAU;;YAET,SAAS,MAAM,KAAK,mBACnB,8OAAC,qJAAA,CAAA,WAAQ;gBAAC,SAAS;gBAAiB,MAAM;;;;;;YAG3C,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,8OAAC,oJAAA,CAAA,iBAAc;oBAEb,QAAQ;oBACR,SAAS;oBACT,WAAW,WAAW,eAAe,SAAS,MAAM,GAAG,MAAM;oBAC7D,aAAa;oBACb,QAAQ;oBACR,YAAY;oBACZ,uBACE,kBAAkB,UAAU,SAAS,MAAM,GAAG;mBAR3C,QAAQ,EAAE;;;;;YAalB,WAAW,eACV,SAAS,MAAM,GAAG,KAClB,QAAQ,CAAC,SAAS,MAAM,GAAG,EAAE,CAAE,IAAI,KAAK,wBAAU,8OAAC,oJAAA,CAAA,kBAAe;;;;;0BAEpE,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,KAAK;gBACL,WAAU;gBACV,iBAAiB;gBACjB,iBAAiB;;;;;;;;;;;;AAIzB;AAEO,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,OAAI,AAAD,EAAE,cAAc,CAAC,WAAW;IACrD,IAAI,UAAU,iBAAiB,IAAI,UAAU,iBAAiB,EAAE,OAAO;IAEvE,IAAI,UAAU,MAAM,KAAK,UAAU,MAAM,EAAE,OAAO;IAClD,IAAI,UAAU,QAAQ,CAAC,MAAM,KAAK,UAAU,QAAQ,CAAC,MAAM,EAAE,OAAO;IACpE,IAAI,CAAC,CAAA,GAAA,8IAAA,CAAA,UAAK,AAAD,EAAE,UAAU,QAAQ,EAAE,UAAU,QAAQ,GAAG,OAAO;IAE3D,OAAO;AACT","debugId":null}},
    {"offset": {"line": 2665, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/chat-settings.store.ts"],"sourcesContent":["import { create } from \"zustand\";\r\nimport { persist } from \"zustand/middleware\";\r\n\r\ninterface NamespaceState {\r\n  topK: number;\r\n  rerankLimit: number;\r\n  systemPrompt: string | null;\r\n  temperature: number;\r\n  mode?: \"normal\" | \"agentic\" | \"deepResearch\";\r\n}\r\n\r\ninterface ChatState {\r\n  namespaces: Record<string, NamespaceState>;\r\n}\r\n\r\ninterface ChatActions {\r\n  getNamespace: (namespaceId: string) => NamespaceState;\r\n  setSystemPrompt: (namespaceId: string, systemPrompt: string | null) => void;\r\n  setTemperature: (namespaceId: string, temperature: number) => void;\r\n  setTopK: (namespaceId: string, topK: number) => void;\r\n  setRerankLimit: (namespaceId: string, rerankLimit: number) => void;\r\n  reset: (namespaceId: string) => NamespaceState;\r\n  setMode: (\r\n    namespaceId: string,\r\n    mode: \"normal\" | \"agentic\" | \"deepResearch\",\r\n  ) => void;\r\n}\r\n\r\ntype ChatSettings = ChatState & ChatActions;\r\n\r\nconst defaultState: NamespaceState = {\r\n  topK: 15,\r\n  rerankLimit: 5,\r\n  systemPrompt: null,\r\n  temperature: 0,\r\n  mode: \"normal\",\r\n};\r\n\r\nconst updateNamespace = (\r\n  state: ChatSettings,\r\n  namespaceId: string,\r\n  update: Partial<NamespaceState>,\r\n) =>\r\n  ({\r\n    namespaces: {\r\n      ...state.namespaces,\r\n      [namespaceId]: {\r\n        ...state.namespaces[namespaceId],\r\n        ...(update as NamespaceState),\r\n      },\r\n    },\r\n  }) satisfies ChatState;\r\n\r\nexport const useChatSettings = create<ChatSettings>()(\r\n  persist(\r\n    (set, get) => ({\r\n      namespaces: {},\r\n      getNamespace: (namespaceId: string) => {\r\n        const state = get();\r\n        return state.namespaces[namespaceId] ?? defaultState;\r\n      },\r\n      setTopK: (namespaceId: string, topK: number) =>\r\n        set((state) => updateNamespace(state, namespaceId, { topK })),\r\n      setRerankLimit: (namespaceId: string, rerankLimit: number) =>\r\n        set((state) => updateNamespace(state, namespaceId, { rerankLimit })),\r\n      setSystemPrompt: (namespaceId: string, systemPrompt: string | null) =>\r\n        set((state) => updateNamespace(state, namespaceId, { systemPrompt })),\r\n      setTemperature: (namespaceId: string, temperature: number) =>\r\n        set((state) => updateNamespace(state, namespaceId, { temperature })),\r\n      setMode: (\r\n        namespaceId: string,\r\n        mode: \"normal\" | \"agentic\" | \"deepResearch\",\r\n      ) => set((state) => updateNamespace(state, namespaceId, { mode })),\r\n      reset: (namespaceId: string) => {\r\n        set((state) => updateNamespace(state, namespaceId, defaultState));\r\n        return defaultState;\r\n      },\r\n    }),\r\n    {\r\n      name: \"chat-settings\",\r\n    },\r\n  ),\r\n);\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AA6BA,MAAM,eAA+B;IACnC,MAAM;IACN,aAAa;IACb,cAAc;IACd,aAAa;IACb,MAAM;AACR;AAEA,MAAM,kBAAkB,CACtB,OACA,aACA,SAEA,CAAC;QACC,YAAY;YACV,GAAG,MAAM,UAAU;YACnB,CAAC,YAAY,EAAE;gBACb,GAAG,MAAM,UAAU,CAAC,YAAY;gBAChC,GAAI,MAAM;YACZ;QACF;IACF,CAAC;AAEI,MAAM,kBAAkB,CAAA,GAAA,wIAAA,CAAA,SAAM,AAAD,IAClC,CAAA,GAAA,6IAAA,CAAA,UAAO,AAAD,EACJ,CAAC,KAAK,MAAQ,CAAC;QACb,YAAY,CAAC;QACb,cAAc,CAAC;YACb,MAAM,QAAQ;YACd,OAAO,MAAM,UAAU,CAAC,YAAY,IAAI;QAC1C;QACA,SAAS,CAAC,aAAqB,OAC7B,IAAI,CAAC,QAAU,gBAAgB,OAAO,aAAa;oBAAE;gBAAK;QAC5D,gBAAgB,CAAC,aAAqB,cACpC,IAAI,CAAC,QAAU,gBAAgB,OAAO,aAAa;oBAAE;gBAAY;QACnE,iBAAiB,CAAC,aAAqB,eACrC,IAAI,CAAC,QAAU,gBAAgB,OAAO,aAAa;oBAAE;gBAAa;QACpE,gBAAgB,CAAC,aAAqB,cACpC,IAAI,CAAC,QAAU,gBAAgB,OAAO,aAAa;oBAAE;gBAAY;QACnE,SAAS,CACP,aACA,OACG,IAAI,CAAC,QAAU,gBAAgB,OAAO,aAAa;oBAAE;gBAAK;QAC/D,OAAO,CAAC;YACN,IAAI,CAAC,QAAU,gBAAgB,OAAO,aAAa;YACnD,OAAO;QACT;IACF,CAAC,GACD;IACE,MAAM;AACR","debugId":null}},
    {"offset": {"line": 2722, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/use-chat.ts"],"sourcesContent":["import { useNamespace } from \"@/contexts/namespace-context\";\r\nimport { useChat } from \"@ai-sdk/react\";\r\nimport { toast } from \"sonner\";\r\nimport { useShallow } from \"zustand/react/shallow\";\r\n\r\nimport { useChatSettings } from \"./chat-settings.store\";\r\n\r\nexport function useNamespaceChat() {\r\n  const { activeNamespace } = useNamespace();\r\n  const settings = useChatSettings(\r\n    useShallow((s) => s.getNamespace(activeNamespace.id)),\r\n  );\r\n\r\n  return useChat({\r\n    id: \"chat\",\r\n    api: `/api/chat?namespaceId=${activeNamespace.id}`,\r\n    body: {\r\n      topK: settings.topK,\r\n      rerank: true,\r\n      rerankLimit: settings.rerankLimit,\r\n      temperature: settings.temperature,\r\n      includeMetadata: true,\r\n      mode: settings.mode ?? \"normal\",\r\n      ...(settings.systemPrompt && { systemPrompt: settings.systemPrompt }),\r\n    },\r\n    experimental_throttle: 100,\r\n    // sendExtraMessageFields: true,\r\n    onError: () => {\r\n      toast.error(\"An error occurred, please try again!\");\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AAEA;;;;;;AAEO,SAAS;IACd,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,uJAAA,CAAA,eAAY,AAAD;IACvC,MAAM,WAAW,CAAA,GAAA,qKAAA,CAAA,kBAAe,AAAD,EAC7B,CAAA,GAAA,mJAAA,CAAA,aAAU,AAAD,EAAE,CAAC,IAAM,EAAE,YAAY,CAAC,gBAAgB,EAAE;IAGrD,OAAO,CAAA,GAAA,sJAAA,CAAA,UAAO,AAAD,EAAE;QACb,IAAI;QACJ,KAAK,CAAC,sBAAsB,EAAE,gBAAgB,EAAE,EAAE;QAClD,MAAM;YACJ,MAAM,SAAS,IAAI;YACnB,QAAQ;YACR,aAAa,SAAS,WAAW;YACjC,aAAa,SAAS,WAAW;YACjC,iBAAiB;YACjB,MAAM,SAAS,IAAI,IAAI;YACvB,GAAI,SAAS,YAAY,IAAI;gBAAE,cAAc,SAAS,YAAY;YAAC,CAAC;QACtE;QACA,uBAAuB;QACvB,gCAAgC;QAChC,SAAS;YACP,wIAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QACd;IACF;AACF","debugId":null}},
    {"offset": {"line": 2765, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/use-hosting-chat.ts"],"sourcesContent":["import { useHosting } from \"@/contexts/hosting-context\";\r\nimport { useChat } from \"@ai-sdk/react\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport function useHostingChat() {\r\n  const hosting = useHosting();\r\n\r\n  return useChat({\r\n    id: \"chat\",\r\n    api: `/api/hosting-chat?namespaceId=${hosting.namespaceId}`,\r\n    onError: () => {\r\n      toast.error(\"An error occurred, please try again!\");\r\n    },\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEO,SAAS;IACd,MAAM,UAAU,CAAA,GAAA,qJAAA,CAAA,aAAU,AAAD;IAEzB,OAAO,CAAA,GAAA,sJAAA,CAAA,UAAO,AAAD,EAAE;QACb,IAAI;QACJ,KAAK,CAAC,8BAA8B,EAAE,QAAQ,WAAW,EAAE;QAC3D,SAAS;YACP,wIAAA,CAAA,QAAK,CAAC,KAAK,CAAC;QACd;IACF;AACF","debugId":null}},
    {"offset": {"line": 2790, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/chat/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useHosting } from \"@/contexts/hosting-context\";\r\n\r\nimport { cn } from \"@agentset/ui\";\r\n\r\nimport { MultimodalInput } from \"./chat-input\";\r\nimport { Messages } from \"./messages\";\r\nimport { useNamespaceChat } from \"./use-chat\";\r\nimport { useHostingChat } from \"./use-hosting-chat\";\r\n\r\nexport default function Chat({\r\n  type = \"playground\",\r\n}: {\r\n  type?: \"playground\" | \"hosted\";\r\n}) {\r\n  return type === \"playground\" ? <PlaygroundChat /> : <HostingChat />;\r\n}\r\n\r\nconst PlaygroundChat = () => {\r\n  const {\r\n    id,\r\n    messages,\r\n    setMessages,\r\n    status,\r\n    input,\r\n    setInput,\r\n    handleSubmit,\r\n    append,\r\n    stop,\r\n    reload,\r\n  } = useNamespaceChat();\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"bg-background flex min-w-0 flex-col\",\r\n        \"h-[calc(100dvh-calc(var(--spacing)*20))]\",\r\n      )}\r\n    >\r\n      <Messages\r\n        chatId={id}\r\n        status={status}\r\n        messages={messages}\r\n        setMessages={setMessages}\r\n        reload={reload}\r\n        isReadonly={false}\r\n        isArtifactVisible={false}\r\n      />\r\n\r\n      <form className=\"bg-background mx-auto flex w-full gap-2 px-4 pb-4 md:max-w-3xl md:pb-6\">\r\n        <MultimodalInput\r\n          input={input}\r\n          setInput={setInput}\r\n          handleSubmit={handleSubmit}\r\n          status={status}\r\n          stop={stop}\r\n          messages={messages}\r\n          setMessages={setMessages}\r\n          append={append}\r\n          type=\"playground\"\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst HostingChat = () => {\r\n  const { exampleQuestions, welcomeMessage, logo } = useHosting();\r\n  const {\r\n    id,\r\n    messages,\r\n    setMessages,\r\n    status,\r\n    input,\r\n    setInput,\r\n    handleSubmit,\r\n    append,\r\n    stop,\r\n    reload,\r\n  } = useHostingChat();\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"bg-background flex min-w-0 flex-col\",\r\n        \"h-[calc(100dvh-64px)]\",\r\n      )}\r\n    >\r\n      <Messages\r\n        chatId={id}\r\n        status={status}\r\n        messages={messages}\r\n        setMessages={setMessages}\r\n        reload={reload}\r\n        isReadonly={false}\r\n        isArtifactVisible={false}\r\n        overviewMessage={welcomeMessage ?? undefined}\r\n        logo={logo ?? undefined}\r\n      />\r\n\r\n      <form className=\"bg-background mx-auto flex w-full gap-2 px-4 pb-4 md:max-w-3xl md:pb-6\">\r\n        <MultimodalInput\r\n          input={input}\r\n          setInput={setInput}\r\n          handleSubmit={handleSubmit}\r\n          status={status}\r\n          stop={stop}\r\n          messages={messages}\r\n          setMessages={setMessages}\r\n          append={append}\r\n          type=\"hosted\"\r\n          exampleMessages={exampleQuestions}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AATA;;;;;;;;AAWe,SAAS,KAAK,EAC3B,OAAO,YAAY,EAGpB;IACC,OAAO,SAAS,6BAAe,8OAAC;;;;6BAAoB,8OAAC;;;;;AACvD;AAEA,MAAM,iBAAiB;IACrB,MAAM,EACJ,EAAE,EACF,QAAQ,EACR,WAAW,EACX,MAAM,EACN,KAAK,EACL,QAAQ,EACR,YAAY,EACZ,MAAM,EACN,IAAI,EACJ,MAAM,EACP,GAAG,CAAA,GAAA,uJAAA,CAAA,mBAAgB,AAAD;IAEnB,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,uCACA;;0BAGF,8OAAC,qJAAA,CAAA,WAAQ;gBACP,QAAQ;gBACR,QAAQ;gBACR,UAAU;gBACV,aAAa;gBACb,QAAQ;gBACR,YAAY;gBACZ,mBAAmB;;;;;;0BAGrB,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,0JAAA,CAAA,kBAAe;oBACd,OAAO;oBACP,UAAU;oBACV,cAAc;oBACd,QAAQ;oBACR,MAAM;oBACN,UAAU;oBACV,aAAa;oBACb,QAAQ;oBACR,MAAK;;;;;;;;;;;;;;;;;AAKf;AAEA,MAAM,cAAc;IAClB,MAAM,EAAE,gBAAgB,EAAE,cAAc,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,qJAAA,CAAA,aAAU,AAAD;IAC5D,MAAM,EACJ,EAAE,EACF,QAAQ,EACR,WAAW,EACX,MAAM,EACN,KAAK,EACL,QAAQ,EACR,YAAY,EACZ,MAAM,EACN,IAAI,EACJ,MAAM,EACP,GAAG,CAAA,GAAA,kKAAA,CAAA,iBAAc,AAAD;IAEjB,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,qIAAA,CAAA,KAAE,AAAD,EACV,uCACA;;0BAGF,8OAAC,qJAAA,CAAA,WAAQ;gBACP,QAAQ;gBACR,QAAQ;gBACR,UAAU;gBACV,aAAa;gBACb,QAAQ;gBACR,YAAY;gBACZ,mBAAmB;gBACnB,iBAAiB,kBAAkB;gBACnC,MAAM,QAAQ;;;;;;0BAGhB,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,0JAAA,CAAA,kBAAe;oBACd,OAAO;oBACP,UAAU;oBACV,cAAc;oBACd,QAAQ;oBACR,MAAM;oBACN,UAAU;oBACV,aAAa;oBACb,QAAQ;oBACR,MAAK;oBACL,iBAAiB;;;;;;;;;;;;;;;;;AAK3B","debugId":null}},
    {"offset": {"line": 2924, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/hooks/use-session.ts"],"sourcesContent":["import { authClient } from \"@/lib/auth-client\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\n\r\nexport function useSession() {\r\n  const {\r\n    data: session,\r\n    refetch,\r\n    isLoading,\r\n  } = useQuery({\r\n    queryKey: [\"session\"],\r\n    queryFn: () => authClient.getSession().then((res) => res.data),\r\n    refetchOnMount: false,\r\n    refetchOnWindowFocus: false,\r\n    staleTime: Infinity,\r\n  });\r\n\r\n  const isAdmin = session?.user.role === \"admin\";\r\n\r\n  return {\r\n    session,\r\n    refetch,\r\n    isLoading,\r\n    isAdmin,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS;IACd,MAAM,EACJ,MAAM,OAAO,EACb,OAAO,EACP,SAAS,EACV,GAAG,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD,EAAE;QACX,UAAU;YAAC;SAAU;QACrB,SAAS,IAAM,2IAAA,CAAA,aAAU,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;QAC7D,gBAAgB;QAChB,sBAAsB;QACtB,WAAW;IACb;IAEA,MAAM,UAAU,SAAS,KAAK,SAAS;IAEvC,OAAO;QACL;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 2955, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/app-sidebar/nav-user.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useSession } from \"@/hooks/use-session\";\r\nimport { authClient } from \"@/lib/auth-client\";\r\nimport { useRouter } from \"@bprogress/next/app\";\r\nimport { BadgeCheckIcon, LogOutIcon } from \"lucide-react\";\r\n\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n  EntityAvatar,\r\n  Skeleton,\r\n} from \"@agentset/ui\";\r\n\r\nexport function NavUser() {\r\n  const { session, isLoading } = useSession();\r\n\r\n  const router = useRouter();\r\n  const [isSigningOut, setIsSigningOut] = useState(false);\r\n\r\n  const handleSignOut = async () => {\r\n    setIsSigningOut(true);\r\n    await authClient.signOut({\r\n      fetchOptions: {\r\n        onSuccess() {\r\n          router.replace(\"/\");\r\n        },\r\n      },\r\n    });\r\n    setIsSigningOut(false);\r\n  };\r\n\r\n  if (isLoading || !session)\r\n    return (\r\n      <Skeleton className=\"size-8 rounded-full border-2 border-transparent\" />\r\n    );\r\n\r\n  const { user } = session;\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <button className=\"border-border overflow-hidden rounded-full border-2 data-[state=open]:border-black\">\r\n          <EntityAvatar\r\n            entity={user}\r\n            fallbackClassName=\"bg-muted text-foreground \"\r\n          />\r\n        </button>\r\n      </DropdownMenuTrigger>\r\n\r\n      <DropdownMenuContent\r\n        className=\"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg\"\r\n        side=\"bottom\"\r\n        align=\"end\"\r\n        sideOffset={4}\r\n      >\r\n        <DropdownMenuLabel className=\"p-0 font-normal\">\r\n          <div className=\"flex items-center gap-2 px-1 py-1.5 text-left text-sm\">\r\n            <EntityAvatar\r\n              entity={user}\r\n              fallbackClassName=\"bg-muted text-foreground\"\r\n            />\r\n            <div className=\"grid flex-1 text-left text-sm leading-tight\">\r\n              {user.name ? (\r\n                <>\r\n                  <span className=\"truncate font-semibold\">{user.name}</span>\r\n                  <span className=\"truncate text-xs\">{user.email}</span>\r\n                </>\r\n              ) : (\r\n                <span className=\"truncate font-semibold\">{user.email}</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </DropdownMenuLabel>\r\n\r\n        <DropdownMenuSeparator />\r\n\r\n        <DropdownMenuItem asChild>\r\n          <Link href=\"/profile\">\r\n            <BadgeCheckIcon />\r\n            Account\r\n          </Link>\r\n        </DropdownMenuItem>\r\n\r\n        <DropdownMenuItem onClick={handleSignOut} disabled={isSigningOut}>\r\n          <LogOutIcon />\r\n          Log out\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AATA;;;;;;;;;AAoBO,SAAS;IACd,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,6IAAA,CAAA,aAAU,AAAD;IAExC,MAAM,SAAS,CAAA,GAAA,kJAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,gBAAgB;QACpB,gBAAgB;QAChB,MAAM,2IAAA,CAAA,aAAU,CAAC,OAAO,CAAC;YACvB,cAAc;gBACZ;oBACE,OAAO,OAAO,CAAC;gBACjB;YACF;QACF;QACA,gBAAgB;IAClB;IAEA,IAAI,aAAa,CAAC,SAChB,qBACE,8OAAC,gJAAA,CAAA,WAAQ;QAAC,WAAU;;;;;;IAGxB,MAAM,EAAE,IAAI,EAAE,GAAG;IAEjB,qBACE,8OAAC,wJAAA,CAAA,eAAY;;0BACX,8OAAC,wJAAA,CAAA,sBAAmB;gBAAC,OAAO;0BAC1B,cAAA,8OAAC;oBAAO,WAAU;8BAChB,cAAA,8OAAC,8IAAA,CAAA,eAAY;wBACX,QAAQ;wBACR,mBAAkB;;;;;;;;;;;;;;;;0BAKxB,8OAAC,wJAAA,CAAA,sBAAmB;gBAClB,WAAU;gBACV,MAAK;gBACL,OAAM;gBACN,YAAY;;kCAEZ,8OAAC,wJAAA,CAAA,oBAAiB;wBAAC,WAAU;kCAC3B,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,8IAAA,CAAA,eAAY;oCACX,QAAQ;oCACR,mBAAkB;;;;;;8CAEpB,8OAAC;oCAAI,WAAU;8CACZ,KAAK,IAAI,iBACR;;0DACE,8OAAC;gDAAK,WAAU;0DAA0B,KAAK,IAAI;;;;;;0DACnD,8OAAC;gDAAK,WAAU;0DAAoB,KAAK,KAAK;;;;;;;qEAGhD,8OAAC;wCAAK,WAAU;kDAA0B,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;kCAM5D,8OAAC,wJAAA,CAAA,wBAAqB;;;;;kCAEtB,8OAAC,wJAAA,CAAA,mBAAgB;wBAAC,OAAO;kCACvB,cAAA,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;;8CACT,8OAAC,sNAAA,CAAA,iBAAc;;;;;gCAAG;;;;;;;;;;;;kCAKtB,8OAAC,wJAAA,CAAA,mBAAgB;wBAAC,SAAS;wBAAe,UAAU;;0CAClD,8OAAC,8MAAA,CAAA,aAAU;;;;;4BAAG;;;;;;;;;;;;;;;;;;;AAMxB","debugId":null}},
    {"offset": {"line": 3152, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/create-namespace/details-step.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo } from \"react\";\r\nimport { useOrganization } from \"@/contexts/organization-context\";\r\nimport { toSlug } from \"@/lib/slug\";\r\nimport { trpcClient } from \"@/trpc/react\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\n\r\nimport {\r\n  Button,\r\n  DialogFooter,\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n  Input,\r\n} from \"@agentset/ui\";\r\n\r\nconst createFormSchema = (orgId: string) =>\r\n  z.object({\r\n    name: z.string().min(1),\r\n    slug: z\r\n      .string()\r\n      .min(1)\r\n      .trim()\r\n      .regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/)\r\n      .refine(\r\n        async (value) => {\r\n          if (value === \"\") return false;\r\n          const result = await trpcClient.namespace.checkSlug.query({\r\n            slug: value,\r\n            orgId,\r\n          });\r\n          return !result;\r\n        },\r\n        { message: \"Slug is already taken\" },\r\n      ),\r\n  });\r\ntype FormSchema = z.infer<ReturnType<typeof createFormSchema>>;\r\n\r\nexport default function CreateNamespaceDetailsStep({\r\n  onSubmit,\r\n  defaultValues,\r\n}: {\r\n  onSubmit: (values: FormSchema) => void;\r\n  defaultValues: Partial<FormSchema>;\r\n}) {\r\n  const { activeOrganization } = useOrganization();\r\n  const formSchema = useMemo(\r\n    () => createFormSchema(activeOrganization.id),\r\n    [activeOrganization.id],\r\n  );\r\n\r\n  const form = useForm<FormSchema>({\r\n    resolver: zodResolver(formSchema, undefined, { mode: \"async\" }),\r\n    reValidateMode: \"onBlur\",\r\n    defaultValues: defaultValues,\r\n  });\r\n\r\n  const name = form.watch(\"name\");\r\n  const { formState, setValue } = form;\r\n  useEffect(() => {\r\n    if (!formState.touchedFields.slug) {\r\n      setValue(\"slug\", toSlug(name));\r\n    }\r\n  }, [name, formState, setValue]);\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)}>\r\n        <div className=\"flex flex-col gap-6\">\r\n          <FormField\r\n            control={form.control}\r\n            name=\"name\"\r\n            render={({ field }) => (\r\n              <FormItem>\r\n                <FormLabel>Name</FormLabel>\r\n                <FormControl>\r\n                  <Input placeholder=\"Example\" {...field} />\r\n                </FormControl>\r\n\r\n                <FormMessage />\r\n              </FormItem>\r\n            )}\r\n          />\r\n\r\n          <FormField\r\n            control={form.control}\r\n            name=\"slug\"\r\n            render={({ field }) => (\r\n              <FormItem>\r\n                <FormLabel>Slug</FormLabel>\r\n                <FormControl>\r\n                  <Input placeholder=\"example\" {...field} />\r\n                </FormControl>\r\n\r\n                <FormMessage />\r\n              </FormItem>\r\n            )}\r\n          />\r\n        </div>\r\n\r\n        <DialogFooter className=\"mt-6\">\r\n          <Button type=\"submit\">Next</Button>\r\n        </DialogFooter>\r\n      </form>\r\n    </Form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAVA;;;;;;;;;;AAsBA,MAAM,mBAAmB,CAAC,QACxB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACP,MAAM,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC;QACrB,MAAM,oIAAA,CAAA,IAAC,CACJ,MAAM,GACN,GAAG,CAAC,GACJ,IAAI,GACJ,KAAK,CAAC,8BACN,MAAM,CACL,OAAO;YACL,IAAI,UAAU,IAAI,OAAO;YACzB,MAAM,SAAS,MAAM,oIAAA,CAAA,aAAU,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC;gBACxD,MAAM;gBACN;YACF;YACA,OAAO,CAAC;QACV,GACA;YAAE,SAAS;QAAwB;IAEzC;AAGa,SAAS,2BAA2B,EACjD,QAAQ,EACR,aAAa,EAId;IACC,MAAM,EAAE,kBAAkB,EAAE,GAAG,CAAA,GAAA,0JAAA,CAAA,kBAAe,AAAD;IAC7C,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EACvB,IAAM,iBAAiB,mBAAmB,EAAE,GAC5C;QAAC,mBAAmB,EAAE;KAAC;IAGzB,MAAM,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAc;QAC/B,UAAU,CAAA,GAAA,8JAAA,CAAA,cAAW,AAAD,EAAE,YAAY,WAAW;YAAE,MAAM;QAAQ;QAC7D,gBAAgB;QAChB,eAAe;IACjB;IAEA,MAAM,OAAO,KAAK,KAAK,CAAC;IACxB,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG;IAChC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,UAAU,aAAa,CAAC,IAAI,EAAE;YACjC,SAAS,QAAQ,CAAA,GAAA,iIAAA,CAAA,SAAM,AAAD,EAAE;QAC1B;IACF,GAAG;QAAC;QAAM;QAAW;KAAS;IAE9B,qBACE,8OAAC,4IAAA,CAAA,OAAI;QAAE,GAAG,IAAI;kBACZ,cAAA,8OAAC;YAAK,UAAU,KAAK,YAAY,CAAC;;8BAChC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4IAAA,CAAA,YAAS;4BACR,SAAS,KAAK,OAAO;4BACrB,MAAK;4BACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,8OAAC,4IAAA,CAAA,WAAQ;;sDACP,8OAAC,4IAAA,CAAA,YAAS;sDAAC;;;;;;sDACX,8OAAC,4IAAA,CAAA,cAAW;sDACV,cAAA,8OAAC,6IAAA,CAAA,QAAK;gDAAC,aAAY;gDAAW,GAAG,KAAK;;;;;;;;;;;sDAGxC,8OAAC,4IAAA,CAAA,cAAW;;;;;;;;;;;;;;;;sCAKlB,8OAAC,4IAAA,CAAA,YAAS;4BACR,SAAS,KAAK,OAAO;4BACrB,MAAK;4BACL,QAAQ,CAAC,EAAE,KAAK,EAAE,iBAChB,8OAAC,4IAAA,CAAA,WAAQ;;sDACP,8OAAC,4IAAA,CAAA,YAAS;sDAAC;;;;;;sDACX,8OAAC,4IAAA,CAAA,cAAW;sDACV,cAAA,8OAAC,6IAAA,CAAA,QAAK;gDAAC,aAAY;gDAAW,GAAG,KAAK;;;;;;;;;;;sDAGxC,8OAAC,4IAAA,CAAA,cAAW;;;;;;;;;;;;;;;;;;;;;;8BAMpB,8OAAC,8IAAA,CAAA,eAAY;oBAAC,WAAU;8BACtB,cAAA,8OAAC,8IAAA,CAAA,SAAM;wBAAC,MAAK;kCAAS;;;;;;;;;;;;;;;;;;;;;;AAKhC","debugId":null}},
    {"offset": {"line": 3345, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/zod.ts"],"sourcesContent":["import * as z from \"zod\";\r\nimport { extendZodWithOpenApi } from \"zod-openapi\";\r\n\r\nextendZodWithOpenApi(z);\r\n\r\nexport default z;\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA,CAAA,GAAA,6JAAA,CAAA,uBAAoB,AAAD,EAAE;uCAEN","debugId":null}},
    {"offset": {"line": 3360, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/embedding-model/openai.ts"],"sourcesContent":["import z from \"../zod\";\r\n\r\nexport const openaiEmbeddingModelEnum = z.enum([\r\n  \"text-embedding-3-small\",\r\n  \"text-embedding-3-large\",\r\n]);\r\n\r\nexport const OpenAIEmbeddingConfigSchema = z\r\n  .object({\r\n    provider: z.literal(\"OPENAI\"),\r\n    model: openaiEmbeddingModelEnum,\r\n    apiKey: z.string(),\r\n  })\r\n  .openapi({\r\n    title: \"OpenAI Embedding Config\",\r\n  });\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,2BAA2B,oIAAA,CAAA,UAAC,CAAC,IAAI,CAAC;IAC7C;IACA;CACD;AAEM,MAAM,8BAA8B,oIAAA,CAAA,UAAC,CACzC,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IACpB,OAAO;IACP,QAAQ,oIAAA,CAAA,UAAC,CAAC,MAAM;AAClB,GACC,OAAO,CAAC;IACP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 3383, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/embedding-model/azure.ts"],"sourcesContent":["import z from \"../zod\";\r\nimport { openaiEmbeddingModelEnum } from \"./openai\";\r\n\r\nexport const AzureEmbeddingConfigSchema = z\r\n  .object({\r\n    provider: z.literal(\"AZURE_OPENAI\"),\r\n    model: openaiEmbeddingModelEnum,\r\n    baseUrl: z\r\n      .string()\r\n      .url()\r\n      .describe(\"The base URL of the Azure OpenAI API.\")\r\n      .openapi({\r\n        example: `https://example.openai.azure.com/openai/deployments`,\r\n      }),\r\n    deployment: z\r\n      .string()\r\n      .describe(\"The deployment name of the Azure OpenAI API.\"),\r\n    apiKey: z.string().describe(\"The API key for the Azure OpenAI API.\"),\r\n    apiVersion: z\r\n      .string()\r\n      .optional()\r\n      .describe(\"The API version for the Azure OpenAI API.\"),\r\n  })\r\n  .openapi({\r\n    title: \"Azure Embedding Config\",\r\n  });\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,6BAA6B,oIAAA,CAAA,UAAC,CACxC,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IACpB,OAAO,6JAAA,CAAA,2BAAwB;IAC/B,SAAS,oIAAA,CAAA,UAAC,CACP,MAAM,GACN,GAAG,GACH,QAAQ,CAAC,yCACT,OAAO,CAAC;QACP,SAAS,CAAC,mDAAmD,CAAC;IAChE;IACF,YAAY,oIAAA,CAAA,UAAC,CACV,MAAM,GACN,QAAQ,CAAC;IACZ,QAAQ,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC5B,YAAY,oIAAA,CAAA,UAAC,CACV,MAAM,GACN,QAAQ,GACR,QAAQ,CAAC;AACd,GACC,OAAO,CAAC;IACP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 3408, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/embedding-model/google.ts"],"sourcesContent":["import z from \"../zod\";\r\n\r\nexport const googleEmbeddingModelEnum = z.enum([\"text-embedding-004\"]);\r\n\r\nexport const GoogleEmbeddingConfigSchema = z\r\n  .object({\r\n    provider: z.literal(\"GOOGLE\"),\r\n    model: googleEmbeddingModelEnum,\r\n    apiKey: z.string(),\r\n  })\r\n  .openapi({\r\n    title: \"Google Embedding Config\",\r\n  });\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,2BAA2B,oIAAA,CAAA,UAAC,CAAC,IAAI,CAAC;IAAC;CAAqB;AAE9D,MAAM,8BAA8B,oIAAA,CAAA,UAAC,CACzC,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IACpB,OAAO;IACP,QAAQ,oIAAA,CAAA,UAAC,CAAC,MAAM;AAClB,GACC,OAAO,CAAC;IACP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 3430, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/embedding-model/voyage.ts"],"sourcesContent":["import z from \"../zod\";\r\n\r\nexport const voyageEmbeddingModelEnum = z.enum([\r\n  \"voyage-3-large\",\r\n  \"voyage-3\",\r\n  \"voyage-3-lite\",\r\n  \"voyage-code-3\",\r\n  \"voyage-finance-2\",\r\n  \"voyage-law-2\",\r\n]);\r\n\r\nexport const VoyageEmbeddingConfigSchema = z\r\n  .object({\r\n    provider: z.literal(\"VOYAGE\"),\r\n    model: voyageEmbeddingModelEnum,\r\n    apiKey: z.string(),\r\n  })\r\n  .openapi({\r\n    title: \"Voyage Embedding Config\",\r\n  });\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,2BAA2B,oIAAA,CAAA,UAAC,CAAC,IAAI,CAAC;IAC7C;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,8BAA8B,oIAAA,CAAA,UAAC,CACzC,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IACpB,OAAO;IACP,QAAQ,oIAAA,CAAA,UAAC,CAAC,MAAM;AAClB,GACC,OAAO,CAAC;IACP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 3457, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/embedding-model/index.ts"],"sourcesContent":["import z from \"../zod\";\r\nimport { AzureEmbeddingConfigSchema } from \"./azure\";\r\nimport { GoogleEmbeddingConfigSchema } from \"./google\";\r\nimport { OpenAIEmbeddingConfigSchema } from \"./openai\";\r\nimport { VoyageEmbeddingConfigSchema } from \"./voyage\";\r\n\r\nexport const EmbeddingConfigSchema = z\r\n  .discriminatedUnion(\"provider\", [\r\n    OpenAIEmbeddingConfigSchema,\r\n    AzureEmbeddingConfigSchema,\r\n    VoyageEmbeddingConfigSchema,\r\n    GoogleEmbeddingConfigSchema,\r\n  ])\r\n  .describe(\r\n    \"The embedding model config. If not provided, our managed embedding model will be used. Note: You can't change the embedding model config after the namespace is created.\",\r\n  );\r\n\r\nexport type EmbeddingConfig = z.infer<typeof EmbeddingConfigSchema>;\r\n\r\nexport { AzureEmbeddingConfigSchema } from \"./azure\";\r\nexport { GoogleEmbeddingConfigSchema } from \"./google\";\r\nexport { OpenAIEmbeddingConfigSchema } from \"./openai\";\r\nexport { VoyageEmbeddingConfigSchema } from \"./voyage\";\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,wBAAwB,oIAAA,CAAA,UAAC,CACnC,kBAAkB,CAAC,YAAY;IAC9B,6JAAA,CAAA,8BAA2B;IAC3B,4JAAA,CAAA,6BAA0B;IAC1B,6JAAA,CAAA,8BAA2B;IAC3B,6JAAA,CAAA,8BAA2B;CAC5B,EACA,QAAQ,CACP","debugId":null}},
    {"offset": {"line": 3499, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/vector-store/pinecone.ts"],"sourcesContent":["import z from \"../zod\";\r\n\r\nexport const PineconeVectorStoreConfigSchema = z\r\n  .object({\r\n    provider: z.literal(\"PINECONE\"),\r\n    apiKey: z.string().describe(\"The API key for the Pinecone index.\"),\r\n    indexHost: z\r\n      .string()\r\n      .url()\r\n      .describe(\"The host of the Pinecone index.\")\r\n      .openapi({\r\n        example: `https://example.svc.aped-1234-a56b.pinecone.io`,\r\n      }),\r\n  })\r\n  .openapi({\r\n    title: \"Pinecone Config\",\r\n  });\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,kCAAkC,oIAAA,CAAA,UAAC,CAC7C,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IACpB,QAAQ,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC5B,WAAW,oIAAA,CAAA,UAAC,CACT,MAAM,GACN,GAAG,GACH,QAAQ,CAAC,mCACT,OAAO,CAAC;QACP,SAAS,CAAC,8CAA8C,CAAC;IAC3D;AACJ,GACC,OAAO,CAAC;IACP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 3519, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/vector-store/index.ts"],"sourcesContent":["import z from \"../zod\";\r\nimport { PineconeVectorStoreConfigSchema } from \"./pinecone\";\r\n\r\nexport const VectorStoreSchema = z\r\n  .discriminatedUnion(\"provider\", [PineconeVectorStoreConfigSchema])\r\n  .describe(\r\n    \"The vector store config. If not provided, our managed vector store will be used. Note: You can't change the vector store config after the namespace is created.\",\r\n  );\r\n\r\nexport type VectorStoreConfig = z.infer<typeof VectorStoreSchema>;\r\n\r\nexport { PineconeVectorStoreConfigSchema } from \"./pinecone\";\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,oBAAoB,oIAAA,CAAA,UAAC,CAC/B,kBAAkB,CAAC,YAAY;IAAC,4JAAA,CAAA,kCAA+B;CAAC,EAChE,QAAQ,CACP","debugId":null}},
    {"offset": {"line": 3546, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/ingest-payload/index.ts"],"sourcesContent":["import z from \"../zod\";\r\n\r\nconst nameSchema = z\r\n  .string()\r\n  .nullable()\r\n  .optional()\r\n  .describe(\"The name of the ingest job.\");\r\n\r\nconst fileNameSchema = z\r\n  .string()\r\n  .nullable()\r\n  .optional()\r\n  .describe(\"The name of the file.\");\r\n\r\nexport const textPayloadSchema = z\r\n  .object({\r\n    type: z.literal(\"TEXT\"),\r\n    text: z.string().describe(\"The text to ingest.\"),\r\n    name: nameSchema,\r\n  })\r\n  .openapi({\r\n    title: \"Text Payload\",\r\n  });\r\n\r\nexport const filePayloadSchema = z\r\n  .object({\r\n    type: z.literal(\"FILE\"),\r\n    fileUrl: z.string().describe(\"The URL of the file to ingest.\"),\r\n    name: nameSchema,\r\n  })\r\n  .openapi({\r\n    title: \"URL Payload\",\r\n  });\r\n\r\nexport const managedFilePayloadSchema = z\r\n  .object({\r\n    type: z.literal(\"MANAGED_FILE\"),\r\n    key: z.string().describe(\"The key of the managed file to ingest.\"),\r\n    name: nameSchema,\r\n  })\r\n  .openapi({\r\n    title: \"Managed File Payload\",\r\n  });\r\n\r\nexport const managedFilesPayloadSchema = z\r\n  .object({\r\n    type: z.literal(\"MANAGED_FILES\"),\r\n    files: z.array(\r\n      z.object({\r\n        key: z.string().describe(\"The key of the managed file to ingest.\"),\r\n        name: fileNameSchema,\r\n      }),\r\n    ),\r\n    name: nameSchema,\r\n  })\r\n  .openapi({\r\n    title: \"Managed Files Payload\",\r\n  });\r\n\r\nexport const urlsPayloadSchema = z\r\n  .object({\r\n    type: z.literal(\"URLS\"),\r\n    urls: z.array(z.string().url()).describe(\"The URLs to ingest.\"),\r\n    name: nameSchema,\r\n  })\r\n  .openapi({\r\n    title: \"URLs Payload\",\r\n  });\r\n\r\nexport const ingestJobPayloadSchema = z\r\n  .discriminatedUnion(\"type\", [\r\n    textPayloadSchema,\r\n    filePayloadSchema,\r\n    managedFilePayloadSchema,\r\n    managedFilesPayloadSchema,\r\n    urlsPayloadSchema,\r\n  ])\r\n  .describe(\"The ingest job payload.\");\r\n\r\nexport type IngestJobPayload = z.infer<typeof ingestJobPayloadSchema>;\r\n\r\n// type IngestJobPayloadConnection = {\r\n//   type: \"CONNECTION\";\r\n//   connectionId: string;\r\n// };\r\n\r\n// type IngestJobPayloadS3 = {\r\n//   type: \"S3\";\r\n//   bucket: string;\r\n//   prefix?: string;\r\n//   fileTypes?: string[];\r\n// };\r\n\r\n// type IngestJobPayloadGoogleDrive = {\r\n//   type: \"GOOGLE_DRIVE\";\r\n//   folderId: string;\r\n//   fileTypes?: string[];\r\n// };\r\n\r\nexport const configSchema = z\r\n  .object({\r\n    chunkSize: z.number().optional().describe(\"Custom chunk size.\"),\r\n    chunkOverlap: z.number().optional().describe(\"Custom chunk overlap.\"),\r\n    metadata: z\r\n      .record(z.string(), z.unknown())\r\n      .optional()\r\n      .describe(\"Custom metadata to be added to the ingested documents.\"),\r\n    chunkingStrategy: z\r\n      .enum([\"basic\", \"by_title\"])\r\n      .optional()\r\n      .describe(\"The chunking strategy to use. Defaults to `basic`.\"),\r\n    strategy: z\r\n      .enum([\"auto\", \"fast\", \"hi_res\", \"ocr_only\"])\r\n      .optional()\r\n      .describe(\"The strategy to use. Defaults to `auto`.\"),\r\n    // languages: z.array(z.string()).optional().describe(\"The languages to use.\"),\r\n  })\r\n  .describe(\"The ingest job config.\");\r\n\r\nexport type IngestJobConfig = z.infer<typeof configSchema>;\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;;AAEA,MAAM,aAAa,oIAAA,CAAA,UAAC,CACjB,MAAM,GACN,QAAQ,GACR,QAAQ,GACR,QAAQ,CAAC;AAEZ,MAAM,iBAAiB,oIAAA,CAAA,UAAC,CACrB,MAAM,GACN,QAAQ,GACR,QAAQ,GACR,QAAQ,CAAC;AAEL,MAAM,oBAAoB,oIAAA,CAAA,UAAC,CAC/B,MAAM,CAAC;IACN,MAAM,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IAChB,MAAM,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC1B,MAAM;AACR,GACC,OAAO,CAAC;IACP,OAAO;AACT;AAEK,MAAM,oBAAoB,oIAAA,CAAA,UAAC,CAC/B,MAAM,CAAC;IACN,MAAM,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IAChB,SAAS,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC7B,MAAM;AACR,GACC,OAAO,CAAC;IACP,OAAO;AACT;AAEK,MAAM,2BAA2B,oIAAA,CAAA,UAAC,CACtC,MAAM,CAAC;IACN,MAAM,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IAChB,KAAK,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACzB,MAAM;AACR,GACC,OAAO,CAAC;IACP,OAAO;AACT;AAEK,MAAM,4BAA4B,oIAAA,CAAA,UAAC,CACvC,MAAM,CAAC;IACN,MAAM,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IAChB,OAAO,oIAAA,CAAA,UAAC,CAAC,KAAK,CACZ,oIAAA,CAAA,UAAC,CAAC,MAAM,CAAC;QACP,KAAK,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;QACzB,MAAM;IACR;IAEF,MAAM;AACR,GACC,OAAO,CAAC;IACP,OAAO;AACT;AAEK,MAAM,oBAAoB,oIAAA,CAAA,UAAC,CAC/B,MAAM,CAAC;IACN,MAAM,oIAAA,CAAA,UAAC,CAAC,OAAO,CAAC;IAChB,MAAM,oIAAA,CAAA,UAAC,CAAC,KAAK,CAAC,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,GAAG,IAAI,QAAQ,CAAC;IACzC,MAAM;AACR,GACC,OAAO,CAAC;IACP,OAAO;AACT;AAEK,MAAM,yBAAyB,oIAAA,CAAA,UAAC,CACpC,kBAAkB,CAAC,QAAQ;IAC1B;IACA;IACA;IACA;IACA;CACD,EACA,QAAQ,CAAC;AAsBL,MAAM,eAAe,oIAAA,CAAA,UAAC,CAC1B,MAAM,CAAC;IACN,WAAW,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAC1C,cAAc,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAC7C,UAAU,oIAAA,CAAA,UAAC,CACR,MAAM,CAAC,oIAAA,CAAA,UAAC,CAAC,MAAM,IAAI,oIAAA,CAAA,UAAC,CAAC,OAAO,IAC5B,QAAQ,GACR,QAAQ,CAAC;IACZ,kBAAkB,oIAAA,CAAA,UAAC,CAChB,IAAI,CAAC;QAAC;QAAS;KAAW,EAC1B,QAAQ,GACR,QAAQ,CAAC;IACZ,UAAU,oIAAA,CAAA,UAAC,CACR,IAAI,CAAC;QAAC;QAAQ;QAAQ;QAAU;KAAW,EAC3C,QAAQ,GACR,QAAQ,CAAC;AAEd,GACC,QAAQ,CAAC","debugId":null}},
    {"offset": {"line": 3625, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/document-payload/index.ts"],"sourcesContent":["import {\r\n  filePayloadSchema,\r\n  managedFilePayloadSchema,\r\n  textPayloadSchema,\r\n} from \"../ingest-payload\";\r\nimport z from \"../zod\";\r\n\r\n// remove name from the payload since it's a separate field\r\nexport const documentPayloadSchema = z\r\n  .discriminatedUnion(\"type\", [\r\n    textPayloadSchema.omit({ name: true }),\r\n    filePayloadSchema.omit({ name: true }),\r\n    managedFilePayloadSchema.omit({ name: true }),\r\n  ])\r\n  .describe(\"The source of the document.\");\r\n\r\nexport type DocumentPayload = z.infer<typeof documentPayloadSchema>;\r\n\r\nexport const documentPropertiesSchema = z\r\n  .object({\r\n    fileSize: z.number().describe(\"The size of the file in bytes.\"),\r\n    mimeType: z\r\n      .string()\r\n      .nullable()\r\n      .default(null)\r\n      .describe(\"The MIME type of the file.\"),\r\n  })\r\n  .describe(\"The properties of the document.\");\r\n\r\nexport type DocumentProperties = z.infer<typeof documentPropertiesSchema>;\r\n"],"names":[],"mappings":";;;;AAAA;AAKA;;;AAGO,MAAM,wBAAwB,oIAAA,CAAA,UAAC,CACnC,kBAAkB,CAAC,QAAQ;IAC1B,2JAAA,CAAA,oBAAiB,CAAC,IAAI,CAAC;QAAE,MAAM;IAAK;IACpC,2JAAA,CAAA,oBAAiB,CAAC,IAAI,CAAC;QAAE,MAAM;IAAK;IACpC,2JAAA,CAAA,2BAAwB,CAAC,IAAI,CAAC;QAAE,MAAM;IAAK;CAC5C,EACA,QAAQ,CAAC;AAIL,MAAM,2BAA2B,oIAAA,CAAA,UAAC,CACtC,MAAM,CAAC;IACN,UAAU,oIAAA,CAAA,UAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC9B,UAAU,oIAAA,CAAA,UAAC,CACR,MAAM,GACN,QAAQ,GACR,OAAO,CAAC,MACR,QAAQ,CAAC;AACd,GACC,QAAQ,CAAC","debugId":null}},
    {"offset": {"line": 3654, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/packages/validation/src/index.ts"],"sourcesContent":["export * from \"./embedding-model\";\r\nexport * from \"./vector-store\";\r\nexport * from \"./ingest-payload\";\r\nexport * from \"./document-payload\";\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 3681, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/create-namespace/models.ts"],"sourcesContent":["import {\r\n  AnthropicIcon,\r\n  GoogleIcon,\r\n  MicrosoftAzureIcon,\r\n  OpenAIIcon,\r\n  PineconeIcon,\r\n  QdrantIcon,\r\n  UpstashIcon,\r\n} from \"@agentset/ui\";\r\nimport {\r\n  AzureEmbeddingConfigSchema,\r\n  GoogleEmbeddingConfigSchema,\r\n  OpenAIEmbeddingConfigSchema,\r\n  PineconeVectorStoreConfigSchema,\r\n  VoyageEmbeddingConfigSchema,\r\n} from \"@agentset/validation\";\r\n\r\nexport const embeddingModels = [\r\n  {\r\n    value: AzureEmbeddingConfigSchema.shape.provider.value,\r\n    models: AzureEmbeddingConfigSchema.shape.model.options,\r\n    icon: MicrosoftAzureIcon,\r\n  },\r\n  {\r\n    value: OpenAIEmbeddingConfigSchema.shape.provider.value,\r\n    models: OpenAIEmbeddingConfigSchema.shape.model.options,\r\n    icon: OpenAIIcon,\r\n  },\r\n  {\r\n    value: VoyageEmbeddingConfigSchema.shape.provider.value,\r\n    models: VoyageEmbeddingConfigSchema.shape.model.options,\r\n    icon: AnthropicIcon,\r\n  },\r\n  {\r\n    value: GoogleEmbeddingConfigSchema.shape.provider.value,\r\n    models: GoogleEmbeddingConfigSchema.shape.model.options,\r\n    icon: GoogleIcon,\r\n  },\r\n];\r\n\r\nexport const vectorStores = [\r\n  {\r\n    value: PineconeVectorStoreConfigSchema.shape.provider.value,\r\n    icon: PineconeIcon,\r\n  },\r\n  {\r\n    value: \"upstash\",\r\n    comingSoon: true,\r\n    icon: UpstashIcon,\r\n  },\r\n  {\r\n    value: \"qdrant\",\r\n    comingSoon: true,\r\n    icon: QdrantIcon,\r\n  },\r\n];\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAQO,MAAM,kBAAkB;IAC7B;QACE,OAAO,4JAAA,CAAA,6BAA0B,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACtD,QAAQ,4JAAA,CAAA,6BAA0B,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;QACtD,MAAM,wIAAA,CAAA,qBAAkB;IAC1B;IACA;QACE,OAAO,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACvD,QAAQ,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;QACvD,MAAM,yIAAA,CAAA,aAAU;IAClB;IACA;QACE,OAAO,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACvD,QAAQ,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;QACvD,MAAM,4IAAA,CAAA,gBAAa;IACrB;IACA;QACE,OAAO,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACvD,QAAQ,6JAAA,CAAA,8BAA2B,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO;QACvD,MAAM,yIAAA,CAAA,aAAU;IAClB;CACD;AAEM,MAAM,eAAe;IAC1B;QACE,OAAO,4JAAA,CAAA,kCAA+B,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QAC3D,MAAM,2IAAA,CAAA,eAAY;IACpB;IACA;QACE,OAAO;QACP,YAAY;QACZ,MAAM,0IAAA,CAAA,cAAW;IACnB;IACA;QACE,OAAO;QACP,YAAY;QACZ,MAAM,yIAAA,CAAA,aAAU;IAClB;CACD","debugId":null}},
    {"offset": {"line": 3745, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/create-namespace/embedding-step.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo } from \"react\";\nimport { camelCaseToWords, capitalize } from \"@/lib/string-utils\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useForm } from \"react-hook-form\";\nimport { z } from \"zod\";\n\nimport {\n  Button,\n  DialogFooter,\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n  Input,\n  Label,\n  Logo,\n  RadioButton,\n  RadioGroup,\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@agentset/ui\";\nimport { EmbeddingConfigSchema } from \"@agentset/validation\";\n\nimport { embeddingModels } from \"./models\";\n\nconst formSchema = z.object({\n  embeddingModel: EmbeddingConfigSchema.optional(),\n});\n\nexport default function CreateNamespaceEmbeddingStep({\n  onSubmit,\n  onBack,\n  defaultValues,\n}: {\n  onSubmit: (values: z.infer<typeof formSchema>) => void;\n  onBack: () => void;\n  defaultValues?: Partial<z.infer<typeof formSchema>>;\n}) {\n  const form = useForm<z.infer<typeof formSchema>>({\n    resolver: zodResolver(formSchema),\n    defaultValues,\n  });\n\n  // when the provider changes, set the model to the default model for the provider\n  const currentEmbeddingProvider = form.watch(\"embeddingModel\")?.provider;\n\n  useEffect(() => {\n    if (currentEmbeddingProvider) {\n      const model = embeddingModels.find(\n        (p) => p.value === currentEmbeddingProvider,\n      )?.models[0];\n\n      // reset other fields in the embeddingModel object\n      form.resetField(\"embeddingModel\", {\n        defaultValue: {\n          provider: currentEmbeddingProvider,\n          model,\n        } as z.infer<typeof EmbeddingConfigSchema>,\n      });\n    } else {\n      form.setValue(\"embeddingModel\", undefined);\n    }\n    // eslint-disable-next-line react-compiler/react-compiler\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentEmbeddingProvider]);\n\n  const currentEmbeddingOptions = useMemo(() => {\n    const shape =\n      EmbeddingConfigSchema.optionsMap.get(currentEmbeddingProvider)?.shape ??\n      {};\n    return {\n      fields: Object.keys(shape).filter(\n        (key) => key !== \"provider\" && key !== \"model\",\n      ),\n      shape,\n    };\n  }, [currentEmbeddingProvider]);\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)}>\n        <div className=\"flex flex-col gap-6\">\n          <FormField\n            control={form.control}\n            name=\"embeddingModel.provider\"\n            render={({ field }) => (\n              <FormItem className=\"mt-3\">\n                <FormControl>\n                  <RadioGroup\n                    onValueChange={(newValue) => {\n                      if (newValue === \"agentset\") {\n                        form.setValue(\"embeddingModel\", undefined);\n                      } else {\n                        field.onChange(newValue);\n                      }\n                    }}\n                    defaultValue={\n                      (field.value as typeof field.value | undefined) ??\n                      \"agentset\"\n                    }\n                    className=\"grid grid-cols-3 gap-4\"\n                  >\n                    <RadioButton\n                      value=\"agentset\"\n                      label=\"Agentset\"\n                      icon={Logo}\n                      note=\"Default\"\n                    />\n\n                    {embeddingModels.map((provider) => (\n                      <RadioButton\n                        key={provider.value}\n                        value={provider.value}\n                        label={capitalize(provider.value.split(\"_\").join(\" \"))!}\n                        icon={provider.icon}\n                      />\n                    ))}\n                  </RadioGroup>\n                </FormControl>\n\n                <FormMessage />\n              </FormItem>\n            )}\n          />\n\n          {currentEmbeddingProvider && (\n            <FormField\n              control={form.control}\n              name=\"embeddingModel.model\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Model</FormLabel>\n                  <FormControl>\n                    <Select\n                      defaultValue={field.value}\n                      value={field.value}\n                      onValueChange={field.onChange}\n                    >\n                      <SelectTrigger className=\"w-xs\">\n                        <SelectValue placeholder=\"Select a model\" />\n                      </SelectTrigger>\n\n                      <SelectContent>\n                        {embeddingModels\n                          .find((p) => p.value === currentEmbeddingProvider)\n                          ?.models.map((model) => (\n                            <SelectItem key={model} value={model}>\n                              {model}\n                            </SelectItem>\n                          ))}\n                      </SelectContent>\n                    </Select>\n                  </FormControl>\n\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n          )}\n\n          {/* render other fields based on the provider dynamically */}\n          {currentEmbeddingProvider ? (\n            currentEmbeddingOptions.fields.map((key) => (\n              <FormField\n                key={key}\n                control={form.control}\n                name={\n                  `embeddingModel.${key}` as `embeddingModel.${keyof z.infer<typeof EmbeddingConfigSchema>}`\n                }\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>\n                      {camelCaseToWords(key)}{\" \"}\n                      {currentEmbeddingOptions.shape[\n                        key\n                      ]?.isOptional() ? null : (\n                        <span className=\"text-destructive-foreground\">*</span>\n                      )}\n                    </FormLabel>\n\n                    <FormControl>\n                      <Input {...field} value={field.value || \"\"} />\n                    </FormControl>\n\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            ))\n          ) : (\n            <div className=\"flex flex-col gap-2\">\n              <Label data-slot=\"form-label\">Model</Label>\n\n              <Select disabled value=\"default\">\n                <SelectTrigger className=\"w-xs\">\n                  <SelectValue placeholder=\"Select a model\" />\n                </SelectTrigger>\n\n                <SelectContent>\n                  <SelectItem value=\"default\">\n                    OpenAI / text-embedding-3-large\n                  </SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          )}\n        </div>\n\n        <DialogFooter className=\"mt-10 flex-row items-center justify-between sm:justify-between\">\n          <p className=\"text-muted-foreground text-xs\">\n            Can't find the model you need?{\" \"}\n            <a\n              href=\"mailto:support@agentset.ai\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              className=\"text-primary underline\"\n            >\n              Contact us\n            </a>\n          </p>\n\n          <div className=\"flex gap-2\">\n            <Button type=\"button\" variant=\"outline\" onClick={onBack}>\n              Back\n            </Button>\n            <Button type=\"submit\">Next</Button>\n          </div>\n        </DialogFooter>\n      </form>\n    </Form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4148, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/create-namespace/vector-store-step.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo } from \"react\";\r\nimport { camelCaseToWords, capitalize } from \"@/lib/string-utils\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\n\r\nimport {\r\n  Button,\r\n  DialogFooter,\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n  Input,\r\n  Label,\r\n  Logo,\r\n  RadioButton,\r\n  RadioGroup,\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@agentset/ui\";\r\nimport { VectorStoreSchema } from \"@agentset/validation\";\r\n\r\nimport { vectorStores } from \"./models\";\r\n\r\nconst formSchema = z.object({\r\n  vectorStore: VectorStoreSchema.optional(),\r\n});\r\n\r\nexport default function CreateNamespaceVectorStoreStep({\r\n  onSubmit,\r\n  onBack,\r\n  isLoading,\r\n}: {\r\n  onSubmit: (values: z.infer<typeof formSchema>) => void;\r\n  isLoading: boolean;\r\n  onBack: () => void;\r\n}) {\r\n  const form = useForm<z.infer<typeof formSchema>>({\r\n    resolver: zodResolver(formSchema, undefined),\r\n  });\r\n\r\n  // when the provider changes, set the model to the default model for the provider\r\n  const currentVectorProvider = form.watch(\"vectorStore\")?.provider;\r\n\r\n  useEffect(() => {\r\n    if (currentVectorProvider) {\r\n      // reset other fields in the embeddingModel object\r\n      form.reset({\r\n        vectorStore: {\r\n          provider: currentVectorProvider,\r\n        } as z.infer<typeof VectorStoreSchema>,\r\n      });\r\n    } else {\r\n      form.setValue(\"vectorStore\", undefined);\r\n    }\r\n    // eslint-disable-next-line react-compiler/react-compiler\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentVectorProvider]);\r\n\r\n  const currentVectorStoreOptions = useMemo(() => {\r\n    const shape =\r\n      VectorStoreSchema.optionsMap.get(currentVectorProvider)?.shape ?? {};\r\n    return {\r\n      fields: Object.keys(shape).filter((key) => key !== \"provider\"),\r\n      shape,\r\n    };\r\n  }, [currentVectorProvider]);\r\n\r\n  return (\r\n    <Form {...form}>\r\n      <form onSubmit={form.handleSubmit(onSubmit)}>\r\n        <div className=\"flex flex-col gap-6\">\r\n          <FormField\r\n            control={form.control}\r\n            name=\"vectorStore.provider\"\r\n            render={({ field }) => (\r\n              <FormItem className=\"mt-3\">\r\n                <FormControl>\r\n                  <RadioGroup\r\n                    onValueChange={(newValue) => {\r\n                      if (newValue === \"agentset\") {\r\n                        form.setValue(\"vectorStore\", undefined);\r\n                      } else {\r\n                        field.onChange(newValue);\r\n                      }\r\n                    }}\r\n                    defaultValue={\r\n                      (field.value as typeof field.value | undefined) ??\r\n                      \"agentset\"\r\n                    }\r\n                    className=\"grid grid-cols-3 gap-4\"\r\n                  >\r\n                    <RadioButton\r\n                      value=\"agentset\"\r\n                      label=\"Agentset\"\r\n                      icon={Logo}\r\n                      note=\"Default\"\r\n                    />\r\n\r\n                    {vectorStores.map((store) => (\r\n                      <RadioButton\r\n                        key={store.value}\r\n                        value={store.value}\r\n                        label={capitalize(store.value)!}\r\n                        icon={store.icon}\r\n                        note={store.comingSoon ? \"Coming Soon\" : undefined}\r\n                        noteStyle=\"muted\"\r\n                        disabled={store.comingSoon}\r\n                      />\r\n                    ))}\r\n                  </RadioGroup>\r\n                </FormControl>\r\n\r\n                <FormMessage />\r\n              </FormItem>\r\n            )}\r\n          />\r\n\r\n          {/* render other fields based on the provider dynamically */}\r\n          {currentVectorProvider ? (\r\n            currentVectorStoreOptions.fields.map((key) => (\r\n              <FormField\r\n                key={key}\r\n                control={form.control}\r\n                name={\r\n                  `vectorStore.${key}` as `vectorStore.${keyof z.infer<typeof VectorStoreSchema>}`\r\n                }\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>\r\n                      {camelCaseToWords(key)}{\" \"}\r\n                      {currentVectorStoreOptions.shape[\r\n                        key\r\n                      ]?.isOptional() ? null : (\r\n                        <span className=\"text-destructive-foreground\">*</span>\r\n                      )}\r\n                    </FormLabel>\r\n\r\n                    <FormControl>\r\n                      <Input {...field} />\r\n                    </FormControl>\r\n\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n            ))\r\n          ) : (\r\n            <div className=\"flex flex-col gap-2\">\r\n              <Label data-slot=\"form-label\">Vector Store</Label>\r\n\r\n              <Select disabled value=\"default\">\r\n                <SelectTrigger className=\"w-xs\">\r\n                  <SelectValue placeholder=\"Select a vector store\" />\r\n                </SelectTrigger>\r\n\r\n                <SelectContent>\r\n                  <SelectItem value=\"default\">Pinecone</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter className=\"mt-10 flex-row items-center justify-between sm:justify-between\">\r\n          <p className=\"text-muted-foreground text-xs\">\r\n            Can't find the vector store you need?{\" \"}\r\n            <a\r\n              href=\"mailto:support@agentset.ai\"\r\n              target=\"_blank\"\r\n              rel=\"noreferrer\"\r\n              className=\"text-primary underline\"\r\n            >\r\n              Contact us\r\n            </a>\r\n          </p>\r\n\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={onBack}\r\n              disabled={isLoading}\r\n            >\r\n              Back\r\n            </Button>\r\n            <Button type=\"submit\" isLoading={isLoading}>\r\n              Create\r\n            </Button>\r\n          </div>\r\n        </DialogFooter>\r\n      </form>\r\n    </Form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4479, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/create-namespace/index.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { toSlug } from \"@/lib/slug\";\r\nimport { useTRPC } from \"@/trpc/react\";\r\nimport { useRouter } from \"@bprogress/next/app\";\r\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport type { EmbeddingConfig, VectorStoreConfig } from \"@agentset/validation\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@agentset/ui\";\r\n\r\nimport CreateNamespaceDetailsStep from \"./details-step\";\r\nimport CreateNamespaceEmbeddingStep from \"./embedding-step\";\r\nimport CreateNamespaceVectorStoreStep from \"./vector-store-step\";\r\n\r\nexport default function CreateNamespaceDialog({\r\n  organization,\r\n  open,\r\n  setOpen,\r\n}: {\r\n  organization?: { id: string; slug: string; name: string } | null;\r\n  open: boolean;\r\n  setOpen: (open: boolean) => void;\r\n}) {\r\n  const router = useRouter();\r\n  const trpc = useTRPC();\r\n  const queryClient = useQueryClient();\r\n\r\n  const [step, setStep] = useState<\"details\" | \"embeddings\" | \"vector-store\">(\r\n    \"details\",\r\n  );\r\n\r\n  const defaultName = useMemo(() => {\r\n    return organization?.name\r\n      ? `${organization.name}'s First Namespace`\r\n      : \"Default\";\r\n  }, [organization]);\r\n  const defaultSlug = useMemo(() => toSlug(defaultName), [defaultName]);\r\n\r\n  const [name, setName] = useState(defaultName);\r\n  const [slug, setSlug] = useState(defaultSlug);\r\n\r\n  useEffect(() => {\r\n    setName(defaultName);\r\n    setSlug(toSlug(defaultName));\r\n  }, [defaultName]);\r\n\r\n  const [embeddingModel, setEmbeddingModel] = useState<\r\n    EmbeddingConfig | undefined\r\n  >(undefined);\r\n\r\n  const { isPending, mutateAsync: createNamespace } = useMutation(\r\n    trpc.namespace.createNamespace.mutationOptions({\r\n      onSuccess: (data) => {\r\n        toast.success(\"Namespace created\");\r\n        setOpen(false);\r\n\r\n        setName(defaultName);\r\n        setSlug(defaultSlug);\r\n\r\n        setEmbeddingModel(undefined);\r\n        setStep(\"details\");\r\n\r\n        if (organization) {\r\n          router.push(`/${organization.slug}/${data.slug}/quick-start`);\r\n        }\r\n\r\n        void queryClient.invalidateQueries(trpc.organization.all.queryFilter());\r\n      },\r\n      onError: (error) => {\r\n        toast.error(error.message);\r\n      },\r\n    }),\r\n  );\r\n\r\n  const onSubmit = async (vectorStore?: VectorStoreConfig) => {\r\n    if (!organization) return;\r\n\r\n    await createNamespace({\r\n      orgId: organization.id,\r\n      name: name,\r\n      slug: slug,\r\n      embeddingConfig: embeddingModel,\r\n      vectorStoreConfig: vectorStore,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onOpenChange={(newOpen) => {\r\n        if (isPending) return;\r\n        setOpen(newOpen);\r\n      }}\r\n    >\r\n      <DialogContent className=\"sm:max-w-xl\">\r\n        <DialogHeader>\r\n          <DialogTitle>\r\n            {step === \"details\"\r\n              ? \"Create namespace\"\r\n              : step === \"embeddings\"\r\n                ? \"Embeddings\"\r\n                : \"Vector store\"}\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            {step === \"details\"\r\n              ? \"Create a new namespace to start ingesting data.\"\r\n              : step === \"embeddings\"\r\n                ? \"Choose an embedding model for your namespace. Note that you can't change the embedding model once the namespace is created.\"\r\n                : \"Choose a vector store for your namespace. Note that you can't change the vector store once the namespace is created.\"}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        {step === \"details\" ? (\r\n          <CreateNamespaceDetailsStep\r\n            defaultValues={{\r\n              name,\r\n              slug,\r\n            }}\r\n            onSubmit={(values) => {\r\n              setName(values.name);\r\n              setSlug(values.slug);\r\n              setStep(\"embeddings\");\r\n            }}\r\n          />\r\n        ) : step === \"embeddings\" ? (\r\n          <CreateNamespaceEmbeddingStep\r\n            defaultValues={embeddingModel ? { embeddingModel } : undefined}\r\n            onSubmit={(values) => {\r\n              setEmbeddingModel(values.embeddingModel ?? undefined);\r\n              setStep(\"vector-store\");\r\n            }}\r\n            onBack={() => setStep(\"details\")}\r\n          />\r\n        ) : (\r\n          <CreateNamespaceVectorStoreStep\r\n            isLoading={isPending}\r\n            onSubmit={(values) => onSubmit(values.vectorStore)}\r\n            onBack={() => setStep(\"embeddings\")}\r\n          />\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4641, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/components/dashboard-page-wrapper.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useTransition } from \"react\";\r\nimport { useParams, usePathname } from \"next/navigation\";\r\nimport { useNamespace } from \"@/contexts/namespace-context\";\r\nimport { useOrganization } from \"@/contexts/organization-context\";\r\nimport { useTRPC } from \"@/trpc/react\";\r\nimport { useRouter } from \"@bprogress/next/app\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { ChevronsUpDownIcon, PlusIcon } from \"lucide-react\";\r\n\r\nimport type { Namespace } from \"@agentset/db\";\r\nimport {\r\n  Breadcrumb,\r\n  BreadcrumbItem,\r\n  BreadcrumbList,\r\n  BreadcrumbSeparator,\r\n  Button,\r\n  cn,\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n  SidebarTrigger,\r\n} from \"@agentset/ui\";\r\n\r\nimport { NavUser } from \"./app-sidebar/nav-user\";\r\nimport CreateNamespaceDialog from \"./create-namespace\";\r\n\r\nconst NamespaceSwitcher = () => {\r\n  const { activeNamespace } = useNamespace();\r\n  const { activeOrganization } = useOrganization();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const [open, setOpen] = useState(false);\r\n  const [isPending, startTransition] = useTransition();\r\n\r\n  const trpc = useTRPC();\r\n  const { data: namespaces, isLoading } = useQuery(\r\n    trpc.namespace.getOrgNamespaces.queryOptions({\r\n      orgId: activeOrganization.id,\r\n    }),\r\n  );\r\n\r\n  const handleNamespaceChange = (namespace: Namespace) => {\r\n    const relativePath = pathname.replace(\r\n      `/${activeOrganization.slug}/${activeNamespace.slug}`,\r\n      `/${activeOrganization.slug}/${namespace.slug}`,\r\n    );\r\n\r\n    startTransition(() => {\r\n      router.push(relativePath);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild disabled={isLoading || isPending}>\r\n          <Button\r\n            variant=\"ghost\"\r\n            className=\"focus-visible:bg-accent text-foreground h-8 px-0! focus-visible:ring-0\"\r\n          >\r\n            <span className=\"text-muted-foreground truncate text-sm font-medium\">\r\n              {activeNamespace.name}\r\n            </span>\r\n            <ChevronsUpDownIcon className=\"text-muted-foreground/80 size-3\" />\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n\r\n        <DropdownMenuContent\r\n          className=\"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg\"\r\n          align=\"start\"\r\n          side=\"bottom\"\r\n          sideOffset={4}\r\n        >\r\n          {namespaces?.map((namespace) => (\r\n            <DropdownMenuItem\r\n              className=\"gap-2 p-2\"\r\n              key={namespace.id}\r\n              onClick={() => handleNamespaceChange(namespace)}\r\n            >\r\n              <p>{namespace.name}</p>\r\n            </DropdownMenuItem>\r\n          ))}\r\n\r\n          <DropdownMenuSeparator />\r\n\r\n          <DropdownMenuItem className=\"gap-2 p-2\" onClick={() => setOpen(true)}>\r\n            <PlusIcon className=\"size-4\" />\r\n\r\n            <div className=\"text-muted-foreground font-medium\">\r\n              New Namespace\r\n            </div>\r\n          </DropdownMenuItem>\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n\r\n      <CreateNamespaceDialog\r\n        organization={activeOrganization}\r\n        open={open}\r\n        setOpen={setOpen}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default function DashboardPageWrapper({\r\n  children,\r\n  title,\r\n  titleActions,\r\n  className,\r\n  actions,\r\n}: {\r\n  children: React.ReactNode;\r\n  title: string;\r\n  titleActions?: React.ReactNode;\r\n  className?: string;\r\n  actions?: React.ReactNode;\r\n}) {\r\n  const { namespaceSlug } = useParams();\r\n\r\n  return (\r\n    <>\r\n      <header className=\"flex h-16 shrink-0 items-center justify-between px-4 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12 lg:px-6\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <SidebarTrigger className=\"md:hidden\" />\r\n          {namespaceSlug ? (\r\n            <Breadcrumb>\r\n              <BreadcrumbList>\r\n                <BreadcrumbItem>\r\n                  <NamespaceSwitcher />\r\n                </BreadcrumbItem>\r\n                <BreadcrumbSeparator>/</BreadcrumbSeparator>\r\n                <BreadcrumbItem>\r\n                  <h1 className=\"text-foreground text-sm font-medium\">\r\n                    {title}\r\n                  </h1>\r\n                </BreadcrumbItem>\r\n              </BreadcrumbList>\r\n            </Breadcrumb>\r\n          ) : (\r\n            <h1 className=\"text-base font-medium\">{title}</h1>\r\n          )}\r\n\r\n          {titleActions}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          {actions}\r\n          <NavUser />\r\n        </div>\r\n      </header>\r\n\r\n      <div className={cn(\"flex flex-1 flex-col px-8 py-10\", className)}>\r\n        {children}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4919, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/lib/code-examples/playground.ts"],"sourcesContent":["export const curlExample = /* bash */ `\r\ncurl --request POST \\\\\r\n  --url https://api.agentset.ai/v1/namespace/{{namespace}}/search \\\\\r\n  --header 'Authorization: Bearer <token>' \\\\\r\n  --header 'Content-Type: application/json' \\\\\r\n  --data '{\r\n  \"query\": \"<string>\",\r\n  \"topK\": 15,\r\n  \"includeMetadata\": true\r\n}'\r\n`;\r\n\r\nexport const tsSdkExample = /* typescript */ `\r\nimport { Agentset } from \"agentset\";\r\n\r\nconst agentset = new Agentset({\r\n  apiKey: \"YOUR_API_KEY\",\r\n});\r\n\r\nconst ns = agentset.namespace(\"{{namespace}}\");\r\n\r\nconst results = await ns.search({ query: \"YOUR QUERY\" });\r\nconsole.log(results);\r\n`;\r\n\r\nexport const aiSdkExample = /* typescript */ `\r\nimport { Agentset } from \"agentset\";\r\nimport { DEFAULT_PROMPT, makeAgentsetTool } from \"@agentset/ai-sdk\";\r\nimport { generateText } from \"ai\";\r\n\r\nconst agentset = new Agentset({\r\n  apiKey: \"YOUR_API_KEY\",\r\n});\r\nconst ns = agentset.namespace(\"{{namespace}}\");\r\n\r\nconst result = await generateText({\r\n  model: gpt4o,\r\n  tools: {\r\n    knowledgeBase: makeAgentsetTool(ns),\r\n  },\r\n  system: DEFAULT_SYSTEM_PROMPT,\r\n  messages: [\r\n    {\r\n      role: 'user',\r\n      content: '<question>',\r\n    },\r\n  ],\r\n  maxSteps: 3,\r\n});\r\nconsole.log(result);\r\n`;\r\n"],"names":[],"mappings":";;;;;AAAO,MAAM,cAAc,QAAQ,GAAG,CAAC;;;;;;;;;;AAUvC,CAAC;AAEM,MAAM,eAAe,cAAc,GAAG,CAAC;;;;;;;;;;;AAW9C,CAAC;AAEM,MAAM,eAAe,cAAc,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;AAyB9C,CAAC","debugId":null}},
    {"offset": {"line": 4979, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/lib/api/ids.ts"],"sourcesContent":["const _prefixes = [\"ns_\", \"user_\", \"org_\", \"job_\", \"doc_\"] as const;\r\n\r\nexport const prefixId = (id: string, prefix: (typeof _prefixes)[number]) => {\r\n  return id.startsWith(prefix) ? id : `${prefix}${id}`;\r\n};\r\n\r\nexport const normalizeId = (id: string, prefix: (typeof _prefixes)[number]) => {\r\n  return id.startsWith(prefix) ? id.replace(prefix, \"\") : id;\r\n};\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,YAAY;IAAC;IAAO;IAAS;IAAQ;IAAQ;CAAO;AAEnD,MAAM,WAAW,CAAC,IAAY;IACnC,OAAO,GAAG,UAAU,CAAC,UAAU,KAAK,GAAG,SAAS,IAAI;AACtD;AAEO,MAAM,cAAc,CAAC,IAAY;IACtC,OAAO,GAAG,UAAU,CAAC,UAAU,GAAG,OAAO,CAAC,QAAQ,MAAM;AAC1D","debugId":null}},
    {"offset": {"line": 5002, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/app/app.agentset.ai/%28dashboard%29/%5Bslug%5D/%5BnamespaceSlug%5D/playground/api-dialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { CodeBlock } from \"@/components/chat/code-block\";\r\nimport { useNamespace } from \"@/contexts/namespace-context\";\r\nimport { useOrganization } from \"@/contexts/organization-context\";\r\nimport { prefixId } from \"@/lib/api/ids\";\r\nimport { ArrowUpRightIcon, Code2Icon } from \"lucide-react\";\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n  Tabs,\r\n  TabsContent,\r\n  TabsList,\r\n  TabsTrigger,\r\n} from \"@agentset/ui\";\r\n\r\nexport default function ApiDialog({\r\n  variant = \"outline\",\r\n  label = \"API\",\r\n  description = \"Use the api\",\r\n  tabs,\r\n}: {\r\n  variant?: \"ghost\" | \"outline\";\r\n  label?: string;\r\n  description?: React.ReactNode;\r\n  tabs: {\r\n    title: string;\r\n    code: string;\r\n  }[];\r\n}) {\r\n  const { activeNamespace } = useNamespace();\r\n  const { activeOrganization } = useOrganization();\r\n\r\n  const prepareExample = (example: string) => {\r\n    const id = prefixId(activeNamespace.id, \"ns_\");\r\n    return example.replace(\"{{namespace}}\", id).trim();\r\n  };\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogTrigger asChild>\r\n        <Button variant={variant}>\r\n          <Code2Icon className=\"size-4\" />\r\n          {label}\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent className=\"sm:max-w-2xl\">\r\n        <DialogHeader>\r\n          <DialogTitle>{label}</DialogTitle>\r\n          <DialogDescription>{description}</DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <Tabs>\r\n          <div className=\"flex items-center justify-between\">\r\n            <TabsList className=\"my-3\">\r\n              {tabs.map((tab) => (\r\n                <TabsTrigger key={tab.title} value={tab.title}>\r\n                  {tab.title}\r\n                </TabsTrigger>\r\n              ))}\r\n            </TabsList>\r\n\r\n            <Button asChild size=\"sm\">\r\n              <a\r\n                href={`/${activeOrganization.slug}/settings/api-keys`}\r\n                target=\"_blank\"\r\n              >\r\n                <ArrowUpRightIcon className=\"size-4\" />\r\n                Create API Key\r\n              </a>\r\n            </Button>\r\n          </div>\r\n\r\n          {tabs.map((tab) => (\r\n            <TabsContent key={tab.title} value={tab.title}>\r\n              <CodeBlock>{prepareExample(tab.code)}</CodeBlock>\r\n            </TabsContent>\r\n          ))}\r\n        </Tabs>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AARA;;;;;;;;AAsBe,SAAS,UAAU,EAChC,UAAU,SAAS,EACnB,QAAQ,KAAK,EACb,cAAc,aAAa,EAC3B,IAAI,EASL;IACC,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,uJAAA,CAAA,eAAY,AAAD;IACvC,MAAM,EAAE,kBAAkB,EAAE,GAAG,CAAA,GAAA,0JAAA,CAAA,kBAAe,AAAD;IAE7C,MAAM,iBAAiB,CAAC;QACtB,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,WAAQ,AAAD,EAAE,gBAAgB,EAAE,EAAE;QACxC,OAAO,QAAQ,OAAO,CAAC,iBAAiB,IAAI,IAAI;IAClD;IAEA,qBACE,8OAAC,8IAAA,CAAA,SAAM;;0BACL,8OAAC,8IAAA,CAAA,gBAAa;gBAAC,OAAO;0BACpB,cAAA,8OAAC,8IAAA,CAAA,SAAM;oBAAC,SAAS;;sCACf,8OAAC,8MAAA,CAAA,YAAS;4BAAC,WAAU;;;;;;wBACpB;;;;;;;;;;;;0BAGL,8OAAC,8IAAA,CAAA,gBAAa;gBAAC,WAAU;;kCACvB,8OAAC,8IAAA,CAAA,eAAY;;0CACX,8OAAC,8IAAA,CAAA,cAAW;0CAAE;;;;;;0CACd,8OAAC,8IAAA,CAAA,oBAAiB;0CAAE;;;;;;;;;;;;kCAGtB,8OAAC,4IAAA,CAAA,OAAI;;0CACH,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,4IAAA,CAAA,WAAQ;wCAAC,WAAU;kDACjB,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC,4IAAA,CAAA,cAAW;gDAAiB,OAAO,IAAI,KAAK;0DAC1C,IAAI,KAAK;+CADM,IAAI,KAAK;;;;;;;;;;kDAM/B,8OAAC,8IAAA,CAAA,SAAM;wCAAC,OAAO;wCAAC,MAAK;kDACnB,cAAA,8OAAC;4CACC,MAAM,CAAC,CAAC,EAAE,mBAAmB,IAAI,CAAC,kBAAkB,CAAC;4CACrD,QAAO;;8DAEP,8OAAC,8NAAA,CAAA,mBAAgB;oDAAC,WAAU;;;;;;gDAAW;;;;;;;;;;;;;;;;;;4BAM5C,KAAK,GAAG,CAAC,CAAC,oBACT,8OAAC,4IAAA,CAAA,cAAW;oCAAiB,OAAO,IAAI,KAAK;8CAC3C,cAAA,8OAAC,0JAAA,CAAA,YAAS;kDAAE,eAAe,IAAI,IAAI;;;;;;mCADnB,IAAI,KAAK;;;;;;;;;;;;;;;;;;;;;;;AAQvC","debugId":null}},
    {"offset": {"line": 5173, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/lib/prompt.ts"],"sourcesContent":["type PlaceholderKey = string;\r\n\r\ntype InferPromptVars<T extends PlaceholderKey[]> = T extends []\r\n  ? Record<string, never>\r\n  : { [K in T[number]]: string | number | boolean };\r\n\r\ntype CompileFunction<T> =\r\n  T extends Record<string, never> ? () => string : (variables: T) => string;\r\n\r\ntype PromptResult<T> = {\r\n  compile: CompileFunction<T>;\r\n};\r\n\r\nexport const prmpt = <K extends PlaceholderKey[]>(\r\n  strings: TemplateStringsArray,\r\n  ...keys: K\r\n): PromptResult<InferPromptVars<K>> => {\r\n  if (keys.length === 0) {\r\n    return {\r\n      compile: (() => strings[0]?.trim()) as CompileFunction<\r\n        InferPromptVars<K>\r\n      >,\r\n    };\r\n  }\r\n\r\n  return {\r\n    compile: ((variables: InferPromptVars<K>) => {\r\n      let result = strings[0];\r\n\r\n      for (let i = 0; i < keys.length; i++) {\r\n        const key = keys[i];\r\n        if (key !== undefined) {\r\n          result += variables[key] + (strings[i + 1] ?? \"\");\r\n        }\r\n      }\r\n\r\n      return result?.trim();\r\n    }) as CompileFunction<InferPromptVars<K>>,\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;AAaO,MAAM,QAAQ,CACnB,SACA,GAAG;IAEH,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,OAAO;YACL,SAAU,IAAM,OAAO,CAAC,EAAE,EAAE;QAG9B;IACF;IAEA,OAAO;QACL,SAAU,CAAC;YACT,IAAI,SAAS,OAAO,CAAC,EAAE;YAEvB,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAK;gBACpC,MAAM,MAAM,IAAI,CAAC,EAAE;gBACnB,IAAI,QAAQ,WAAW;oBACrB,UAAU,SAAS,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE;gBAClD;YACF;YAEA,OAAO,QAAQ;QACjB;IACF;AACF","debugId":null}},
    {"offset": {"line": 5201, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/lib/prompts.ts"],"sourcesContent":["import { prmpt } from \"@/lib/prompt\";\r\n\r\nexport const DEFAULT_SYSTEM_PROMPT = prmpt`\r\nYou are an AI assistant powered by Agentset. Your primary task is to provide accurate, factual responses based STRICTLY on the provided search results. You must ONLY answer questions using information explicitly found in the search results - do not make assumptions or add information from outside knowledge.\r\n\r\nFollow these STRICT guidelines:\r\n1. If the search results do not contain information to fully answer the query, state clearly: \"I cannot fully answer this question based on the available information.\" Then explain what specific aspects cannot be answered.\r\n2. Only use information directly stated in the search results - do not infer, assume, or add external knowledge.\r\n3. Your response must match the language of the user's query.\r\n4. Citations are MANDATORY for every factual statement. Format citations by placing the chunk number in brackets immediately after the relevant statement with no space, like this: \"The temperature is 20 degrees[3]\"\r\n5. When possible, include relevant direct quotes from the search results with proper citations.\r\n6. Do not preface responses with phrases like \"based on the search results\" - simply provide the cited answer.\r\n7. Maintain a clear, professional tone focused on accuracy and fidelity to the source material.\r\n\r\nIf the search results are completely irrelevant or insufficient to address any part of the query, respond: \"I cannot answer this question as the search results do not contain relevant information about [specific topic].\"\r\n`;\r\n\r\nexport const NEW_MESSAGE_PROMPT = prmpt`\r\nMost relevant search results:\r\n${\"chunks\"}\r\n\r\nUser's query:\r\n${\"query\"}\r\n`;\r\n\r\nexport const CONDENSE_SYSTEM_PROMPT = prmpt`\r\nGiven a conversation history between Human and Assistant and a follow-up question from Human, rewrite the question into a standalone query that:\r\n\r\n1. Incorporates all relevant context from the prior conversation\r\n2. Preserves specific details, names, and technical terms mentioned earlier\r\n3. Maintains the original language and tone of the user's question\r\n4. Focuses on searchable keywords and concepts to optimize vector database retrieval\r\n5. Removes conversational elements like \"as mentioned before\" or \"following up on\"\r\n6. Expands pronouns and references to their full form (e.g. \"it\" → \"the database schema\")\r\n\r\nYour task is to create a clear, context-rich query that will yield the most relevant search results from the vector database.\r\n\r\n\r\nQuestion: ${\"question\"}\r\n\r\nHistory:\r\n${\"chatHistory\"}\r\n`;\r\n\r\nexport const CONDENSE_USER_PROMPT = prmpt`\r\nChat History:\r\n${\"chatHistory\"}\r\n\r\nFollow Up Message:\r\n${\"query\"}\r\n`;\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,wBAAwB,mIAAA,CAAA,QAAK,CAAC;;;;;;;;;;;;;AAa3C,CAAC;AAEM,MAAM,qBAAqB,mIAAA,CAAA,QAAK,CAAC;;AAExC,EAAE,SAAS;;;AAGX,EAAE,QAAQ;AACV,CAAC;AAEM,MAAM,yBAAyB,mIAAA,CAAA,QAAK,CAAC;;;;;;;;;;;;;UAalC,EAAE,WAAW;;;AAGvB,EAAE,cAAc;AAChB,CAAC;AAEM,MAAM,uBAAuB,mIAAA,CAAA,QAAK,CAAC;;AAE1C,EAAE,cAAc;;;AAGhB,EAAE,QAAQ;AACV,CAAC","debugId":null}},
    {"offset": {"line": 5261, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/app/app.agentset.ai/%28dashboard%29/%5Bslug%5D/%5BnamespaceSlug%5D/playground/chat-settings.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useChatSettings } from \"@/components/chat/chat-settings.store\";\r\nimport { useNamespace } from \"@/contexts/namespace-context\";\r\nimport { DEFAULT_SYSTEM_PROMPT } from \"@/lib/prompts\";\r\nimport { Settings2Icon } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n  Input,\r\n  Label,\r\n  Textarea,\r\n} from \"@agentset/ui\";\r\n\r\nconst defaultPrompt = DEFAULT_SYSTEM_PROMPT.compile().trim();\r\n\r\nexport default function ChatSettings() {\r\n  const { activeNamespace } = useNamespace();\r\n  const [open, setOpen] = useState(false);\r\n  const store = useChatSettings();\r\n  const currentState = store.getNamespace(activeNamespace.id);\r\n\r\n  const [topK, setTopK] = useState(currentState.topK);\r\n  const [rerankLimit, setRerankLimit] = useState(currentState.rerankLimit);\r\n  const [systemPrompt, setSystemPrompt] = useState(currentState.systemPrompt);\r\n  const [temperature, setTemperature] = useState(currentState.temperature);\r\n\r\n  const handleSave = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (rerankLimit > topK) {\r\n      toast.error(\"Rerank limit cannot be greater than top K\");\r\n      return;\r\n    }\r\n\r\n    if (topK !== currentState.topK) {\r\n      store.setTopK(activeNamespace.id, topK);\r\n    }\r\n    if (rerankLimit !== currentState.rerankLimit) {\r\n      store.setRerankLimit(activeNamespace.id, rerankLimit);\r\n    }\r\n\r\n    if (systemPrompt !== currentState.systemPrompt) {\r\n      store.setSystemPrompt(\r\n        activeNamespace.id,\r\n        systemPrompt && systemPrompt !== \"\" ? systemPrompt : null,\r\n      );\r\n    }\r\n\r\n    if (temperature !== currentState.temperature) {\r\n      store.setTemperature(activeNamespace.id, temperature);\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    const newState = store.reset(activeNamespace.id);\r\n    setTopK(newState.topK);\r\n    setRerankLimit(newState.rerankLimit);\r\n    setSystemPrompt(newState.systemPrompt);\r\n    setTemperature(newState.temperature);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button variant=\"outline\">\r\n          <Settings2Icon className=\"size-4\" />\r\n          Parameters\r\n        </Button>\r\n      </DialogTrigger>\r\n\r\n      <DialogContent className=\"overflow-y-auto sm:max-w-xl\">\r\n        <DialogHeader>\r\n          <DialogTitle>Parameters</DialogTitle>\r\n          <DialogDescription>\r\n            Customize the parameters for the chat.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <form className=\"grid gap-4 py-4\" onSubmit={handleSave}>\r\n          <div className=\"grid gap-2\">\r\n            <Label>Top K</Label>\r\n            <Input\r\n              type=\"number\"\r\n              min={1}\r\n              value={topK}\r\n              onChange={(e) => setTopK(Number(e.target.value))}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label>Rerank Limit</Label>\r\n            <Input\r\n              type=\"number\"\r\n              min={1}\r\n              value={rerankLimit}\r\n              onChange={(e) => setRerankLimit(Number(e.target.value))}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label>System Prompt</Label>\r\n            <Textarea\r\n              value={systemPrompt ?? defaultPrompt}\r\n              onChange={(e) => setSystemPrompt(e.target.value)}\r\n              className=\"max-h-[200px]\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label>Temperature</Label>\r\n            <Input\r\n              type=\"number\"\r\n              value={temperature}\r\n              min={0}\r\n              max={1}\r\n              step={0.1}\r\n              onChange={(e) => setTemperature(Number(e.target.value))}\r\n            />\r\n          </div>\r\n\r\n          <DialogFooter className=\"mt-5 flex justify-between\">\r\n            <Button variant=\"outline\" onClick={handleReset} type=\"button\">\r\n              Reset\r\n            </Button>\r\n            <Button type=\"submit\">Save</Button>\r\n          </DialogFooter>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5536, "column": 0}, "map": {"version":3,"sources":["file:///C:/app/agentset/apps/web/src/app/app.agentset.ai/%28dashboard%29/%5Bslug%5D/%5BnamespaceSlug%5D/playground/chat-actions.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useNamespaceChat } from \"@/components/chat/use-chat\";\r\nimport {\r\n  aiSdkExample,\r\n  curlExample,\r\n  tsSdkExample,\r\n} from \"@/lib/code-examples/playground\";\r\nimport { PlusIcon } from \"lucide-react\";\r\n\r\nimport { Button } from \"@agentset/ui\";\r\n\r\nimport ApiDialog from \"./api-dialog\";\r\nimport ChatSettings from \"./chat-settings\";\r\n\r\nexport default function ChatActions() {\r\n  const { setMessages } = useNamespaceChat();\r\n\r\n  const resetChat = () => {\r\n    setMessages([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-2 pr-10\">\r\n      <Button variant=\"outline\" onClick={resetChat}>\r\n        <PlusIcon className=\"size-4\" />\r\n        New Chat\r\n      </Button>\r\n\r\n      <ChatSettings />\r\n\r\n      <ApiDialog\r\n        description=\"Use the API to query the vector store. You'll need make an API key first.\"\r\n        tabs={[\r\n          { title: \"cURL\", code: curlExample },\r\n          { title: \"Javascript\", code: tsSdkExample },\r\n          { title: \"AI SDK\", code: aiSdkExample },\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAKA;AAEA;AAAA;AAEA;AACA;AAbA;;;;;;;;AAee,SAAS;IACtB,MAAM,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,uJAAA,CAAA,mBAAgB,AAAD;IAEvC,MAAM,YAAY;QAChB,YAAY,EAAE;IAChB;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,8IAAA,CAAA,SAAM;gBAAC,SAAQ;gBAAU,SAAS;;kCACjC,8OAAC,sMAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;oBAAW;;;;;;;0BAIjC,8OAAC,uOAAA,CAAA,UAAY;;;;;0BAEb,8OAAC,oOAAA,CAAA,UAAS;gBACR,aAAY;gBACZ,MAAM;oBACJ;wBAAE,OAAO;wBAAQ,MAAM,2JAAA,CAAA,cAAW;oBAAC;oBACnC;wBAAE,OAAO;wBAAc,MAAM,2JAAA,CAAA,eAAY;oBAAC;oBAC1C;wBAAE,OAAO;wBAAU,MAAM,2JAAA,CAAA,eAAY;oBAAC;iBACvC;;;;;;;;;;;;AAIT","debugId":null}}]
}